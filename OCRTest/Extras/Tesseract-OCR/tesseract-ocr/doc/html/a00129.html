<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tesseract: tesseract::Dict Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tesseract
   &#160;<span id="projectnumber">3.02</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00129.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">tesseract::Dict Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="a00803_source.html">dict.h</a>&gt;</code></p>

<p><a href="a01355.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac11f84cc25bbf53314c0acda453949df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ac11f84cc25bbf53314c0acda453949df">Dict</a> (<a class="el" href="a00186.html">Image</a> *image_ptr)</td></tr>
<tr class="memitem:ab471fe748aa77118175b04caaa4283df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ab471fe748aa77118175b04caaa4283df">~Dict</a> ()</td></tr>
<tr class="memitem:a4acbe41544b8cdb7008d2ddacab10e57"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="a00186.html">Image</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a> () const </td></tr>
<tr class="memitem:a00cf3c479c6090b94b513dbb44edc5e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00186.html">Image</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a00cf3c479c6090b94b513dbb44edc5e3">getImage</a> ()</td></tr>
<tr class="memitem:a635ce00ba9aa24247563d26ae26da631"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="a00387.html">UNICHARSET</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a> () const </td></tr>
<tr class="memitem:acef7ecc6e5fe567fe9646b733df02455"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00387.html">UNICHARSET</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#acef7ecc6e5fe567fe9646b733df02455">getUnicharset</a> ()</td></tr>
<tr class="memitem:a4a886a86bc5d0d4405dd9da165b3e1fd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="a00383.html">UnicharAmbigs</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a4a886a86bc5d0d4405dd9da165b3e1fd">getUnicharAmbigs</a> ()</td></tr>
<tr class="memitem:aa07269a6929862317892af548dc6f78e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aa07269a6929862317892af548dc6f78e">compound_marker</a> (<a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id)</td></tr>
<tr class="memitem:aebd1e3d92b2ec23c03807dd7ede45a40"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aebd1e3d92b2ec23c03807dd7ede45a40">hyphenated</a> () const </td></tr>
<tr class="memdesc:aebd1e3d92b2ec23c03807dd7ede45a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if we've recorded the beginning of a hyphenated word.  <a href="#aebd1e3d92b2ec23c03807dd7ede45a40"></a><br/></td></tr>
<tr class="memitem:a8431d26ec0e13f6d2a77d7ba3b1823ce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a8431d26ec0e13f6d2a77d7ba3b1823ce">hyphen_base_size</a> () const </td></tr>
<tr class="memdesc:a8431d26ec0e13f6d2a77d7ba3b1823ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the base word (the part on the line before) of a hyphenated word.  <a href="#a8431d26ec0e13f6d2a77d7ba3b1823ce"></a><br/></td></tr>
<tr class="memitem:a673dcd602bce4530c4cc2fe875cbc2a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a673dcd602bce4530c4cc2fe875cbc2a9">copy_hyphen_info</a> (<a class="el" href="a00395.html">WERD_CHOICE</a> *word) const </td></tr>
<tr class="memitem:ab09707f3ebd6dbbc9eda8c1bc1ba2b32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ab09707f3ebd6dbbc9eda8c1bc1ba2b32">remove_hyphen_head</a> (<a class="el" href="a00395.html">WERD_CHOICE</a> *word) const </td></tr>
<tr class="memitem:aad63b54f05d3faaee2b8caec2a5145d7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aad63b54f05d3faaee2b8caec2a5145d7">has_hyphen_end</a> (<a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id, bool first_pos) const </td></tr>
<tr class="memdesc:aad63b54f05d3faaee2b8caec2a5145d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the word has a hyphen at the end.  <a href="#aad63b54f05d3faaee2b8caec2a5145d7"></a><br/></td></tr>
<tr class="memitem:abc8dcda3db471510c7834edacac8cebd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#abc8dcda3db471510c7834edacac8cebd">has_hyphen_end</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;word) const </td></tr>
<tr class="memdesc:abc8dcda3db471510c7834edacac8cebd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as above, but check the unichar at the end of the word.  <a href="#abc8dcda3db471510c7834edacac8cebd"></a><br/></td></tr>
<tr class="memitem:a6b7508e4459f295073316fff69a05ee9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a6b7508e4459f295073316fff69a05ee9">reset_hyphen_vars</a> (bool last_word_on_line)</td></tr>
<tr class="memitem:ad8bc29be3c9d8ae5bdb7ec972216ad28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ad8bc29be3c9d8ae5bdb7ec972216ad28">set_hyphen_word</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;word, const <a class="el" href="a00125.html">DawgInfoVector</a> &amp;active_dawgs, const <a class="el" href="a00125.html">DawgInfoVector</a> &amp;constraints)</td></tr>
<tr class="memitem:a8aa52c89f34bc5158cc650699520b50b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a8aa52c89f34bc5158cc650699520b50b">update_best_choice</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;word, <a class="el" href="a00395.html">WERD_CHOICE</a> *best_choice)</td></tr>
<tr class="memitem:aeb0ba1d301def04d0ca191582f032c78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aeb0ba1d301def04d0ca191582f032c78">init_active_dawgs</a> (int sought_word_length, <a class="el" href="a00125.html">DawgInfoVector</a> *active_dawgs, bool <a class="el" href="a00129.html#a253fac24ccb5cb9d3b467b0a28c1c0f3">ambigs_mode</a>) const </td></tr>
<tr class="memitem:a7e44bdc5e2fe0dbb861dfd1522ef1cec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a7e44bdc5e2fe0dbb861dfd1522ef1cec">init_constraints</a> (<a class="el" href="a00125.html">DawgInfoVector</a> *constraints) const </td></tr>
<tr class="memitem:a253fac24ccb5cb9d3b467b0a28c1c0f3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a253fac24ccb5cb9d3b467b0a28c1c0f3">ambigs_mode</a> (float rating_limit)</td></tr>
<tr class="memdesc:a253fac24ccb5cb9d3b467b0a28c1c0f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if we are operating in ambigs mode.  <a href="#a253fac24ccb5cb9d3b467b0a28c1c0f3"></a><br/></td></tr>
<tr class="memitem:aac6d42fd255de06ec27abf5d7ba086c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aac6d42fd255de06ec27abf5d7ba086c6">dawg_permute_and_select</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, float rating_limit)</td></tr>
<tr class="memitem:a8d9601c5bb5c5050ac8db64ecb1bf2d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a8d9601c5bb5c5050ac8db64ecb1bf2d5">get_top_choice_word</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices)</td></tr>
<tr class="memitem:adfe046fdde238fd1802c5d1771be1671"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#adfe046fdde238fd1802c5d1771be1671">permute_top_choice</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, float *rating_limit, <a class="el" href="a00395.html">WERD_CHOICE</a> *raw_choice, <a class="el" href="a00577.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> *any_alpha)</td></tr>
<tr class="memitem:a578f7cb1945a1ba71f6251065687b555"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a578f7cb1945a1ba71f6251065687b555">permute_all</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, const <a class="el" href="a00395.html">WERD_CHOICE</a> *best_choice, <a class="el" href="a00395.html">WERD_CHOICE</a> *raw_choice)</td></tr>
<tr class="memitem:a2aeffdb2c4e3263a4684b4baff79f91f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a2aeffdb2c4e3263a4684b4baff79f91f">end_permute</a> ()</td></tr>
<tr class="memitem:a837f35af4dee4b03a43a85785af430bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a837f35af4dee4b03a43a85785af430bd">permute_subword</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, float rating_limit, int start, int end, <a class="el" href="a00395.html">WERD_CHOICE</a> *current_word)</td></tr>
<tr class="memitem:ab9c442c6c541ea1be7a0a132aea3af51"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ab9c442c6c541ea1be7a0a132aea3af51">permute_characters</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, <a class="el" href="a00395.html">WERD_CHOICE</a> *best_choice, <a class="el" href="a00395.html">WERD_CHOICE</a> *raw_choice)</td></tr>
<tr class="memitem:a2d718cec31b1cdfccab9f5ad720158ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a2d718cec31b1cdfccab9f5ad720158ba">permute_compound_words</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, float rating_limit)</td></tr>
<tr class="memitem:a28fc3691ebb3ad2911fdc703b3e31ea0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a28fc3691ebb3ad2911fdc703b3e31ea0">permute_fixed_length_words</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, <a class="el" href="a00265.html">PermuterState</a> *permuter_state)</td></tr>
<tr class="memitem:a5b19c61706786b0609613fd0d73c6b42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a5b19c61706786b0609613fd0d73c6b42">incorporate_segcost</a> (<a class="el" href="a00395.html">WERD_CHOICE</a> *word)</td></tr>
<tr class="memdesc:a5b19c61706786b0609613fd0d73c6b42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Incoporate segmentation cost into word rating.  <a href="#a5b19c61706786b0609613fd0d73c6b42"></a><br/></td></tr>
<tr class="memitem:a5de09395ec6b9c6436dcaa9266c78df8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a5de09395ec6b9c6436dcaa9266c78df8">permute_script_words</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, <a class="el" href="a00265.html">PermuterState</a> *permuter_state)</td></tr>
<tr class="memitem:a692e057e716545e386097b40620d636a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a692e057e716545e386097b40620d636a">permute_chartype_words</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, <a class="el" href="a00265.html">PermuterState</a> *permuter_state)</td></tr>
<tr class="memdesc:a692e057e716545e386097b40620d636a"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks for consistency in character property (eg. alpah, digit, punct)  <a href="#a692e057e716545e386097b40620d636a"></a><br/></td></tr>
<tr class="memitem:a49b7fbfcab4bd2783f9620a35e6a673b"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a49b7fbfcab4bd2783f9620a35e6a673b">top_word_chartype</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, char *pos_chartypes)</td></tr>
<tr class="memitem:aef746918c09040cf417f831d07c97072"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aef746918c09040cf417f831d07c97072">NoDangerousAmbig</a> (<a class="el" href="a00395.html">WERD_CHOICE</a> *BestChoice, <a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *fixpt, bool fix_replaceable, <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *Choices, bool *modified_blobs)</td></tr>
<tr class="memitem:a863f4f02d43f02f85d051d9e632c0c4e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a863f4f02d43f02f85d051d9e632c0c4e">StopperAmbigThreshold</a> (double f1, double f2)</td></tr>
<tr class="memitem:ac6b70920a4f5f5e33bfd4be2600d3192"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ac6b70920a4f5f5e33bfd4be2600d3192">FreeBadChoice</a> (void *item1, void *item2)</td></tr>
<tr class="memitem:a8309e93ec65d12110e6f8a1c9b00d7d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a8309e93ec65d12110e6f8a1c9b00d7d4">ReplaceAmbig</a> (int wrong_ngram_begin_index, int wrong_ngram_size, <a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> correct_ngram_id, <a class="el" href="a00395.html">WERD_CHOICE</a> *werd_choice, <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *blob_choices, bool *modified_blobs)</td></tr>
<tr class="memitem:a9c4215da27d2ea4c117d1e6227c5b492"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a9c4215da27d2ea4c117d1e6227c5b492">DisableChoiceAccum</a> ()</td></tr>
<tr class="memitem:a4edfbbb412d84258cc1ef255dfd527aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a4edfbbb412d84258cc1ef255dfd527aa">EnableChoiceAccum</a> ()</td></tr>
<tr class="memitem:ab7b078ed83f6de9d5c767263a8a37070"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ab7b078ed83f6de9d5c767263a8a37070">ChoiceAccumEnabled</a> ()</td></tr>
<tr class="memitem:a0e3e3f5f2bf54b5b2a0aec103c816cd6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a0e3e3f5f2bf54b5b2a0aec103c816cd6">LengthOfShortestAlphaRun</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;WordChoice)</td></tr>
<tr class="memdesc:a0e3e3f5f2bf54b5b2a0aec103c816cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the length of the shortest alpha run in WordChoice.  <a href="#a0e3e3f5f2bf54b5b2a0aec103c816cd6"></a><br/></td></tr>
<tr class="memitem:acc0a47c47ed3fe63f3fd4646ae5ddb80"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#acc0a47c47ed3fe63f3fd4646ae5ddb80">NewViableChoice</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;WordChoice, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> AdjustFactor, const float Certainties[])</td></tr>
<tr class="memitem:ad5343f10220f5882ddaa461b5e89927c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ad5343f10220f5882ddaa461b5e89927c">PrintViableChoice</a> (FILE *File, const char *Label, <a class="el" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a> Choice)</td></tr>
<tr class="memdesc:ad5343f10220f5882ddaa461b5e89927c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps a text representation of the specified Choice to File.  <a href="#ad5343f10220f5882ddaa461b5e89927c"></a><br/></td></tr>
<tr class="memitem:a88ccbd663564a11a95cf9e592c69e8be"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a88ccbd663564a11a95cf9e592c69e8be">StringSameAs</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;WordChoice, <a class="el" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a> ViableChoice)</td></tr>
<tr class="memitem:adc54f2cdac1db76e5fa64039add57eea"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#adc54f2cdac1db76e5fa64039add57eea">StringSameAs</a> (const char *String, const char *String_lengths, <a class="el" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a> ViableChoice)</td></tr>
<tr class="memdesc:adc54f2cdac1db76e5fa64039add57eea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares String to ViableChoice and returns true if they are the same.  <a href="#adc54f2cdac1db76e5fa64039add57eea"></a><br/></td></tr>
<tr class="memitem:a2e14dd61f93ad13fafe4c2e2dae88631"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a2e14dd61f93ad13fafe4c2e2dae88631">UniformCertainties</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;Choices, const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;BestChoice)</td></tr>
<tr class="memitem:a45c6cdeae33daa4ca52a83ad5a59f2f9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a45c6cdeae33daa4ca52a83ad5a59f2f9">AcceptableChoice</a> (<a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *Choices, <a class="el" href="a00395.html">WERD_CHOICE</a> *BestChoice, <a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *fixpt, <a class="el" href="a00812.html#a1902ef46a46c64df98f9a99f6368e4f6">ACCEPTABLE_CHOICE_CALLER</a> caller, bool *modified_blobs)</td></tr>
<tr class="memdesc:a45c6cdeae33daa4ca52a83ad5a59f2f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the given best_choice is good enough to stop.  <a href="#a45c6cdeae33daa4ca52a83ad5a59f2f9"></a><br/></td></tr>
<tr class="memitem:acb222399feb6d3dba3f9c1ac50df1e96"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#acb222399feb6d3dba3f9c1ac50df1e96">AcceptableResult</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;BestChoice)</td></tr>
<tr class="memitem:ace0e51938995068fdb1b115f6be61470"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ace0e51938995068fdb1b115f6be61470">ChoiceSameAs</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;WordChoice, <a class="el" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a> ViableChoice)</td></tr>
<tr class="memitem:a5d0400dc126a0dc472c3c28545da65a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a5d0400dc126a0dc472c3c28545da65a8">LogNewChoice</a> (<a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> AdjustFactor, const float Certainties[], bool raw_choice, <a class="el" href="a00395.html">WERD_CHOICE</a> *WordChoice, const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;blob_choices)</td></tr>
<tr class="memitem:ace7f6baf4e425e1d50aac0d1383eb023"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ace7f6baf4e425e1d50aac0d1383eb023">EndDangerousAmbigs</a> ()</td></tr>
<tr class="memitem:a2a0b6b5be811b039c04dd0cc09436f25"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a2a0b6b5be811b039c04dd0cc09436f25">CurrentBestChoiceIs</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;WordChoice)</td></tr>
<tr class="memdesc:a2a0b6b5be811b039c04dd0cc09436f25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if WordChoice is the same as the current best choice.  <a href="#a2a0b6b5be811b039c04dd0cc09436f25"></a><br/></td></tr>
<tr class="memitem:a5de1b4b567459f520ce3b82b68c2c618"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a5de1b4b567459f520ce3b82b68c2c618">CurrentBestChoiceAdjustFactor</a> ()</td></tr>
<tr class="memdesc:a5de1b4b567459f520ce3b82b68c2c618"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the adjustment factor for the best choice for the current word.  <a href="#a5de1b4b567459f520ce3b82b68c2c618"></a><br/></td></tr>
<tr class="memitem:a0bec277d6338bed058f010f7be969d1e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a0bec277d6338bed058f010f7be969d1e">CurrentWordAmbig</a> ()</td></tr>
<tr class="memdesc:a0bec277d6338bed058f010f7be969d1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if there are multiple good choices for the current word.  <a href="#a0bec277d6338bed058f010f7be969d1e"></a><br/></td></tr>
<tr class="memitem:ac3fda452853da426de36eecfe03d00bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ac3fda452853da426de36eecfe03d00bc">DebugWordChoices</a> ()</td></tr>
<tr class="memdesc:ac3fda452853da426de36eecfe03d00bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the current choices for this word to stdout.  <a href="#ac3fda452853da426de36eecfe03d00bc"></a><br/></td></tr>
<tr class="memitem:af8cbb8ac0beba656f8614f3e01efb601"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#af8cbb8ac0beba656f8614f3e01efb601">PrintAmbigAlternatives</a> (FILE *file, const char *label, int label_num_unichars)</td></tr>
<tr class="memdesc:af8cbb8ac0beba656f8614f3e01efb601"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print all the choices in raw_choices_ list for non 1-1 ambiguities.  <a href="#af8cbb8ac0beba656f8614f3e01efb601"></a><br/></td></tr>
<tr class="memitem:a7b67011e3b43ead95473e2b25798e0fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a7b67011e3b43ead95473e2b25798e0fe">FillViableChoice</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;WordChoice, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> AdjustFactor, const float Certainties[], <a class="el" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a> ViableChoice)</td></tr>
<tr class="memitem:a1f4a0951c1960208fab7c511c90e5477"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a1f4a0951c1960208fab7c511c90e5477">AlternativeChoicesWorseThan</a> (<a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Threshold)</td></tr>
<tr class="memitem:a9ac3719475ad0a39d464307e1bd74ae3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a9ac3719475ad0a39d464307e1bd74ae3">FilterWordChoices</a> ()</td></tr>
<tr class="memitem:af564403205ca1603825a3a2f59727089"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#af564403205ca1603825a3a2f59727089">FindClassifierErrors</a> (<a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> MinRating, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> MaxRating, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> RatingMargin, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Thresholds[])</td></tr>
<tr class="memitem:a13fed9e3e317b901d4728a77f3396907"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a13fed9e3e317b901d4728a77f3396907">InitChoiceAccum</a> ()</td></tr>
<tr class="memitem:a4fc10a65be799fa59c39cae57379dc17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a4fc10a65be799fa59c39cae57379dc17">ClearBestChoiceAccum</a> ()</td></tr>
<tr class="memdesc:a4fc10a65be799fa59c39cae57379dc17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears best_choices_ list accumulated by the stopper.  <a href="#a4fc10a65be799fa59c39cae57379dc17"></a><br/></td></tr>
<tr class="memitem:a767d9d6e0095d70f2905dac7d48c32c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a767d9d6e0095d70f2905dac7d48c32c5">LogNewSegmentation</a> (<a class="el" href="a00810.html#a5fa79db9c64231406ef3807adfad627d">PIECES_STATE</a> BlobWidth)</td></tr>
<tr class="memitem:aa5ce917212da08cba99df7966c9e84cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aa5ce917212da08cba99df7966c9e84cc">LogNewSplit</a> (int Blob)</td></tr>
<tr class="memitem:a9c59eace80232070d11e04794078d7b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a9c59eace80232070d11e04794078d7b8">AddNewChunk</a> (<a class="el" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a> Choice, int Blob)</td></tr>
<tr class="memitem:aec7160ce69f6f7d478110b95b729d523"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aec7160ce69f6f7d478110b95b729d523">SettupStopperPass1</a> ()</td></tr>
<tr class="memdesc:aec7160ce69f6f7d478110b95b729d523"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up stopper variables in preparation for the first pass.  <a href="#aec7160ce69f6f7d478110b95b729d523"></a><br/></td></tr>
<tr class="memitem:a29f0c2e6c8a7b5fb44bb39ce47ceef84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a29f0c2e6c8a7b5fb44bb39ce47ceef84">SettupStopperPass2</a> ()</td></tr>
<tr class="memdesc:a29f0c2e6c8a7b5fb44bb39ce47ceef84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up stopper variables in preparation for the second pass.  <a href="#a29f0c2e6c8a7b5fb44bb39ce47ceef84"></a><br/></td></tr>
<tr class="memitem:a207372c8db41e16c13eda896c7e77665"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a207372c8db41e16c13eda896c7e77665">case_ok</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;word, const <a class="el" href="a00387.html">UNICHARSET</a> &amp;unicharset)</td></tr>
<tr class="memdesc:a207372c8db41e16c13eda896c7e77665"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check a string to see if it matches a set of lexical rules.  <a href="#a207372c8db41e16c13eda896c7e77665"></a><br/></td></tr>
<tr class="memitem:ae9bc2b027bd999d646968aa445908efc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ae9bc2b027bd999d646968aa445908efc">absolute_garbage</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;word, const <a class="el" href="a00387.html">UNICHARSET</a> &amp;unicharset)</td></tr>
<tr class="memitem:a1cb09562db2f2c8951f8dc21cf7bc279"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a1cb09562db2f2c8951f8dc21cf7bc279">Load</a> ()</td></tr>
<tr class="memitem:a899e3d5588422e9dac68ac5049069dd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a899e3d5588422e9dac68ac5049069dd4">End</a> ()</td></tr>
<tr class="memitem:ab4147968ed69fe22a5acbebcff3472f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ab4147968ed69fe22a5acbebcff3472f0">ResetDocumentDictionary</a> ()</td></tr>
<tr class="memitem:ae92c303dc7451b3836cc9669e80090c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ae92c303dc7451b3836cc9669e80090c0">LoadEquivalenceList</a> (const char *unichar_strings[])</td></tr>
<tr class="memitem:a57be0143dbad3201d0d2ce002ae9bce8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a57be0143dbad3201d0d2ce002ae9bce8">NormalizeUnicharIdForMatch</a> (<a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id) const </td></tr>
<tr class="memitem:acd45e378f915e3dd4bb18a8930e928c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#acd45e378f915e3dd4bb18a8930e928c9">def_letter_is_okay</a> (void *void_dawg_args, <a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id, bool word_end) const </td></tr>
<tr class="memitem:ad6da76c8b85b90df51029d705590e1cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ad6da76c8b85b90df51029d705590e1cf">LetterIsOkay</a> (void *void_dawg_args, <a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id, bool word_end) const </td></tr>
<tr class="memdesc:ad6da76c8b85b90df51029d705590e1cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls letter_is_okay_ member function.  <a href="#ad6da76c8b85b90df51029d705590e1cf"></a><br/></td></tr>
<tr class="memitem:abc4cf75b1bd5f5cb0f733c92afeb5239"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#abc4cf75b1bd5f5cb0f733c92afeb5239">ProbabilityInContext</a> (const char *context, int context_bytes, const char *<a class="el" href="a00670.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>, int character_bytes)</td></tr>
<tr class="memdesc:abc4cf75b1bd5f5cb0f733c92afeb5239"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls probability_in_context_ member function.  <a href="#abc4cf75b1bd5f5cb0f733c92afeb5239"></a><br/></td></tr>
<tr class="memitem:a8f256b3bc0e806c492837ee0d8a0fc97"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a8f256b3bc0e806c492837ee0d8a0fc97">def_probability_in_context</a> (const char *lang, const char *context, int context_bytes, const char *<a class="el" href="a00670.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>, int character_bytes)</td></tr>
<tr class="memdesc:a8f256b3bc0e806c492837ee0d8a0fc97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default (no-op) implementation of probability in context function.  <a href="#a8f256b3bc0e806c492837ee0d8a0fc97"></a><br/></td></tr>
<tr class="memitem:a895648f0134d56262368e64ee35a6b12"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a895648f0134d56262368e64ee35a6b12">ngram_probability_in_context</a> (const char *lang, const char *context, int context_bytes, const char *<a class="el" href="a00670.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>, int character_bytes)</td></tr>
<tr class="memitem:a0a380d8e3aa8e0d3827b18ad5355b258"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a0a380d8e3aa8e0d3827b18ad5355b258">NumDawgs</a> () const </td></tr>
<tr class="memdesc:a0a380d8e3aa8e0d3827b18ad5355b258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of dawgs in the dawgs_ vector.  <a href="#a0a380d8e3aa8e0d3827b18ad5355b258"></a><br/></td></tr>
<tr class="memitem:a774c3a8e23c9e4f47412936b304dae03"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="a00122.html">Dawg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a774c3a8e23c9e4f47412936b304dae03">GetDawg</a> (int index) const </td></tr>
<tr class="memdesc:a774c3a8e23c9e4f47412936b304dae03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return i-th dawg pointer recorded in the dawgs_ vector.  <a href="#a774c3a8e23c9e4f47412936b304dae03"></a><br/></td></tr>
<tr class="memitem:a7378d34b2d5ede5f2d40dcb8932bab9d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="a00122.html">Dawg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a7378d34b2d5ede5f2d40dcb8932bab9d">GetPuncDawg</a> () const </td></tr>
<tr class="memdesc:a7378d34b2d5ede5f2d40dcb8932bab9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the points to the punctuation dawg.  <a href="#a7378d34b2d5ede5f2d40dcb8932bab9d"></a><br/></td></tr>
<tr class="memitem:a805761b3e96514664545e7f0603c0627"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="a00122.html">Dawg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a805761b3e96514664545e7f0603c0627">GetUnambigDawg</a> () const </td></tr>
<tr class="memdesc:a805761b3e96514664545e7f0603c0627"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the points to the unambiguous words dawg.  <a href="#a805761b3e96514664545e7f0603c0627"></a><br/></td></tr>
<tr class="memitem:a0e4f813ccf9441d2e7b90da31494fdc2"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="a00122.html">Dawg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a0e4f813ccf9441d2e7b90da31494fdc2">GetFixedLengthDawg</a> (int word_length) const </td></tr>
<tr class="memdesc:a0e4f813ccf9441d2e7b90da31494fdc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the pointer to the <a class="el" href="a00122.html">Dawg</a> that contains words of length word_length.  <a href="#a0e4f813ccf9441d2e7b90da31494fdc2"></a><br/></td></tr>
<tr class="memitem:a44c62a7904145157e4aa303fcf6ef923"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a44c62a7904145157e4aa303fcf6ef923">GetMaxFixedLengthDawgIndex</a> () const </td></tr>
<tr class="memitem:a5de64b7d07afaeb33408ee296db75f5d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a5de64b7d07afaeb33408ee296db75f5d">ConstraintsOk</a> (const <a class="el" href="a00125.html">DawgInfoVector</a> &amp;constraints, int word_end, <a class="el" href="a00995.html#a07c41f251f1782c60df4e626c35d2151">DawgType</a> current_dawg_type) const </td></tr>
<tr class="memitem:a9e46362693e817dcc2f8265854679c80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a9e46362693e817dcc2f8265854679c80">ProcessPatternEdges</a> (const <a class="el" href="a00122.html">Dawg</a> *dawg, const <a class="el" href="a00124.html">DawgInfo</a> &amp;info, <a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id, bool word_end, <a class="el" href="a00123.html">DawgArgs</a> *dawg_args, PermuterType *current_permuter) const </td></tr>
<tr class="memitem:a22a45cd03f5d2191d0aeba41e3b4f52f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a22a45cd03f5d2191d0aeba41e3b4f52f">valid_word</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;word, bool numbers_ok) const </td></tr>
<tr class="memitem:aa62d7c85fe5c5dd756012fdc7a62316a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aa62d7c85fe5c5dd756012fdc7a62316a">valid_word</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;word) const </td></tr>
<tr class="memitem:aa3ae4cee802f176e3dedb3b7231ad5f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aa3ae4cee802f176e3dedb3b7231ad5f0">valid_word_or_number</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;word) const </td></tr>
<tr class="memitem:a57bd14dfa9f7fb48e7de2ab463ae9f2f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a57bd14dfa9f7fb48e7de2ab463ae9f2f">valid_word</a> (const char *string) const </td></tr>
<tr class="memdesc:a57bd14dfa9f7fb48e7de2ab463ae9f2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used by api/tesseract_cube_combiner.cpp.  <a href="#a57bd14dfa9f7fb48e7de2ab463ae9f2f"></a><br/></td></tr>
<tr class="memitem:a562ac7b572107d301b4730dca4d89a57"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a562ac7b572107d301b4730dca4d89a57">valid_bigram</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;word1, const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;word2) const </td></tr>
<tr class="memitem:aaed3895d9553f4110c693593c89650fa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aaed3895d9553f4110c693593c89650fa">valid_punctuation</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;word)</td></tr>
<tr class="memitem:ac47e049c0ed569cd8cc1799ac2935f3d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ac47e049c0ed569cd8cc1799ac2935f3d">good_choice</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;choice)</td></tr>
<tr class="memdesc:ac47e049c0ed569cd8cc1799ac2935f3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if a good answer is found for the unknown blob rating.  <a href="#ac47e049c0ed569cd8cc1799ac2935f3d"></a><br/></td></tr>
<tr class="memitem:ad59baa4e54f780a492cebd8f8dc0b025"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ad59baa4e54f780a492cebd8f8dc0b025">add_document_word</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;best_choice)</td></tr>
<tr class="memdesc:ad59baa4e54f780a492cebd8f8dc0b025"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a word found on this document to the document specific dictionary.  <a href="#ad59baa4e54f780a492cebd8f8dc0b025"></a><br/></td></tr>
<tr class="memitem:a268a065cccec5814d412d7bde583cc3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a268a065cccec5814d412d7bde583cc3e">get_top_word_script</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, const <a class="el" href="a00387.html">UNICHARSET</a> &amp;unicharset)</td></tr>
<tr class="memitem:a61963914ca2d287fea0db951104d6eac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a61963914ca2d287fea0db951104d6eac">adjust_word</a> (<a class="el" href="a00395.html">WERD_CHOICE</a> *word, float *certainty_array, const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *char_choices, bool nonword, float additional_adjust, bool debug)</td></tr>
<tr class="memdesc:a61963914ca2d287fea0db951104d6eac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjusts the rating of the given word.  <a href="#a61963914ca2d287fea0db951104d6eac"></a><br/></td></tr>
<tr class="memitem:ad4908385c6cd2afa635d90e9589cb7dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ad4908385c6cd2afa635d90e9589cb7dd">adjust_word</a> (<a class="el" href="a00395.html">WERD_CHOICE</a> *word, float *certainty_array, const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *char_choices, bool debug)</td></tr>
<tr class="memitem:aee01b74007e1fc5a172a5534c5ef3cae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aee01b74007e1fc5a172a5534c5ef3cae">adjust_non_word</a> (<a class="el" href="a00395.html">WERD_CHOICE</a> *word, float *certainty_array, const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *char_choices, bool debug)</td></tr>
<tr class="memitem:a1ed6ea4bcf2cb841fea2fef21ec656d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a1ed6ea4bcf2cb841fea2fef21ec656d4">SetWordsegRatingAdjustFactor</a> (float <a class="el" href="a00428.html#a469169df397b589e709dc744f1346831">f</a>)</td></tr>
<tr class="memdesc:a1ed6ea4bcf2cb841fea2fef21ec656d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set wordseg_rating_adjust_factor_ to the given value.  <a href="#a1ed6ea4bcf2cb841fea2fef21ec656d4"></a><br/></td></tr>
<tr class="memitem:ade61fd4f5d0ecf8fba10c99a4b224c8a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="a00407.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ade61fd4f5d0ecf8fba10c99a4b224c8a">getBestChoices</a> ()</td></tr>
<tr><td colspan="2"><div class="groupHeader">go_deeper_dawg_fxn</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>If the choice being composed so far could be a dictionary word keep exploring choices.</p>
<p>There are two modes for deciding whether to go deeper: regular dawg permuter mode and the special ambigs mode. If *limit is &lt;= 0.0 the function switches to the ambigs mode (this is the case when <a class="el" href="a00129.html#ac787e92f677e96a926d0c79e46a15461">dawg_permute_and_select()</a> function is called from NoDangerousAmbigs()) and only searches for the first choice that has a rating better than *limit (in this case ratings are fake, since the real ratings can not be &lt; 0). Modification of the hyphen state is turned off in the ambigs mode. When in the regular dawg permuter mode, the function explores all the possible words and chooses the one with the best rating. The letters with ratings that are far worse than the ones seen so far are pruned out. </p>
</div></td></tr>
<tr class="memitem:ac787e92f677e96a926d0c79e46a15461"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ac787e92f677e96a926d0c79e46a15461">dawg_permute_and_select</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, float rating_limit, int sought_word_length, int end_char_choice_index)</td></tr>
<tr class="memitem:ad6dd8117fc7d3d6a2271a501955eb187"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ad6dd8117fc7d3d6a2271a501955eb187">go_deeper_dawg_fxn</a> (const char *debug, const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, int char_choice_index, const <a class="el" href="a00075.html">CHAR_FRAGMENT_INFO</a> *prev_char_frag_info, bool word_ending, <a class="el" href="a00395.html">WERD_CHOICE</a> *word, float certainties[], float *limit, <a class="el" href="a00395.html">WERD_CHOICE</a> *best_choice, int *attempts_left, void *void_more_args)</td></tr>
<tr><td colspan="2"><div class="groupHeader">choose_il1</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Choose between the candidate il1 chars. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">first_char</td><td>first choice </td></tr>
    <tr><td class="paramname">second_char</td><td>second choice </td></tr>
    <tr><td class="paramname">third_char</td><td>third choice </td></tr>
    <tr><td class="paramname">prev_char</td><td>prev in word </td></tr>
    <tr><td class="paramname">next_char</td><td>next in word </td></tr>
    <tr><td class="paramname">next_next_char</td><td>after next next in word </td></tr>
  </table>
  </dd>
</dl>
</div></td></tr>
<tr class="memitem:abd556d948d000e8eda51875b82ee4449"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#abd556d948d000e8eda51875b82ee4449">choose_il1</a> (const char *first_char, const char *second_char, const char *third_char, const char *prev_char, const char *next_char, const char *next_next_char)</td></tr>
<tr><td colspan="2"><div class="groupHeader">fragment_state</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Given the current char choice and information about previously seen fragments, determines whether adjacent character fragments are present and whether they can be concatenated.</p>
<p>The given prev_char_frag_info contains:</p>
<ul>
<li>fragment: if not NULL contains information about immediately preceeding fragmented character choice</li>
<li>num_fragments: number of fragments that have been used so far to construct a character</li>
<li>certainty: certainty of the current choice or minimum certainty of all fragments concatenated so far</li>
<li>rating: rating of the current choice or sum of fragment ratings concatenated so far</li>
</ul>
<p>The output char_frag_info is filled in as follows:</p>
<ul>
<li>character: is set to be NULL if the choice is a non-matching or non-ending fragment piece; is set to unichar of the given choice if it represents a regular character or a matching ending fragment</li>
<li>fragment,num_fragments,certainty,rating are set as described above</li>
</ul>
<dl class="section return"><dt>Returns:</dt><dd>false if a non-matching fragment is discovered, true otherwise. </dd></dl>
</div></td></tr>
<tr class="memitem:a632d8c752369e54bb548e0a35dd7e100"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a632d8c752369e54bb548e0a35dd7e100">top_fragments_permute_and_select</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, float rating_limit)</td></tr>
<tr class="memitem:a12cc7c10929b310dd23baee1ab1e972b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a12cc7c10929b310dd23baee1ab1e972b">go_deeper_top_fragments_fxn</a> (const char *debug, const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, int char_choice_index, const <a class="el" href="a00075.html">CHAR_FRAGMENT_INFO</a> *prev_char_frag_info, bool word_ending, <a class="el" href="a00395.html">WERD_CHOICE</a> *word, float certainties[], float *limit, <a class="el" href="a00395.html">WERD_CHOICE</a> *best_choice, int *attempts_left, void *more_args)</td></tr>
<tr class="memitem:af58a79352c0ac94a552a9b2136b1682a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#af58a79352c0ac94a552a9b2136b1682a">fragment_state_okay</a> (<a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> curr_unichar_id, float curr_rating, float curr_certainty, const <a class="el" href="a00075.html">CHAR_FRAGMENT_INFO</a> *prev_char_frag_info, const char *debug, int word_ending, <a class="el" href="a00075.html">CHAR_FRAGMENT_INFO</a> *char_frag_info)</td></tr>
<tr class="memdesc:af58a79352c0ac94a552a9b2136b1682a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Semi-generic functions used by multiple permuters.  <a href="#af58a79352c0ac94a552a9b2136b1682a"></a><br/></td></tr>
<tr class="memitem:a0ceb12c3a410ba12fdb9a93df11d47e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a0ceb12c3a410ba12fdb9a93df11d47e2">permute_choices</a> (const char *debug, const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, int char_choice_index, const <a class="el" href="a00075.html">CHAR_FRAGMENT_INFO</a> *prev_char_frag_info, <a class="el" href="a00395.html">WERD_CHOICE</a> *word, float certainties[], float *limit, <a class="el" href="a00395.html">WERD_CHOICE</a> *best_choice, int *attempts_left, void *more_args)</td></tr>
<tr class="memitem:a1fd1f849b292727334cdbdee03d6cdfc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a1fd1f849b292727334cdbdee03d6cdfc">append_choices</a> (const char *debug, const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, const <a class="el" href="a00052.html">BLOB_CHOICE</a> &amp;blob_choice, int char_choice_index, const <a class="el" href="a00075.html">CHAR_FRAGMENT_INFO</a> *prev_char_frag_info, <a class="el" href="a00395.html">WERD_CHOICE</a> *word, float certainties[], float *limit, <a class="el" href="a00395.html">WERD_CHOICE</a> *best_choice, int *attempts_left, void *more_args)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aa98baea7a97174cb256643c407c81993"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="a00801.html#ac76aca11806fd7167c274dc45b7f7fe8">NODE_REF</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aa98baea7a97174cb256643c407c81993">GetStartingNode</a> (const <a class="el" href="a00122.html">Dawg</a> *dawg, <a class="el" href="a00801.html#a178eb445f9820b58d062f0c988a6f54f">EDGE_REF</a> edge_ref)</td></tr>
<tr class="memdesc:aa98baea7a97174cb256643c407c81993"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the appropriate next node given the EDGE_REF.  <a href="#aa98baea7a97174cb256643c407c81993"></a><br/></td></tr>
<tr class="memitem:a741bbc38aa86c057b2b431c716519cc8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a741bbc38aa86c057b2b431c716519cc8">ReadFixedLengthDawgs</a> (<a class="el" href="a00995.html#a07c41f251f1782c60df4e626c35d2151">DawgType</a> type, const <a class="el" href="a00319.html">STRING</a> &amp;lang, PermuterType perm, int debug_level, FILE *file, <a class="el" href="a00995.html#a8dc259fa09d9302b96f5b3d2aad10c9f">DawgVector</a> *dawg_vec, int *max_wdlen)</td></tr>
<tr class="memitem:a21f1ab419db2b1bb8f375bd9b5935ade"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a21f1ab419db2b1bb8f375bd9b5935ade">WriteFixedLengthDawgs</a> (const <a class="el" href="a00175.html">GenericVector</a>&lt; <a class="el" href="a00315.html">SquishedDawg</a> * &gt; &amp;dawg_vec, int num_dawgs, int debug_level, FILE *output_file)</td></tr>
<tr class="memitem:af873650961191c2a844eed47c0829421"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#af873650961191c2a844eed47c0829421">valid_word_permuter</a> (<a class="el" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> perm, bool numbers_ok)</td></tr>
<tr class="memdesc:af873650961191c2a844eed47c0829421"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check all the DAWGs to see if this word is in any of them.  <a href="#af873650961191c2a844eed47c0829421"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a5f6572f1ce1ce687a367de82aec90557"><td class="memItemLeft" align="right" valign="top">void(Dict::*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a5f6572f1ce1ce687a367de82aec90557">go_deeper_fxn_</a> )(const char *debug, const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, int char_choice_index, const <a class="el" href="a00075.html">CHAR_FRAGMENT_INFO</a> *prev_char_frag_info, bool word_ending, <a class="el" href="a00395.html">WERD_CHOICE</a> *word, float certainties[], float *limit, <a class="el" href="a00395.html">WERD_CHOICE</a> *best_choice, int *attempts_left, void *void_more_args)</td></tr>
<tr class="memdesc:a5f6572f1ce1ce687a367de82aec90557"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to go_deeper function that will be modified by various permuters.  <a href="#a5f6572f1ce1ce687a367de82aec90557"></a><br/></td></tr>
<tr class="memitem:a802de385e07531ace182d16653e35f71"><td class="memItemLeft" align="right" valign="top">int(Dict::*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a802de385e07531ace182d16653e35f71">letter_is_okay_</a> )(void *void_dawg_args, <a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id, bool word_end) const </td></tr>
<tr class="memitem:a7ac1496aaae5e9977a31a2781e7866f0"><td class="memItemLeft" align="right" valign="top">double(Dict::*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a7ac1496aaae5e9977a31a2781e7866f0">probability_in_context_</a> )(const char *lang, const char *context, int context_bytes, const char *<a class="el" href="a00670.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>, int character_bytes)</td></tr>
<tr class="memdesc:a7ac1496aaae5e9977a31a2781e7866f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Probability in context function used by the ngram permuter.  <a href="#a7ac1496aaae5e9977a31a2781e7866f0"></a><br/></td></tr>
<tr class="memitem:ada6d04f60ef05aee517f3d24c6d6e9c9"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ada6d04f60ef05aee517f3d24c6d6e9c9">user_words_suffix</a> = &quot;&quot;</td></tr>
<tr class="memitem:a503479ae064fd0f67f2bd71a3a4c3c47"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a503479ae064fd0f67f2bd71a3a4c3c47">user_patterns_suffix</a> = &quot;&quot;</td></tr>
<tr class="memitem:aa94c8519d79413969cbf94c9a9efcbd1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aa94c8519d79413969cbf94c9a9efcbd1">load_system_dawg</a> = true</td></tr>
<tr class="memitem:a70cf001f370ad12c08ba7e1796d27cae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a70cf001f370ad12c08ba7e1796d27cae">load_freq_dawg</a> = true</td></tr>
<tr class="memitem:a73345ee670e9fd3a1ecad89e2fad1367"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a73345ee670e9fd3a1ecad89e2fad1367">load_unambig_dawg</a> = true</td></tr>
<tr class="memitem:a3b017913ebeea374f4910f52ef21f8e7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a3b017913ebeea374f4910f52ef21f8e7">load_punc_dawg</a> = true</td></tr>
<tr class="memitem:a6d798a7eba3e146a9acae6b307b59d81"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a6d798a7eba3e146a9acae6b307b59d81">load_number_dawg</a> = true</td></tr>
<tr class="memitem:a1d85e18142cb329265eba1aa4b729cc7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a1d85e18142cb329265eba1aa4b729cc7">load_fixed_length_dawgs</a> = true</td></tr>
<tr class="memitem:adcf2c1a0ac63eb2bd393c57288362f4c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#adcf2c1a0ac63eb2bd393c57288362f4c">load_bigram_dawg</a> = false</td></tr>
<tr class="memitem:a6c5895e0ed2eae93f360b36efd78dfe5"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a6c5895e0ed2eae93f360b36efd78dfe5">segment_penalty_dict_frequent_word</a> = 1.0</td></tr>
<tr class="memitem:a1fa994ce1b5b86d436eb2ab3f2ffbe1b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a1fa994ce1b5b86d436eb2ab3f2ffbe1b">segment_penalty_dict_case_ok</a> = 1.1</td></tr>
<tr class="memitem:a3aa39d0dfa6e33481953461fdece4d38"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a3aa39d0dfa6e33481953461fdece4d38">segment_penalty_dict_case_bad</a> = 1.3125</td></tr>
<tr class="memitem:a0469526f34710b7ef0f79584a547919a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a0469526f34710b7ef0f79584a547919a">segment_penalty_ngram_best_choice</a> = 1.24</td></tr>
<tr class="memitem:a4a192a4266de4fecbf296101d60ace2b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a4a192a4266de4fecbf296101d60ace2b">segment_penalty_dict_nonword</a> = 1.25</td></tr>
<tr class="memitem:a683a1781be97f4376fa1c01bded08e66"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a683a1781be97f4376fa1c01bded08e66">segment_penalty_garbage</a> = 1.50</td></tr>
<tr class="memitem:acae35981fc849d608182db8cfe881b0b"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#acae35981fc849d608182db8cfe881b0b">output_ambig_words_file</a> = &quot;&quot;</td></tr>
<tr class="memitem:a1971c014e816a08c8deaa45fc8d6fff4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> = 0</td></tr>
<tr class="memitem:add6604e6b4ce6ffd77c78d58b8a3244a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#add6604e6b4ce6ffd77c78d58b8a3244a">hyphen_debug_level</a> = 0</td></tr>
<tr class="memitem:a86ce83b9aa78f6f95a83e95bc3f1d1e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a86ce83b9aa78f6f95a83e95bc3f1d1e4">max_viterbi_list_size</a> = 10</td></tr>
<tr class="memitem:aa45bac6fe79a370226cf119c66d2fe7e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aa45bac6fe79a370226cf119c66d2fe7e">use_only_first_uft8_step</a> = false</td></tr>
<tr class="memitem:a054d69744519c2c7a89e7b1159347385"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a054d69744519c2c7a89e7b1159347385">certainty_scale</a> = 20.0</td></tr>
<tr class="memitem:a793fa27917d4728c9d07b667a039c1e5"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a793fa27917d4728c9d07b667a039c1e5">stopper_nondict_certainty_base</a> = -2.50</td></tr>
<tr class="memitem:a73282067f0bb86fcaf689b9202bb6702"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a73282067f0bb86fcaf689b9202bb6702">stopper_phase2_certainty_rejection_offset</a> = 1.0</td></tr>
<tr class="memitem:af37cc8127c3872088d93aabaf3453e25"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#af37cc8127c3872088d93aabaf3453e25">stopper_smallword_size</a> = 2</td></tr>
<tr class="memitem:aa996712ed754700ede71a883d4211019"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aa996712ed754700ede71a883d4211019">stopper_certainty_per_char</a> = -0.50</td></tr>
<tr class="memitem:a105fa57ee5545f36fc0f1baf89d2d3af"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a105fa57ee5545f36fc0f1baf89d2d3af">stopper_allowable_character_badness</a> = 3.0</td></tr>
<tr class="memitem:aae528f9618755dee3ab974f06f1794ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> = 0</td></tr>
<tr class="memitem:a444f71f744f92cfcd58dea0a2255e044"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a444f71f744f92cfcd58dea0a2255e044">stopper_no_acceptable_choices</a> = false</td></tr>
<tr class="memitem:a646d0403be41d8484d68250136f915f4"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a646d0403be41d8484d68250136f915f4">stopper_ambiguity_threshold_gain</a> = 8.0</td></tr>
<tr class="memitem:a81ce7deec4aee35f855d92f31e3c7463"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a81ce7deec4aee35f855d92f31e3c7463">stopper_ambiguity_threshold_offset</a> = 1.5</td></tr>
<tr class="memitem:a0abfd0b48eb83f07ef6db2baf9f189e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a0abfd0b48eb83f07ef6db2baf9f189e1">save_raw_choices</a> = false</td></tr>
<tr class="memitem:a5b1b181a4638784a6225a508b810dbc9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a5b1b181a4638784a6225a508b810dbc9">tessedit_truncate_wordchoice_log</a> = 10</td></tr>
<tr class="memitem:aa858b147d2551976cea6cc174544988e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#aa858b147d2551976cea6cc174544988e">word_to_debug</a> = &quot;&quot;</td></tr>
<tr class="memitem:a2fe5a98d91c6d9c8b655780cfa8654a4"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a2fe5a98d91c6d9c8b655780cfa8654a4">word_to_debug_lengths</a> = &quot;&quot;</td></tr>
<tr class="memitem:ad5e37470ce50ef6e19c291cd12b0d123"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ad5e37470ce50ef6e19c291cd12b0d123">fragments_debug</a> = 0</td></tr>
<tr class="memitem:ac1e26982bb8526a587932aa73efd4ce0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ac1e26982bb8526a587932aa73efd4ce0">segment_debug</a> = 0</td></tr>
<tr class="memitem:a02767c3bd2bc4f22b49dacb6d997df28"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a> = 0</td></tr>
<tr class="memitem:a27c6bbd86f1853b57319290a905528c2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a27c6bbd86f1853b57319290a905528c2">bestrate_pruning_factor</a> = 2.0</td></tr>
<tr class="memitem:abd28e5f2cfdfa90d418d0b5fb650f510"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#abd28e5f2cfdfa90d418d0b5fb650f510">permute_script_word</a> = 0</td></tr>
<tr class="memitem:a3c252da043a05b0abdf6f7d62cb781cb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a3c252da043a05b0abdf6f7d62cb781cb">segment_segcost_rating</a> = 0</td></tr>
<tr class="memitem:a7ba94a461d09ad96991ccdf43b1b53e0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a7ba94a461d09ad96991ccdf43b1b53e0">segment_nonalphabetic_script</a> = false</td></tr>
<tr class="memitem:a2baa03008eaaaff468c8187a0346f073"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a2baa03008eaaaff468c8187a0346f073">segment_reward_script</a> = 0.95</td></tr>
<tr class="memitem:a7605ec60e77ee219fcffbdb2fbef062e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a7605ec60e77ee219fcffbdb2fbef062e">permute_fixed_length_dawg</a> = 0</td></tr>
<tr class="memitem:a697ad2ae7377608dbadd87771dd8a9da"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a697ad2ae7377608dbadd87771dd8a9da">permute_chartype_word</a> = 0</td></tr>
<tr class="memitem:a07341950953ad8c06d2f85a3628158a1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a07341950953ad8c06d2f85a3628158a1">segment_reward_chartype</a> = 0.97</td></tr>
<tr class="memitem:ac01ea1e9f23e1445ad204c6e2e902edf"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ac01ea1e9f23e1445ad204c6e2e902edf">segment_reward_ngram_best_choice</a> = 0.99</td></tr>
<tr class="memitem:a00bc956997b48bd63a56915d331f8add"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a00bc956997b48bd63a56915d331f8add">save_doc_words</a> = 0</td></tr>
<tr class="memitem:a242ba23c00fdfb4680e2e6f45d8b4c68"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a242ba23c00fdfb4680e2e6f45d8b4c68">doc_dict_enable</a> = 1</td></tr>
<tr class="memitem:ab375bc2c9356d602366a0af9b6bf9415"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ab375bc2c9356d602366a0af9b6bf9415">doc_dict_pending_threshold</a> = 0.0</td></tr>
<tr class="memitem:a1ebd30905b234dce37f13b08ab572502"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a1ebd30905b234dce37f13b08ab572502">doc_dict_certainty_threshold</a> = -2.25</td></tr>
<tr class="memitem:a8ef81325d91ad933e5c2c861c6e1106a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a8ef81325d91ad933e5c2c861c6e1106a">ngram_permuter_activated</a> = false</td></tr>
<tr class="memitem:a724a3890de749e064396026caec31ef7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a724a3890de749e064396026caec31ef7">max_permuter_attempts</a> = 10000</td></tr>
<tr class="memitem:abee65aea72351faabcd1b3fcac562339"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#abee65aea72351faabcd1b3fcac562339">permute_only_top</a> = false</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="a00803_source.html#l00090">90</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac11f84cc25bbf53314c0acda453949df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tesseract::Dict::Dict </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00186.html">Image</a> *&#160;</td>
          <td class="paramname"><em>image_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00802_source.html#l00033">33</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">    : <a class="code" href="a00129.html#a802de385e07531ace182d16653e35f71">letter_is_okay_</a>(&amp;<a class="code" href="a00129.html#acd45e378f915e3dd4bb18a8930e928c9">tesseract::Dict::def_letter_is_okay</a>),</div>
<div class="line">      <a class="code" href="a00129.html#a7ac1496aaae5e9977a31a2781e7866f0" title="Probability in context function used by the ngram permuter.">probability_in_context_</a>(&amp;<a class="code" href="a00129.html#a8f256b3bc0e806c492837ee0d8a0fc97" title="Default (no-op) implementation of probability in context function.">tesseract::Dict::def_probability_in_context</a>),</div>
<div class="line">      image_ptr_(image_ptr),</div>
<div class="line">      <a class="code" href="a00592.html#a425d80a737f7f70a19c15d58b7edda20">STRING_INIT_MEMBER</a>(<a class="code" href="a00129.html#ada6d04f60ef05aee517f3d24c6d6e9c9">user_words_suffix</a>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                         <span class="stringliteral">&quot;A list of user-provided words.&quot;</span>,</div>
<div class="line">                         <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a425d80a737f7f70a19c15d58b7edda20">STRING_INIT_MEMBER</a>(<a class="code" href="a00129.html#a503479ae064fd0f67f2bd71a3a4c3c47">user_patterns_suffix</a>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                         <span class="stringliteral">&quot;A list of user-provided patterns.&quot;</span>,</div>
<div class="line">                         <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a94f2ea32cb5774190157d971d56734df">BOOL_INIT_MEMBER</a>(<a class="code" href="a00129.html#aa94c8519d79413969cbf94c9a9efcbd1">load_system_dawg</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Load system word dawg.&quot;</span>,</div>
<div class="line">                       <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a94f2ea32cb5774190157d971d56734df">BOOL_INIT_MEMBER</a>(<a class="code" href="a00129.html#a70cf001f370ad12c08ba7e1796d27cae">load_freq_dawg</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Load frequent word dawg.&quot;</span>,</div>
<div class="line">                       <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a94f2ea32cb5774190157d971d56734df">BOOL_INIT_MEMBER</a>(<a class="code" href="a00129.html#a73345ee670e9fd3a1ecad89e2fad1367">load_unambig_dawg</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Load unambiguous word dawg.&quot;</span>,</div>
<div class="line">                       <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a94f2ea32cb5774190157d971d56734df">BOOL_INIT_MEMBER</a>(<a class="code" href="a00129.html#a3b017913ebeea374f4910f52ef21f8e7">load_punc_dawg</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Load dawg with punctuation&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot; patterns.&quot;</span>, <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a94f2ea32cb5774190157d971d56734df">BOOL_INIT_MEMBER</a>(<a class="code" href="a00129.html#a6d798a7eba3e146a9acae6b307b59d81">load_number_dawg</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Load dawg with number&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot; patterns.&quot;</span>, <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a94f2ea32cb5774190157d971d56734df">BOOL_INIT_MEMBER</a>(<a class="code" href="a00129.html#a1d85e18142cb329265eba1aa4b729cc7">load_fixed_length_dawgs</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Load fixed length dawgs&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot; (e.g. for non-space delimited languages)&quot;</span>,</div>
<div class="line">                       <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a94f2ea32cb5774190157d971d56734df">BOOL_INIT_MEMBER</a>(<a class="code" href="a00129.html#adcf2c1a0ac63eb2bd393c57288362f4c">load_bigram_dawg</a>, <span class="keyword">false</span>, <span class="stringliteral">&quot;Load dawg with special word &quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;bigrams.&quot;</span>, <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a6c5895e0ed2eae93f360b36efd78dfe5">segment_penalty_dict_frequent_word</a>, 1.0,</div>
<div class="line">                    <span class="stringliteral">&quot;Score multiplier for word matches which have good case and&quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;are frequent in the given language (lower is better).&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a1fa994ce1b5b86d436eb2ab3f2ffbe1b">segment_penalty_dict_case_ok</a>, 1.1,</div>
<div class="line">                    <span class="stringliteral">&quot;Score multiplier for word matches that have good case &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;(lower is better).&quot;</span>, <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a3aa39d0dfa6e33481953461fdece4d38">segment_penalty_dict_case_bad</a>, 1.3125,</div>
<div class="line">                    <span class="stringliteral">&quot;Default score multiplier for word matches, which may have &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;case issues (lower is better).&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a0469526f34710b7ef0f79584a547919a">segment_penalty_ngram_best_choice</a>, 1.24,</div>
<div class="line">                   <span class="stringliteral">&quot;Multipler to for the best choice from the ngram model.&quot;</span>,</div>
<div class="line">                   <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a4a192a4266de4fecbf296101d60ace2b">segment_penalty_dict_nonword</a>, 1.25,</div>
<div class="line">                    <span class="stringliteral">&quot;Score multiplier for glyph fragment segmentations which &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;do not match a dictionary word (lower is better).&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a683a1781be97f4376fa1c01bded08e66">segment_penalty_garbage</a>, 1.50,</div>
<div class="line">                    <span class="stringliteral">&quot;Score multiplier for poorly cased strings that are not in&quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot; the dictionary and generally look like garbage (lower is&quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot; better).&quot;</span>, <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#adbed450b87e900f7ee35bc5c6fc8f619">STRING_MEMBER</a>(<a class="code" href="a00129.html#acae35981fc849d608182db8cfe881b0b">output_ambig_words_file</a>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                    <span class="stringliteral">&quot;Output file for ambiguities found in the dictionary&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>, 0, <span class="stringliteral">&quot;Set to 1 for general debug info&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;, to 2 for more details, to 3 to see all the debug messages&quot;</span>,</div>
<div class="line">                 <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00129.html#add6604e6b4ce6ffd77c78d58b8a3244a">hyphen_debug_level</a>, 0, <span class="stringliteral">&quot;Debug level for hyphenated words.&quot;</span>,</div>
<div class="line">                 <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00129.html#a86ce83b9aa78f6f95a83e95bc3f1d1e4">max_viterbi_list_size</a>, 10, <span class="stringliteral">&quot;Maximum size of viterbi list.&quot;</span>,</div>
<div class="line">                 <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00129.html#aa45bac6fe79a370226cf119c66d2fe7e">use_only_first_uft8_step</a>, <span class="keyword">false</span>,</div>
<div class="line">                  <span class="stringliteral">&quot;Use only the first UTF8 step of the given string&quot;</span></div>
<div class="line">                  <span class="stringliteral">&quot; when computing log probabilities.&quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a054d69744519c2c7a89e7b1159347385">certainty_scale</a>, 20.0, <span class="stringliteral">&quot;Certainty scaling factor&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a793fa27917d4728c9d07b667a039c1e5">stopper_nondict_certainty_base</a>, -2.50,</div>
<div class="line">                    <span class="stringliteral">&quot;Certainty threshold for non-dict words&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a73282067f0bb86fcaf689b9202bb6702">stopper_phase2_certainty_rejection_offset</a>, 1.0,</div>
<div class="line">                    <span class="stringliteral">&quot;Reject certainty offset&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00129.html#af37cc8127c3872088d93aabaf3453e25">stopper_smallword_size</a>, 2,</div>
<div class="line">                 <span class="stringliteral">&quot;Size of dict word to be treated as non-dict word&quot;</span>,</div>
<div class="line">                 <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#aa996712ed754700ede71a883d4211019">stopper_certainty_per_char</a>, -0.50, <span class="stringliteral">&quot;Certainty to add&quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot; for each dict char above small word size.&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a105fa57ee5545f36fc0f1baf89d2d3af">stopper_allowable_character_badness</a>, 3.0,</div>
<div class="line">                    <span class="stringliteral">&quot;Max certaintly variation allowed in a word (in sigma)&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a>, 0, <span class="stringliteral">&quot;Stopper debug level&quot;</span>,</div>
<div class="line">                 <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00129.html#a444f71f744f92cfcd58dea0a2255e044">stopper_no_acceptable_choices</a>, <span class="keyword">false</span>,</div>
<div class="line">                  <span class="stringliteral">&quot;Make AcceptableChoice() always return false. Useful&quot;</span></div>
<div class="line">                  <span class="stringliteral">&quot; when there is a need to explore all segmentations&quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a646d0403be41d8484d68250136f915f4">stopper_ambiguity_threshold_gain</a>, 8.0,</div>
<div class="line">                    <span class="stringliteral">&quot;Gain factor for ambiguity threshold.&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a81ce7deec4aee35f855d92f31e3c7463">stopper_ambiguity_threshold_offset</a>, 1.5,</div>
<div class="line">                    <span class="stringliteral">&quot;Certainty offset for ambiguity threshold.&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00129.html#a0abfd0b48eb83f07ef6db2baf9f189e1">save_raw_choices</a>, <span class="keyword">false</span>, <span class="stringliteral">&quot;Save all explored raw choices&quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00129.html#a5b1b181a4638784a6225a508b810dbc9">tessedit_truncate_wordchoice_log</a>, 10,</div>
<div class="line">                 <span class="stringliteral">&quot;Max words to keep in list&quot;</span>,</div>
<div class="line">                 <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#adbed450b87e900f7ee35bc5c6fc8f619">STRING_MEMBER</a>(<a class="code" href="a00129.html#aa858b147d2551976cea6cc174544988e">word_to_debug</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;Word for which stopper debug&quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot; information should be printed to stdout&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#adbed450b87e900f7ee35bc5c6fc8f619">STRING_MEMBER</a>(<a class="code" href="a00129.html#a2fe5a98d91c6d9c8b655780cfa8654a4">word_to_debug_lengths</a>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                    <span class="stringliteral">&quot;Lengths of unichars in word_to_debug&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00129.html#ad5e37470ce50ef6e19c291cd12b0d123">fragments_debug</a>, 0, <span class="stringliteral">&quot;Debug character fragments&quot;</span>,</div>
<div class="line">                 <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00129.html#ac1e26982bb8526a587932aa73efd4ce0">segment_debug</a>, 0, <span class="stringliteral">&quot;Debug the whole segmentation process&quot;</span>,</div>
<div class="line">                 <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>, 0, <span class="stringliteral">&quot;Debug char permutation process&quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a27c6bbd86f1853b57319290a905528c2">bestrate_pruning_factor</a>, 2.0, <span class="stringliteral">&quot;Multiplying factor of&quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot; current best rate to prune other hypotheses&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00129.html#abd28e5f2cfdfa90d418d0b5fb650f510">permute_script_word</a>, 0,</div>
<div class="line">                  <span class="stringliteral">&quot;Turn on word script consistency permuter&quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00129.html#a3c252da043a05b0abdf6f7d62cb781cb">segment_segcost_rating</a>, 0,</div>
<div class="line">                  <span class="stringliteral">&quot;incorporate segmentation cost in word rating?&quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00129.html#a7ba94a461d09ad96991ccdf43b1b53e0">segment_nonalphabetic_script</a>, <span class="keyword">false</span>,</div>
<div class="line">                 <span class="stringliteral">&quot;Don&#39;t use any alphabetic-specific tricks.&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;Set to true in the traineddata config file for&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot; scripts that are cursive or inherently fixed-pitch&quot;</span>,</div>
<div class="line">                 <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a2baa03008eaaaff468c8187a0346f073">segment_reward_script</a>, 0.95,</div>
<div class="line">                    <span class="stringliteral">&quot;Score multipler for script consistency within a word. &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;Being a &#39;reward&#39; factor, it should be &lt;= 1. &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;Smaller value implies bigger reward.&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00129.html#a7605ec60e77ee219fcffbdb2fbef062e">permute_fixed_length_dawg</a>, 0,</div>
<div class="line">                  <span class="stringliteral">&quot;Turn on fixed-length phrasebook search permuter&quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00129.html#a697ad2ae7377608dbadd87771dd8a9da">permute_chartype_word</a>, 0,</div>
<div class="line">                  <span class="stringliteral">&quot;Turn on character type (property) consistency permuter&quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a07341950953ad8c06d2f85a3628158a1">segment_reward_chartype</a>, 0.97,</div>
<div class="line">                    <span class="stringliteral">&quot;Score multipler for char type consistency within a word. &quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#ac01ea1e9f23e1445ad204c6e2e902edf">segment_reward_ngram_best_choice</a>, 0.99,</div>
<div class="line">                    <span class="stringliteral">&quot;Score multipler for ngram permuter&#39;s best choice&quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot; (only used in the Han script path).&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00129.html#a00bc956997b48bd63a56915d331f8add">save_doc_words</a>, 0, <span class="stringliteral">&quot;Save Document Words&quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00129.html#a242ba23c00fdfb4680e2e6f45d8b4c68">doc_dict_enable</a>, 1, <span class="stringliteral">&quot;Enable Document Dictionary &quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#ab375bc2c9356d602366a0af9b6bf9415">doc_dict_pending_threshold</a>, 0.0,</div>
<div class="line">                    <span class="stringliteral">&quot;Worst certainty for using pending dictionary&quot;</span>,</div>
<div class="line">                    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00129.html#a1ebd30905b234dce37f13b08ab572502">doc_dict_certainty_threshold</a>, -2.25,</div>
<div class="line">                    <span class="stringliteral">&quot;Worst certainty for words that can be inserted into the&quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;document dictionary&quot;</span>, <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00129.html#a8ef81325d91ad933e5c2c861c6e1106a">ngram_permuter_activated</a>, <span class="keyword">false</span>,</div>
<div class="line">                  <span class="stringliteral">&quot;Activate character-level n-gram-based permuter&quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00129.html#a724a3890de749e064396026caec31ef7">max_permuter_attempts</a>, 10000, <span class="stringliteral">&quot;Maximum number of different&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot; character choices to consider during permutation.&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot; This limit is especially useful when user patterns&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot; are specified, since overly generic patterns can result in&quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot; dawg search exploring an overly large number of options.&quot;</span>,</div>
<div class="line">                 <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()),</div>
<div class="line">      <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00129.html#abee65aea72351faabcd1b3fcac562339">permute_only_top</a>, <span class="keyword">false</span>, <span class="stringliteral">&quot;Run only the top choice permuter&quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;params()) {</div>
<div class="line">  dang_ambigs_table_ = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  replace_ambigs_table_ = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  keep_word_choices_ = <span class="keyword">false</span>;</div>
<div class="line">  reject_offset_ = 0.0;</div>
<div class="line">  best_raw_choice_ = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  best_choices_ = <a class="code" href="a00794.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>;</div>
<div class="line">  raw_choices_ = <a class="code" href="a00794.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>;</div>
<div class="line">  <a class="code" href="a00129.html#a5f6572f1ce1ce687a367de82aec90557" title="Pointer to go_deeper function that will be modified by various permuters.">go_deeper_fxn_</a> = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  hyphen_word_ = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  last_word_on_line_ = <span class="keyword">false</span>;</div>
<div class="line">  hyphen_unichar_id_ = INVALID_UNICHAR_ID;</div>
<div class="line">  document_words_ = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  pending_words_ = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  bigram_dawg_ = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  freq_dawg_ = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  punc_dawg_ = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  max_fixed_length_dawgs_wdlen_ = -1;</div>
<div class="line">  wordseg_rating_adjust_factor_ = -1.0f;</div>
<div class="line">  output_ambig_words_file_ = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab471fe748aa77118175b04caaa4283df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tesseract::Dict::~Dict </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00802_source.html#l00214">214</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">            {</div>
<div class="line">  <span class="keywordflow">if</span> (hyphen_word_ != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) <span class="keyword">delete</span> hyphen_word_;</div>
<div class="line">  <span class="keywordflow">if</span> (output_ambig_words_file_ != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) fclose(output_ambig_words_file_);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ae9bc2b027bd999d646968aa445908efc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::absolute_garbage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00387.html">UNICHARSET</a> &amp;&#160;</td>
          <td class="paramname"><em>unicharset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if the word looks like an absolute garbage (e.g. image mistakenly recognized as text). </p>

<p>Definition at line <a class="el" href="a00799_source.html#l00078">78</a> of file <a class="el" href="a00799_source.html">context.cpp</a>.</p>
<div class="fragment"><div class="line">                                                          {</div>
<div class="line">  <span class="keywordflow">if</span> (word.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() &lt; kMinAbsoluteGarbageWordLength) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  <span class="keywordtype">int</span> num_alphanum = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; word.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>(); ++x) {</div>
<div class="line">    num_alphanum += (unicharset.<a class="code" href="a00387.html#ad1dd0929edfb0e9e4905cc2fbeff42c2">get_isalpha</a>(word.<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(x)) ||</div>
<div class="line">                     unicharset.<a class="code" href="a00387.html#a5951dde3ab90c12c309d776570a10725">get_isdigit</a>(word.<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(x)));</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (static_cast&lt;float&gt;(num_alphanum) /</div>
<div class="line">          <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(word.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>()) &lt; kMinAbsoluteGarbageAlphanumFrac);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a45c6cdeae33daa4ca52a83ad5a59f2f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::AcceptableChoice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>Choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>BestChoice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *&#160;</td>
          <td class="paramname"><em>fixpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00812.html#a1902ef46a46c64df98f9a99f6368e4f6">ACCEPTABLE_CHOICE_CALLER</a>&#160;</td>
          <td class="paramname"><em>caller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>modified_blobs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the given best_choice is good enough to stop. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00191">191</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                  {</div>
<div class="line">  <span class="keywordtype">float</span> CertaintyThreshold = <a class="code" href="a00129.html#a793fa27917d4728c9d07b667a039c1e5">stopper_nondict_certainty_base</a>;</div>
<div class="line">  <span class="keywordtype">int</span> WordSize;</div>
<div class="line">  <span class="keywordflow">if</span> (modified_blobs != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) *modified_blobs = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a444f71f744f92cfcd58dea0a2255e044">stopper_no_acceptable_choices</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (fixpt != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) fixpt-&gt;<a class="code" href="a00175.html#a9cdbff49b186574b83e43afba606fdd9">clear</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (BestChoice-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() == 0)</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  <span class="keywordflow">if</span> (caller == <a class="code" href="a00812.html#a1902ef46a46c64df98f9a99f6368e4f6a84325e771bcf9b3b1187d3e91455ca26">CHOPPER_CALLER</a> &amp;&amp; BestChoice-&gt;<a class="code" href="a00395.html#a8947564d0c2d01763958e633999e3c50">fragment_mark</a>()) {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 1) {</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;AcceptableChoice(): a choice with fragments beats BestChoice&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">bool</span> no_dang_ambigs = (<a class="code" href="a00129.html#a44c62a7904145157e4aa303fcf6ef923">GetMaxFixedLengthDawgIndex</a>() &gt;= 0 ||</div>
<div class="line">                         <a class="code" href="a00129.html#aef746918c09040cf417f831d07c97072">NoDangerousAmbig</a>(BestChoice, fixpt, <span class="keyword">true</span>,</div>
<div class="line">                                          Choices, modified_blobs));</div>
<div class="line">  <span class="keywordtype">bool</span> is_valid_word = <a class="code" href="a00129.html#af873650961191c2a844eed47c0829421" title="Check all the DAWGs to see if this word is in any of them.">valid_word_permuter</a>(BestChoice-&gt;<a class="code" href="a00395.html#a161ac137df2d063a6421728e6aa08fcb">permuter</a>(), <span class="keyword">false</span>);</div>
<div class="line">  <span class="keywordtype">bool</span> is_case_ok = <a class="code" href="a00129.html#a207372c8db41e16c13eda896c7e77665" title="Check a string to see if it matches a set of lexical rules.">case_ok</a>(*BestChoice, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 1)</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\nStopper:  %s (word=%c, case=%c)\n&quot;</span>,</div>
<div class="line">            BestChoice-&gt;<a class="code" href="a00395.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(),</div>
<div class="line">            (is_valid_word ? <span class="charliteral">&#39;y&#39;</span> : <span class="charliteral">&#39;n&#39;</span>),</div>
<div class="line">            (is_case_ok ? <span class="charliteral">&#39;y&#39;</span> : <span class="charliteral">&#39;n&#39;</span>));</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Do not accept invalid words in PASS1.</span></div>
<div class="line">  <span class="keywordflow">if</span> (reject_offset_ &lt;= 0.0<a class="code" href="a00428.html#a469169df397b589e709dc744f1346831">f</a> &amp;&amp; !is_valid_word) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  <span class="keywordflow">if</span> (is_valid_word &amp;&amp; is_case_ok) {</div>
<div class="line">    WordSize = <a class="code" href="a00129.html#a0e3e3f5f2bf54b5b2a0aec103c816cd6" title="Returns the length of the shortest alpha run in WordChoice.">LengthOfShortestAlphaRun</a>(*BestChoice);</div>
<div class="line">    WordSize -= <a class="code" href="a00129.html#af37cc8127c3872088d93aabaf3453e25">stopper_smallword_size</a>;</div>
<div class="line">    <span class="keywordflow">if</span> (WordSize &lt; 0)</div>
<div class="line">      WordSize = 0;</div>
<div class="line">    CertaintyThreshold += WordSize * <a class="code" href="a00129.html#aa996712ed754700ede71a883d4211019">stopper_certainty_per_char</a>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 1)</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Stopper:  Certainty = %4.1f, Threshold = %4.1f\n&quot;</span>,</div>
<div class="line">            BestChoice-&gt;<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>(), CertaintyThreshold);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (no_dang_ambigs &amp;&amp;</div>
<div class="line">      BestChoice-&gt;<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>() &gt; CertaintyThreshold &amp;&amp;</div>
<div class="line">      <a class="code" href="a00129.html#a2e14dd61f93ad13fafe4c2e2dae88631">UniformCertainties</a>(*Choices, *BestChoice)) {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 2) {</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;AcceptableChoice() returned false&quot;</span></div>
<div class="line">              <span class="stringliteral">&quot; (no_dang_ambig:%d cert:%g thresh:%g uniform:%d)\n&quot;</span>,</div>
<div class="line">              no_dang_ambigs, BestChoice-&gt;<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>(),</div>
<div class="line">              CertaintyThreshold,</div>
<div class="line">              <a class="code" href="a00129.html#a2e14dd61f93ad13fafe4c2e2dae88631">UniformCertainties</a>(*Choices, *BestChoice));</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acb222399feb6d3dba3f9c1ac50df1e96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::AcceptableResult </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>BestChoice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns false if the best choice for the current word is questionable and should be tried again on the second pass or should be flagged to the user. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00254">254</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                         {</div>
<div class="line">  <span class="keywordtype">float</span> CertaintyThreshold = <a class="code" href="a00129.html#a793fa27917d4728c9d07b667a039c1e5">stopper_nondict_certainty_base</a> - reject_offset_;</div>
<div class="line">  <span class="keywordtype">int</span> WordSize;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 1) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\nRejecter: %s (word=%c, case=%c, unambig=%c)\n&quot;</span>,</div>
<div class="line">            BestChoice.<a class="code" href="a00395.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(),</div>
<div class="line">            (<a class="code" href="a00129.html#a22a45cd03f5d2191d0aeba41e3b4f52f">valid_word</a>(BestChoice) ? <span class="charliteral">&#39;y&#39;</span> : <span class="charliteral">&#39;n&#39;</span>),</div>
<div class="line">            (<a class="code" href="a00129.html#a207372c8db41e16c13eda896c7e77665" title="Check a string to see if it matches a set of lexical rules.">case_ok</a>(BestChoice, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>()) ? <span class="charliteral">&#39;y&#39;</span> : <span class="charliteral">&#39;n&#39;</span>),</div>
<div class="line">            ((<a class="code" href="a00794.html#adb120d4c08ce52b5dfe524f0419a9154">list_rest</a> (best_choices_) != <a class="code" href="a00794.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>) ? <span class="charliteral">&#39;n&#39;</span> : <span class="charliteral">&#39;y&#39;</span>));</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (BestChoice.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() == 0 || <a class="code" href="a00129.html#a0bec277d6338bed058f010f7be969d1e" title="Returns true if there are multiple good choices for the current word.">CurrentWordAmbig</a>())</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  <span class="keywordflow">if</span> (BestChoice.<a class="code" href="a00395.html#a8947564d0c2d01763958e633999e3c50">fragment_mark</a>()) {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 1) {</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;AcceptableResult(): a choice with fragments beats BestChoice\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a22a45cd03f5d2191d0aeba41e3b4f52f">valid_word</a>(BestChoice) &amp;&amp; <a class="code" href="a00129.html#a207372c8db41e16c13eda896c7e77665" title="Check a string to see if it matches a set of lexical rules.">case_ok</a>(BestChoice, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>())) {</div>
<div class="line">    WordSize = <a class="code" href="a00129.html#a0e3e3f5f2bf54b5b2a0aec103c816cd6" title="Returns the length of the shortest alpha run in WordChoice.">LengthOfShortestAlphaRun</a>(BestChoice);</div>
<div class="line">    WordSize -= <a class="code" href="a00129.html#af37cc8127c3872088d93aabaf3453e25">stopper_smallword_size</a>;</div>
<div class="line">    <span class="keywordflow">if</span> (WordSize &lt; 0)</div>
<div class="line">      WordSize = 0;</div>
<div class="line">    CertaintyThreshold += WordSize * <a class="code" href="a00129.html#aa996712ed754700ede71a883d4211019">stopper_certainty_per_char</a>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 1)</div>
<div class="line">    <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Rejecter: Certainty = %4.1f, Threshold = %4.1f   &quot;</span>,</div>
<div class="line">      BestChoice.<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>(), CertaintyThreshold);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (BestChoice.<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>() &gt; CertaintyThreshold &amp;&amp;</div>
<div class="line">      !<a class="code" href="a00129.html#a444f71f744f92cfcd58dea0a2255e044">stopper_no_acceptable_choices</a>) {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 1)</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;ACCEPTED\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 1)</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;REJECTED\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad59baa4e54f780a492cebd8f8dc0b025"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::add_document_word </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>best_choice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a word found on this document to the document specific dictionary. </p>

<p>Definition at line <a class="el" href="a00802_source.html#l00690">690</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                                                           {</div>
<div class="line">  <span class="comment">// Do not add hyphenated word parts to the document dawg.</span></div>
<div class="line">  <span class="comment">// hyphen_word_ will be non-NULL after the set_hyphen_word() is</span></div>
<div class="line">  <span class="comment">// called when the first part of the hyphenated word is</span></div>
<div class="line">  <span class="comment">// discovered and while the second part of the word is recognized.</span></div>
<div class="line">  <span class="comment">// hyphen_word_ is cleared in cc_recg() before the next word on</span></div>
<div class="line">  <span class="comment">// the line is recognized.</span></div>
<div class="line">  <span class="keywordflow">if</span> (hyphen_word_) <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">char</span> <a class="code" href="a00996.html#ab85cc7ce156038d7a91fc6b51085c72e">filename</a>[<a class="code" href="a00777.html#accaf8215779c8836f3f25f722e77550e">CHARS_PER_LINE</a>];</div>
<div class="line">  FILE *doc_word_file;</div>
<div class="line">  <span class="keywordtype">int</span> stringlen = best_choice.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>();</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (!<a class="code" href="a00129.html#a242ba23c00fdfb4680e2e6f45d8b4c68">doc_dict_enable</a> || <a class="code" href="a00129.html#a22a45cd03f5d2191d0aeba41e3b4f52f">valid_word</a>(best_choice) ||</div>
<div class="line">      <a class="code" href="a00129.html#a0bec277d6338bed058f010f7be969d1e" title="Returns true if there are multiple good choices for the current word.">CurrentWordAmbig</a>() || stringlen &lt; 2)</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Discard words that contain &gt;= kDocDictMaxRepChars repeating unichars.</span></div>
<div class="line">  <span class="keywordflow">if</span> (best_choice.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() &gt;= kDocDictMaxRepChars) {</div>
<div class="line">    <span class="keywordtype">int</span> num_rep_chars = 1;</div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> uch_id = best_choice.<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(0);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; best_choice.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>(); ++i) {</div>
<div class="line">      <span class="keywordflow">if</span> (best_choice.<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(i) != uch_id) {</div>
<div class="line">        num_rep_chars = 1;</div>
<div class="line">        uch_id = best_choice.<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(i);</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        ++num_rep_chars;</div>
<div class="line">        <span class="keywordflow">if</span> (num_rep_chars == kDocDictMaxRepChars) <span class="keywordflow">return</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (best_choice.<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>() &lt; <a class="code" href="a00129.html#a1ebd30905b234dce37f13b08ab572502">doc_dict_certainty_threshold</a> ||</div>
<div class="line">      stringlen == 2) {</div>
<div class="line">    <span class="keywordflow">if</span> (best_choice.<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>() &lt; <a class="code" href="a00129.html#ab375bc2c9356d602366a0af9b6bf9415">doc_dict_pending_threshold</a>)</div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (!pending_words_-&gt;<a class="code" href="a00122.html#a37e1a2a607ac12c92826247303ebb6d0" title="Returns true if the given word is in the Dawg.">word_in_dawg</a>(best_choice)) {</div>
<div class="line">      <span class="keywordflow">if</span> (stringlen &gt; 2 ||</div>
<div class="line">          (stringlen == 2 &amp;&amp;</div>
<div class="line">           <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isupper(best_choice.<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(0)) &amp;&amp;</div>
<div class="line">           <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a482a94b3e6fcd4e5b9b9363bb9e0ee59">get_isupper</a>(best_choice.<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(1)))) {</div>
<div class="line">        pending_words_-&gt;<a class="code" href="a00378.html#abafc5803b471a28d781ffc74d7a2f652">add_word_to_dawg</a>(best_choice);</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a00bc956997b48bd63a56915d331f8add">save_doc_words</a>) {</div>
<div class="line">    strcpy(filename, <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;getCCUtil()-&gt;<a class="code" href="a00622.html#a8bd6cf4621eb08136622a2ebb03aa7b2">imagefile</a>.string());</div>
<div class="line">    strcat(filename, <span class="stringliteral">&quot;.doc&quot;</span>);</div>
<div class="line">    doc_word_file = <a class="code" href="a00776.html#ae3226f9d05617de0b7174bc7b7fce5b6">open_file</a> (filename, <span class="stringliteral">&quot;a&quot;</span>);</div>
<div class="line">    fprintf(doc_word_file, <span class="stringliteral">&quot;%s\n&quot;</span>,</div>
<div class="line">            best_choice.<a class="code" href="a00395.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">    fclose(doc_word_file);</div>
<div class="line">  }</div>
<div class="line">  document_words_-&gt;<a class="code" href="a00378.html#abafc5803b471a28d781ffc74d7a2f652">add_word_to_dawg</a>(best_choice);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9c59eace80232070d11e04794078d7b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::AddNewChunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a>&#160;</td>
          <td class="paramname"><em>Choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Increments the chunk count of the character in Choice which corresponds to Blob (index of the blob being split). </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00788">788</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                     {</div>
<div class="line">  <span class="keywordtype">int</span> i, LastChunk;</div>
<div class="line">  <span class="keywordflow">for</span> (i = 0, LastChunk = 0; i &lt; Choice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a>; i++) {</div>
<div class="line">    LastChunk += Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#ac928eaafcdc57fcd44d82ab9a56e9da3">NumChunks</a>;</div>
<div class="line">    <span class="keywordflow">if</span> (Blob &lt; LastChunk) {</div>
<div class="line">      (Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#ac928eaafcdc57fcd44d82ab9a56e9da3">NumChunks</a>)++;</div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;AddNewChunk failed:Choice-&gt;Length=%d, LastChunk=%d, Blob=%d\n&quot;</span>,</div>
<div class="line">           Choice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a>, LastChunk, Blob);</div>
<div class="line">  assert(<span class="keyword">false</span>);  <span class="comment">// this should never get executed</span></div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aee01b74007e1fc5a172a5534c5ef3cae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::adjust_non_word </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>certainty_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00719">719</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                   {</div>
<div class="line">    <a class="code" href="a00129.html#a61963914ca2d287fea0db951104d6eac" title="Adjusts the rating of the given word.">adjust_word</a>(word, certainty_array, char_choices, <span class="keyword">true</span>, 0.0<a class="code" href="a00428.html#a469169df397b589e709dc744f1346831">f</a>, debug);</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a61963914ca2d287fea0db951104d6eac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::adjust_word </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>certainty_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>nonword</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>additional_adjust</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjusts the rating of the given word. </p>

<p>Definition at line <a class="el" href="a00802_source.html#l00749">749</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                                   {</div>
<div class="line">  <span class="keywordtype">bool</span> is_han = (char_choices != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp;</div>
<div class="line">                 <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#af6459dc0dd8e46d86504c861bdf3b89a">han_sid</a>() != <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a126914ee29131685037c122375169a62">null_sid</a>() &amp;&amp;</div>
<div class="line">                 <a class="code" href="a00129.html#a268a065cccec5814d412d7bde583cc3e">get_top_word_script</a>(*char_choices, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>()) ==</div>
<div class="line">                 <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#af6459dc0dd8e46d86504c861bdf3b89a">han_sid</a>());</div>
<div class="line">  <span class="keywordtype">bool</span> case_is_ok = (is_han || <a class="code" href="a00129.html#a207372c8db41e16c13eda896c7e77665" title="Check a string to see if it matches a set of lexical rules.">case_ok</a>(*word, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>()));</div>
<div class="line">  <span class="keywordtype">bool</span> punc_is_ok = (is_han || !nonword || <a class="code" href="a00129.html#aaed3895d9553f4110c693593c89650fa">valid_punctuation</a>(*word));</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">float</span> adjust_factor = additional_adjust;</div>
<div class="line">  <span class="keywordtype">float</span> new_rating = word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (debug) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;%sWord: %s %4.2f &quot;</span>, nonword ? <span class="stringliteral">&quot;Non-&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">            word-&gt;<a class="code" href="a00395.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(), word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>());</div>
<div class="line">  }</div>
<div class="line">  new_rating += kRatingPad;</div>
<div class="line">  <span class="keywordflow">if</span> (nonword) {  <span class="comment">// non-dictionary word</span></div>
<div class="line">    <span class="keywordflow">if</span> (case_is_ok &amp;&amp; punc_is_ok) {</div>
<div class="line">      adjust_factor += <a class="code" href="a00129.html#a4a192a4266de4fecbf296101d60ace2b">segment_penalty_dict_nonword</a>;</div>
<div class="line">      new_rating *= adjust_factor;</div>
<div class="line">      <span class="keywordflow">if</span> (debug) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;, W&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      adjust_factor += <a class="code" href="a00129.html#a683a1781be97f4376fa1c01bded08e66">segment_penalty_garbage</a>;</div>
<div class="line">      new_rating *= adjust_factor;</div>
<div class="line">      <span class="keywordflow">if</span> (debug) {</div>
<div class="line">        <span class="keywordflow">if</span> (!case_is_ok) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;, C&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!punc_is_ok) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;, P&quot;</span>);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  } <span class="keywordflow">else</span> {  <span class="comment">// dictionary word</span></div>
<div class="line">    <span class="keywordflow">if</span> (case_is_ok) {</div>
<div class="line">      <span class="keywordflow">if</span> (!is_han &amp;&amp; freq_dawg_ != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; freq_dawg_-&gt;<a class="code" href="a00122.html#a37e1a2a607ac12c92826247303ebb6d0" title="Returns true if the given word is in the Dawg.">word_in_dawg</a>(*word)) {</div>
<div class="line">        word-&gt;<a class="code" href="a00395.html#a162d90ae016fbf55256591bbf01c0c03">set_permuter</a>(FREQ_DAWG_PERM);</div>
<div class="line">        adjust_factor += <a class="code" href="a00129.html#a6c5895e0ed2eae93f360b36efd78dfe5">segment_penalty_dict_frequent_word</a>;</div>
<div class="line">        new_rating *= adjust_factor;</div>
<div class="line">        <span class="keywordflow">if</span> (debug) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;, F&quot;</span>);</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        adjust_factor += <a class="code" href="a00129.html#a1fa994ce1b5b86d436eb2ab3f2ffbe1b">segment_penalty_dict_case_ok</a>;</div>
<div class="line">        new_rating *= adjust_factor;</div>
<div class="line">        <span class="keywordflow">if</span> (debug) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;, &quot;</span>);</div>
<div class="line">      }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      adjust_factor += <a class="code" href="a00129.html#a3aa39d0dfa6e33481953461fdece4d38">segment_penalty_dict_case_bad</a>;</div>
<div class="line">      new_rating *= adjust_factor;</div>
<div class="line">      <span class="keywordflow">if</span> (debug) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;, C&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  new_rating -= kRatingPad;</div>
<div class="line">  word-&gt;<a class="code" href="a00395.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(new_rating);</div>
<div class="line">  <span class="keywordflow">if</span> (debug) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot; %4.2f --&gt; %4.2f\n&quot;</span>, adjust_factor, new_rating);</div>
<div class="line">  <a class="code" href="a00129.html#a5d0400dc126a0dc472c3c28545da65a8">LogNewChoice</a>(adjust_factor, certainty_array, <span class="keyword">false</span>, word,</div>
<div class="line">               *char_choices);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4908385c6cd2afa635d90e9589cb7dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::adjust_word </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>certainty_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00713">713</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                               {</div>
<div class="line">    <a class="code" href="a00129.html#a61963914ca2d287fea0db951104d6eac" title="Adjusts the rating of the given word.">adjust_word</a>(word, certainty_array, char_choices, <span class="keyword">false</span>, 0.0<a class="code" href="a00428.html#a469169df397b589e709dc744f1346831">f</a>,</div>
<div class="line">                debug);</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1f4a0951c1960208fab7c511c90e5477"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::AlternativeChoicesWorseThan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Threshold</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if there are no alternative choices for the current word or if all alternatives have an adjust factor worse than Threshold. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00299">299</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                        {</div>
<div class="line">  <a class="code" href="a00221.html">LIST</a> Alternatives;</div>
<div class="line">  <a class="code" href="a00391.html">VIABLE_CHOICE</a> Choice;</div>
<div class="line">  Alternatives = <a class="code" href="a00794.html#adb120d4c08ce52b5dfe524f0419a9154">list_rest</a> (best_choices_);</div>
<div class="line">  <a class="code" href="a00794.html#a2cf19ba78be6b54f66823d58f34f2a53">iterate</a>(Alternatives) {</div>
<div class="line">    Choice = (<a class="code" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a>) <a class="code" href="a00794.html#a69547be764424f18b0be535400747978">first_node</a> (Alternatives);</div>
<div class="line">    <span class="keywordflow">if</span> (Choice-&gt;<a class="code" href="a00391.html#a0f0a2441140b16e144665ecc0f8beb66">AdjustFactor</a> &lt;= Threshold)</div>
<div class="line">      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a253fac24ccb5cb9d3b467b0a28c1c0f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::ambigs_mode </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rating_limit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if we are operating in ambigs mode. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00180">180</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                              {</div>
<div class="line">    <span class="keywordflow">return</span> rating_limit &lt;= 0.0;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1fd1f849b292727334cdbdee03d6cdfc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::append_choices </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00052.html">BLOB_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>blob_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>char_choice_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00075.html">CHAR_FRAGMENT_INFO</a> *&#160;</td>
          <td class="paramname"><em>prev_char_frag_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>certainties</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>best_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>attempts_left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>more_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>append_choices</p>
<p>Checks to see whether or not the next choice is worth appending to the word being generated. If so then keeps going deeper into the word.</p>
<p>This function assumes that <a class="el" href="a00129.html#a5f6572f1ce1ce687a367de82aec90557" title="Pointer to go_deeper function that will be modified by various permuters.">Dict::go_deeper_fxn_</a> is set. </p>

<p>Definition at line <a class="el" href="a00807_source.html#l01479">1479</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                     {</div>
<div class="line">  <span class="keywordtype">int</span> word_ending =</div>
<div class="line">    (char_choice_index == char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() - 1) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Deal with fragments.</span></div>
<div class="line">  <a class="code" href="a00075.html">CHAR_FRAGMENT_INFO</a> char_frag_info;</div>
<div class="line">  <span class="keywordflow">if</span> (!<a class="code" href="a00129.html#af58a79352c0ac94a552a9b2136b1682a" title="Semi-generic functions used by multiple permuters.">fragment_state_okay</a>(blob_choice.<a class="code" href="a00052.html#aaba6190b77c5f3dc21905fc4118afa94">unichar_id</a>(), blob_choice.<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>(),</div>
<div class="line">                           blob_choice.<a class="code" href="a00052.html#af53d45b718c562ea7209b583c77ac14e">certainty</a>(), prev_char_frag_info, debug,</div>
<div class="line">                           word_ending, &amp;char_frag_info)) {</div>
<div class="line">    <span class="keywordflow">return</span>;  <span class="comment">// blob_choice must be an invalid fragment</span></div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Search the next letter if this character is a fragment.</span></div>
<div class="line">  <span class="keywordflow">if</span> (char_frag_info.<a class="code" href="a00075.html#a24af551ad80e76f6f7d504caced974d4">unichar_id</a> == INVALID_UNICHAR_ID) {</div>
<div class="line">    <a class="code" href="a00129.html#a0ceb12c3a410ba12fdb9a93df11d47e2">permute_choices</a>(debug, char_choices, char_choice_index + 1,</div>
<div class="line">                    &amp;char_frag_info, word, certainties, limit,</div>
<div class="line">                    best_choice, attempts_left, more_args);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Add the next unichar.</span></div>
<div class="line">  <span class="keywordtype">float</span> old_rating = word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>();</div>
<div class="line">  <span class="keywordtype">float</span> old_certainty = word-&gt;<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>();</div>
<div class="line">  <a class="code" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> old_permuter = word-&gt;<a class="code" href="a00395.html#a161ac137df2d063a6421728e6aa08fcb">permuter</a>();</div>
<div class="line">  certainties[word-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>()] = char_frag_info.<a class="code" href="a00075.html#ae6d64915bd517270e523ffb8684b984b">certainty</a>;</div>
<div class="line">  word-&gt;<a class="code" href="a00395.html#a222ced86be88a66a119b6c5d10af23fb">append_unichar_id_space_allocated</a>(</div>
<div class="line">      char_frag_info.<a class="code" href="a00075.html#a24af551ad80e76f6f7d504caced974d4">unichar_id</a>, char_frag_info.<a class="code" href="a00075.html#ac5d1359d9ae58c6fc68180aa0d0ec95d">num_fragments</a>,</div>
<div class="line">      char_frag_info.<a class="code" href="a00075.html#ac843ec4aa587f6a77ce573bb199997e9">rating</a>, char_frag_info.<a class="code" href="a00075.html#ae6d64915bd517270e523ffb8684b984b">certainty</a>);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Explore the next unichar.</span></div>
<div class="line">  (this-&gt;*<a class="code" href="a00129.html#a5f6572f1ce1ce687a367de82aec90557" title="Pointer to go_deeper function that will be modified by various permuters.">go_deeper_fxn_</a>)(debug, char_choices, char_choice_index,</div>
<div class="line">                          &amp;char_frag_info, word_ending, word, certainties,</div>
<div class="line">                          limit, best_choice, attempts_left, more_args);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Remove the unichar we added to explore other choices in it&#39;s place.</span></div>
<div class="line">  word-&gt;<a class="code" href="a00395.html#a5ae576ce7f7630e64a149fe67b737f4c">remove_last_unichar_id</a>();</div>
<div class="line">  word-&gt;<a class="code" href="a00395.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(old_rating);</div>
<div class="line">  word-&gt;<a class="code" href="a00395.html#a0d8b3f73cb02eb5f6e492ffd1304fe85">set_certainty</a>(old_certainty);</div>
<div class="line">  word-&gt;<a class="code" href="a00395.html#a162d90ae016fbf55256591bbf01c0c03">set_permuter</a>(old_permuter);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a207372c8db41e16c13eda896c7e77665"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::case_ok </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00387.html">UNICHARSET</a> &amp;&#160;</td>
          <td class="paramname"><em>unicharset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check a string to see if it matches a set of lexical rules. </p>

<p>Definition at line <a class="el" href="a00799_source.html#l00058">58</a> of file <a class="el" href="a00799_source.html">context.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                       {</div>
<div class="line">  <span class="keywordtype">int</span> last_state = 0;</div>
<div class="line">  <span class="keywordtype">int</span> state = 0;</div>
<div class="line">  <span class="keywordtype">int</span> x;</div>
<div class="line">  <span class="keywordflow">for</span> (x = 0; x &lt; word.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>(); ++x) {</div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> ch_id = word.<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(x);</div>
<div class="line">    <span class="keywordflow">if</span> (unicharset.<a class="code" href="a00387.html#a482a94b3e6fcd4e5b9b9363bb9e0ee59">get_isupper</a>(ch_id))</div>
<div class="line">      state = <a class="code" href="a00995.html#ae599808f0375f76eb5e9340ec448d7f2">case_state_table</a>[state][1];</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (unicharset.<a class="code" href="a00387.html#a074096c823dd5b9bc02c02a59784bf34">get_islower</a>(ch_id))</div>
<div class="line">      state = <a class="code" href="a00995.html#ae599808f0375f76eb5e9340ec448d7f2">case_state_table</a>[state][2];</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (unicharset.<a class="code" href="a00387.html#a5951dde3ab90c12c309d776570a10725">get_isdigit</a>(ch_id))</div>
<div class="line">      state = <a class="code" href="a00995.html#ae599808f0375f76eb5e9340ec448d7f2">case_state_table</a>[state][3];</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      state = <a class="code" href="a00995.html#ae599808f0375f76eb5e9340ec448d7f2">case_state_table</a>[state][0];</div>
<div class="line">    <span class="keywordflow">if</span> (state == -1) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    last_state = state;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> state != 5; <span class="comment">// single lower is bad</span></div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab7b078ed83f6de9d5c767263a8a37070"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::ChoiceAccumEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00346">346</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">{ <span class="keywordflow">return</span> keep_word_choices_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ace0e51938995068fdb1b115f6be61470"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::ChoiceSameAs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>WordChoice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a>&#160;</td>
          <td class="paramname"><em>ViableChoice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compares the corresponding strings of WordChoice and ViableChoice and returns true if they are the same. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00878">878</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                   {</div>
<div class="line">  <span class="keywordflow">return</span> (<a class="code" href="a00129.html#a88ccbd663564a11a95cf9e592c69e8be">StringSameAs</a>(WordChoice, ViableChoice));</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abd556d948d000e8eda51875b82ee4449"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * tesseract::Dict::choose_il1 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>first_char</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>second_char</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>third_char</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prev_char</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>next_char</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>next_next_char</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00807_source.html#l01163">1163</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                                                         {</div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> type1;                   <span class="comment">//1/I/l type of first choice</span></div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> type2;                   <span class="comment">//1/I/l type of second choice</span></div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> type3;                   <span class="comment">//1/I/l type of third choice</span></div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">int</span> first_char_length = strlen(first_char);</div>
<div class="line">  <span class="keywordtype">int</span> prev_char_length = strlen(prev_char);</div>
<div class="line">  <span class="keywordtype">int</span> next_char_length = strlen(next_char);</div>
<div class="line">  <span class="keywordtype">int</span> next_next_char_length = strlen(next_next_char);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (*first_char == <span class="charliteral">&#39;l&#39;</span> &amp;&amp; *second_char != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line">    <span class="keywordflow">if</span> (*second_char == <span class="charliteral">&#39;I&#39;</span></div>
<div class="line">        &amp;&amp; (((prev_char_length != 0 &amp;&amp;</div>
<div class="line">            <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isupper (prev_char, prev_char_length)) &amp;&amp;</div>
<div class="line">            (next_char_length == 0 ||</div>
<div class="line">             !<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_islower (next_char, next_char_length)) &amp;&amp;</div>
<div class="line">            (next_char_length == 0 ||</div>
<div class="line">             !<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isdigit (next_char, next_char_length))) ||</div>
<div class="line">            ((next_char_length != 0 &amp;&amp;</div>
<div class="line">             <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isupper (next_char, next_char_length)) &amp;&amp;</div>
<div class="line">            (prev_char_length == 0 ||</div>
<div class="line">             !<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_islower (prev_char, prev_char_length)) &amp;&amp;</div>
<div class="line">            (prev_char_length == 0 ||</div>
<div class="line">             !<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isdigit (prev_char, prev_char_length)))))</div>
<div class="line">      first_char = second_char;  <span class="comment">//override</span></div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*second_char == <span class="charliteral">&#39;1&#39;</span> || *third_char == <span class="charliteral">&#39;1&#39;</span>) {</div>
<div class="line">      <span class="keywordflow">if</span> ((next_char_length != 0 &amp;&amp;</div>
<div class="line">           <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isdigit (next_char, next_char_length)) ||</div>
<div class="line">          (prev_char_length != 0 &amp;&amp;</div>
<div class="line">           <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isdigit (prev_char, prev_char_length))</div>
<div class="line">          || (*next_char == <span class="charliteral">&#39;l&#39;</span> &amp;&amp;</div>
<div class="line">          (next_next_char_length != 0 &amp;&amp;</div>
<div class="line">           <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isdigit (next_next_char,</div>
<div class="line">                                        next_next_char_length)))) {</div>
<div class="line">        first_char = <span class="stringliteral">&quot;1&quot;</span>;</div>
<div class="line">        first_char_length = 1;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((prev_char_length == 0 ||</div>
<div class="line">                !<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_islower (prev_char, prev_char_length)) &amp;&amp;</div>
<div class="line">               ((next_char_length == 0 ||</div>
<div class="line">                 !<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_islower (next_char, next_char_length)) ||</div>
<div class="line">                (*next_char == <span class="charliteral">&#39;s&#39;</span> &amp;&amp;</div>
<div class="line">                *next_next_char == <span class="charliteral">&#39;t&#39;</span>))) {</div>
<div class="line">        <span class="keywordflow">if</span> (((*prev_char != <span class="charliteral">&#39;\&#39;&#39;</span> &amp;&amp; *prev_char != <span class="charliteral">&#39;`&#39;</span>) || *next_char != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">            &amp;&amp; ((*next_char != <span class="charliteral">&#39;\&#39;&#39;</span> &amp;&amp; *next_char != <span class="charliteral">&#39;`&#39;</span>)</div>
<div class="line">                || *prev_char != <span class="charliteral">&#39;\0&#39;</span>)) {</div>
<div class="line">          first_char = <span class="stringliteral">&quot;1&quot;</span>;</div>
<div class="line">          first_char_length = 1;</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (*first_char == <span class="charliteral">&#39;l&#39;</span> &amp;&amp; *next_char != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp;</div>
<div class="line">        (prev_char_length == 0 ||</div>
<div class="line">         !<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isalpha (prev_char, prev_char_length))) {</div>
<div class="line">      type1 = 2;</div>
<div class="line"></div>
<div class="line">      <span class="keywordflow">if</span> (*second_char == <span class="charliteral">&#39;1&#39;</span>)</div>
<div class="line">        type2 = 0;</div>
<div class="line">      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*second_char == <span class="charliteral">&#39;I&#39;</span>)</div>
<div class="line">        type2 = 1;</div>
<div class="line">      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*second_char == <span class="charliteral">&#39;l&#39;</span>)</div>
<div class="line">        type2 = 2;</div>
<div class="line">      <span class="keywordflow">else</span></div>
<div class="line">        type2 = type1;</div>
<div class="line"></div>
<div class="line">      <span class="keywordflow">if</span> (*third_char == <span class="charliteral">&#39;1&#39;</span>)</div>
<div class="line">        type3 = 0;</div>
<div class="line">      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*third_char == <span class="charliteral">&#39;I&#39;</span>)</div>
<div class="line">        type3 = 1;</div>
<div class="line">      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*third_char == <span class="charliteral">&#39;l&#39;</span>)</div>
<div class="line">        type3 = 2;</div>
<div class="line">      <span class="keywordflow">else</span></div>
<div class="line">        type3 = type1;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="preprocessor"></span>      <span class="keywordflow">if</span> (bigram_counts[*next_char][type2] &gt;</div>
<div class="line">      bigram_counts[*next_char][type1]) {</div>
<div class="line">        first_char = second_char;</div>
<div class="line">        type1 = type2;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">if</span> (bigram_counts[*next_char][type3] &gt;</div>
<div class="line">      bigram_counts[*next_char][type1]) {</div>
<div class="line">        first_char = third_char;</div>
<div class="line">      }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> first_char;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4fc10a65be799fa59c39cae57379dc17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::ClearBestChoiceAccum </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears best_choices_ list accumulated by the stopper. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00458">458</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                {</div>
<div class="line">  <span class="keywordflow">if</span> (best_choices_) <a class="code" href="a00793.html#a1a1efc1a269e5bb5bf16c1a174363ba4">destroy_nodes</a>(best_choices_, <a class="code" href="a00811.html#a1ffdeffb9a38b2a9c556babf48984e28">DeleteViableChoiceStruct</a>);</div>
<div class="line">  best_choices_ = <a class="code" href="a00794.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa07269a6929862317892af548dc6f78e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::compound_marker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a>&#160;</td>
          <td class="paramname"><em>unichar_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00110">110</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                     {</div>
<div class="line">    <span class="keywordflow">return</span> (unichar_id == <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().unichar_to_id(<span class="stringliteral">&quot;-&quot;</span>) ||</div>
<div class="line">            unichar_id == <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().unichar_to_id(<span class="stringliteral">&quot;/&quot;</span>));</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5de64b7d07afaeb33408ee296db75f5d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::ConstraintsOk </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00125.html">DawgInfoVector</a> &amp;&#160;</td>
          <td class="paramname"><em>constraints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>word_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00995.html#a07c41f251f1782c60df4e626c35d2151">DawgType</a>&#160;</td>
          <td class="paramname"><em>current_dawg_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>At word ending make sure all the recorded constraints are satisfied. Each constraint signifies that we found a beginning pattern in a pattern dawg. Check that this pattern can end here (e.g. if some leading punctuation is found this would ensure that we are not expecting any particular trailing punctuation after the word). </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00631">631</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                                            {</div>
<div class="line">    <span class="keywordflow">if</span> (!word_end) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (current_dawg_type == <a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151aa8e8b65bf32d2884c0bab5fb8223c6eb">DAWG_TYPE_PUNCTUATION</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; constraints.length(); ++c) {</div>
<div class="line">      <span class="keyword">const</span> DawgInfo &amp;cinfo = constraints[c];</div>
<div class="line">      Dawg *cdawg = dawgs_[cinfo.dawg_index];</div>
<div class="line">      <span class="keywordflow">if</span> (!cdawg-&gt;end_of_word(cinfo.ref)) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;= 3) {</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Constraint [%d, &quot;</span> <a class="code" href="a00801.html#a85a5bf216156dfa399c5edd26f3694db">REFFORMAT</a> <span class="stringliteral">&quot;] is not satisfied\n&quot;</span>,</div>
<div class="line">                  cinfo.dawg_index, cinfo.ref);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a673dcd602bce4530c4cc2fe875cbc2a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::copy_hyphen_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If this word is hyphenated copy the base word (the part on the line before) of a hyphenated word into the given word. This function assumes that word is not NULL. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00128">128</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                        {</div>
<div class="line">    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="a00129.html#aebd1e3d92b2ec23c03807dd7ede45a40" title="Returns true if we&#39;ve recorded the beginning of a hyphenated word.">hyphenated</a>()) {</div>
<div class="line">      *word = *hyphen_word_;</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#add6604e6b4ce6ffd77c78d58b8a3244a">hyphen_debug_level</a>) word-&gt;<a class="code" href="a00395.html#aa27589343655d5843a6482dbb3731d5a">print</a>(<span class="stringliteral">&quot;copy_hyphen_info: &quot;</span>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5de1b4b567459f520ce3b82b68c2c618"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> tesseract::Dict::CurrentBestChoiceAdjustFactor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the adjustment factor for the best choice for the current word. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00316">316</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                            {</div>
<div class="line">  <a class="code" href="a00391.html">VIABLE_CHOICE</a> BestChoice;</div>
<div class="line">  <span class="keywordflow">if</span> (best_choices_ == <a class="code" href="a00794.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>)</div>
<div class="line">    <span class="keywordflow">return</span> (<a class="code" href="a00577.html#a9adcee815220ec9db98062213806ed04">MAX_FLOAT32</a>);</div>
<div class="line">  BestChoice = (<a class="code" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a>) <a class="code" href="a00794.html#a69547be764424f18b0be535400747978">first_node</a> (best_choices_);</div>
<div class="line">  <span class="keywordflow">return</span> (BestChoice-&gt;<a class="code" href="a00391.html#a0f0a2441140b16e144665ecc0f8beb66">AdjustFactor</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2a0b6b5be811b039c04dd0cc09436f25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::CurrentBestChoiceIs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>WordChoice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if WordChoice is the same as the current best choice. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00311">311</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                            {</div>
<div class="line">  <span class="keywordflow">return</span> (best_choices_ != <a class="code" href="a00794.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a> &amp;&amp;</div>
<div class="line">          <a class="code" href="a00129.html#a88ccbd663564a11a95cf9e592c69e8be">StringSameAs</a>(WordChoice, (<a class="code" href="a00391.html">VIABLE_CHOICE</a>)<a class="code" href="a00794.html#a69547be764424f18b0be535400747978">first_node</a>(best_choices_)));</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0bec277d6338bed058f010f7be969d1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::CurrentWordAmbig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if there are multiple good choices for the current word. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00325">325</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                            {</div>
<div class="line">  <span class="keywordflow">return</span> (<a class="code" href="a00794.html#adb120d4c08ce52b5dfe524f0419a9154">list_rest</a> (best_choices_) != <a class="code" href="a00794.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac787e92f677e96a926d0c79e46a15461"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00395.html">WERD_CHOICE</a> * tesseract::Dict::dawg_permute_and_select </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rating_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sought_word_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start_char_choice_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recursively explore all the possible character combinations in the given char_choices. Use <a class="el" href="a00129.html#ad6dd8117fc7d3d6a2271a501955eb187">go_deeper_dawg_fxn()</a> to explore all the dawgs in the dawgs_ vector in parallel and discard invalid words.</p>
<p>Allocate and return a <a class="el" href="a00395.html">WERD_CHOICE</a> with the best valid word found.</p>
<p>dawg_permute_and_select</p>
<p>Recursively explore all the possible character combinations in the given char_choices. Use <a class="el" href="a00129.html#ad6dd8117fc7d3d6a2271a501955eb187">go_deeper_dawg_fxn()</a> to search all the dawgs in the dawgs_ vector in parallel and discard invalid words.</p>
<p>If sought_word_length is not kAnyWordLength, the function only searches for a valid word formed by the given char_choices in one fixed length dawg (that contains words of length sought_word_length) starting at the start_char_choice_index.</p>
<p>Allocate and return a <a class="el" href="a00395.html">WERD_CHOICE</a> with the best valid word found. </p>

<p>Definition at line <a class="el" href="a00806_source.html#l00263">263</a> of file <a class="el" href="a00806_source.html">permdawg.cpp</a>.</p>
<div class="fragment"><div class="line">                                                         {</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> *best_choice = <span class="keyword">new</span> <a class="code" href="a00395.html">WERD_CHOICE</a>(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">  best_choice-&gt;<a class="code" href="a00395.html#aad71e860a573a615ce8958898b2657fb" title="Set the fields in this choice to be default (bad) values.">make_bad</a>();</div>
<div class="line">  best_choice-&gt;<a class="code" href="a00395.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(rating_limit);</div>
<div class="line">  <span class="keywordflow">if</span> (char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() == 0) <span class="keywordflow">return</span> best_choice;</div>
<div class="line">  DawgInfoVector *active_dawgs = <span class="keyword">new</span> DawgInfoVector[char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() + 1];</div>
<div class="line">  DawgInfoVector *constraints =  <span class="keyword">new</span> DawgInfoVector[char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() + 1];</div>
<div class="line">  <a class="code" href="a00129.html#aeb0ba1d301def04d0ca191582f032c78">init_active_dawgs</a>(sought_word_length, &amp;(active_dawgs[0]),</div>
<div class="line">                    <a class="code" href="a00129.html#a253fac24ccb5cb9d3b467b0a28c1c0f3" title="Returns true if we are operating in ambigs mode.">ambigs_mode</a>(rating_limit));</div>
<div class="line">  <a class="code" href="a00129.html#a7e44bdc5e2fe0dbb861dfd1522ef1cec">init_constraints</a>(&amp;(constraints[0]));</div>
<div class="line">  <span class="keywordtype">int</span> end_char_choice_index = (sought_word_length == kAnyWordLength) ?</div>
<div class="line">    char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>()-1 : start_char_choice_index+sought_word_length-1;</div>
<div class="line">  <span class="comment">// Need to skip accumulating word choices if we are only searching a part of</span></div>
<div class="line">  <span class="comment">// the word (e.g. for the phrase search in non-space delimited languages).</span></div>
<div class="line">  <span class="comment">// Also need to skip accumulating choices if char_choices are expanded</span></div>
<div class="line">  <span class="comment">// with ambiguities.</span></div>
<div class="line">  <span class="keywordtype">bool</span> re_enable_choice_accum = <a class="code" href="a00129.html#ab7b078ed83f6de9d5c767263a8a37070">ChoiceAccumEnabled</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (sought_word_length != kAnyWordLength ||</div>
<div class="line">      <a class="code" href="a00129.html#a253fac24ccb5cb9d3b467b0a28c1c0f3" title="Returns true if we are operating in ambigs mode.">ambigs_mode</a>(rating_limit)) <a class="code" href="a00129.html#a9c4215da27d2ea4c117d1e6227c5b492">DisableChoiceAccum</a>();</div>
<div class="line">  DawgArgs dawg_args(&amp;(active_dawgs[0]), &amp;(constraints[0]),</div>
<div class="line">                     &amp;(active_dawgs[1]), &amp;(constraints[1]),</div>
<div class="line">                     (<a class="code" href="a00129.html#a3aa39d0dfa6e33481953461fdece4d38">segment_penalty_dict_case_bad</a> /</div>
<div class="line">                      <a class="code" href="a00129.html#a1fa994ce1b5b86d436eb2ab3f2ffbe1b">segment_penalty_dict_case_ok</a>),</div>
<div class="line">                     NO_PERM, sought_word_length, end_char_choice_index);</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> word(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(), <a class="code" href="a00803.html#a8f209bc21153a4b65514af438fc46957">MAX_WERD_LENGTH</a>);</div>
<div class="line">  <a class="code" href="a00129.html#a673dcd602bce4530c4cc2fe875cbc2a9">copy_hyphen_info</a>(&amp;word);</div>
<div class="line">  <span class="comment">// Discard rating and certainty of the hyphen base (if any).</span></div>
<div class="line">  word.set_rating(0.0);</div>
<div class="line">  word.set_certainty(0.0);</div>
<div class="line">  <span class="keywordflow">if</span> (word.length() + char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() &gt; <a class="code" href="a00803.html#a8f209bc21153a4b65514af438fc46957">MAX_WERD_LENGTH</a>) {</div>
<div class="line">    <span class="keyword">delete</span>[] active_dawgs;</div>
<div class="line">    <span class="keyword">delete</span>[] constraints;</div>
<div class="line">    <span class="keywordflow">return</span> best_choice;  <span class="comment">// the word is too long to permute</span></div>
<div class="line">  }</div>
<div class="line">  <span class="keywordtype">float</span> certainties[<a class="code" href="a00803.html#a8f209bc21153a4b65514af438fc46957">MAX_WERD_LENGTH</a>];</div>
<div class="line">  this-&gt;<a class="code" href="a00129.html#a5f6572f1ce1ce687a367de82aec90557" title="Pointer to go_deeper function that will be modified by various permuters.">go_deeper_fxn_</a> = &amp;<a class="code" href="a00129.html#ad6dd8117fc7d3d6a2271a501955eb187">tesseract::Dict::go_deeper_dawg_fxn</a>;</div>
<div class="line">  <span class="keywordtype">int</span> attempts_left = <a class="code" href="a00129.html#a724a3890de749e064396026caec31ef7">max_permuter_attempts</a>;</div>
<div class="line">  <a class="code" href="a00129.html#a0ceb12c3a410ba12fdb9a93df11d47e2">permute_choices</a>((<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a> &amp;&amp; <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>) ?</div>
<div class="line">                  <span class="stringliteral">&quot;permute_dawg_debug&quot;</span> : <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line">                  char_choices, start_char_choice_index, NULL, &amp;word,</div>
<div class="line">                  certainties, &amp;rating_limit, best_choice, &amp;attempts_left,</div>
<div class="line">                  &amp;dawg_args);</div>
<div class="line">  <span class="keyword">delete</span>[] active_dawgs;</div>
<div class="line">  <span class="keyword">delete</span>[] constraints;</div>
<div class="line">  <span class="keywordflow">if</span> (re_enable_choice_accum) <a class="code" href="a00129.html#a4edfbbb412d84258cc1ef255dfd527aa">EnableChoiceAccum</a>();</div>
<div class="line">  <span class="keywordflow">return</span> best_choice;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac6d42fd255de06ec27abf5d7ba086c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00395.html">WERD_CHOICE</a>* tesseract::Dict::dawg_permute_and_select </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rating_limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00191">191</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                                       {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="a00129.html#ac787e92f677e96a926d0c79e46a15461">dawg_permute_and_select</a>(char_choices, rating_limit,</div>
<div class="line">                                   kAnyWordLength, 0);</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3fda452853da426de36eecfe03d00bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::DebugWordChoices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints the current choices for this word to stdout. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00330">330</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                            {</div>
<div class="line">  <a class="code" href="a00221.html">LIST</a> Choices;</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line">  <span class="keywordtype">char</span> LabelString[80];</div>
<div class="line">  <a class="code" href="a00391.html">VIABLE_CHOICE</a> VChoice = (<a class="code" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a>)<a class="code" href="a00794.html#a69547be764424f18b0be535400747978">first_node</a>(best_choices_);</div>
<div class="line">  <span class="keywordtype">bool</span> force_debug =</div>
<div class="line">    <a class="code" href="a00129.html#ad5e37470ce50ef6e19c291cd12b0d123">fragments_debug</a> &amp;&amp; VChoice != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; VChoice-&gt;<a class="code" href="a00391.html#a5b91c9de772bbeca40909bd3a30d0115">ComposedFromCharFragments</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 1 || force_debug ||</div>
<div class="line">  (((<a class="code" href="a00319.html">STRING</a>)<a class="code" href="a00129.html#aa858b147d2551976cea6cc174544988e">word_to_debug</a>).length() &gt; 0 &amp;&amp; best_choices_ &amp;&amp;</div>
<div class="line">       <a class="code" href="a00129.html#a88ccbd663564a11a95cf9e592c69e8be">StringSameAs</a>(word_to_debug.<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(), <a class="code" href="a00129.html#a2fe5a98d91c6d9c8b655780cfa8654a4">word_to_debug_lengths</a>.string(),</div>
<div class="line">                    (<a class="code" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a>)<a class="code" href="a00794.html#a69547be764424f18b0be535400747978">first_node</a>(best_choices_)))) {</div>
<div class="line">    <span class="keywordflow">if</span> (best_raw_choice_)</div>
<div class="line">      <a class="code" href="a00129.html#ad5343f10220f5882ddaa461b5e89927c" title="Dumps a text representation of the specified Choice to File.">PrintViableChoice</a>(stderr, <span class="stringliteral">&quot;\nBest Raw Choice:   &quot;</span>, best_raw_choice_);</div>
<div class="line"></div>
<div class="line">    i = 1;</div>
<div class="line">    Choices = best_choices_;</div>
<div class="line">    <span class="keywordflow">if</span> (Choices)</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;\nBest Cooked Choices:\n&quot;</span>);</div>
<div class="line">    <a class="code" href="a00794.html#a2cf19ba78be6b54f66823d58f34f2a53">iterate</a>(Choices) {</div>
<div class="line">      sprintf(LabelString, <span class="stringliteral">&quot;Cooked Choice #%d:  &quot;</span>, i);</div>
<div class="line">      <a class="code" href="a00129.html#ad5343f10220f5882ddaa461b5e89927c" title="Dumps a text representation of the specified Choice to File.">PrintViableChoice</a>(stderr, LabelString,</div>
<div class="line">                        (<a class="code" href="a00391.html">VIABLE_CHOICE</a>)<a class="code" href="a00794.html#a69547be764424f18b0be535400747978">first_node</a>(Choices));</div>
<div class="line">      i++;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acd45e378f915e3dd4bb18a8930e928c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::def_letter_is_okay </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>void_dawg_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a>&#160;</td>
          <td class="paramname"><em>unichar_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>word_end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the maximal permuter code (from <a class="el" href="a00535.html">ccstruct/ratngs.h</a>) if in light of the current state the letter at word_index in the given word is allowed according to at least one of the dawgs in dawgs_, otherwise returns NO_PERM.</p>
<p>The state is described by void_dawg_args, which are interpreted as <a class="el" href="a00123.html">DawgArgs</a> and contain two relevant input vectors: active_dawgs and constraints. Each entry in the active_dawgs vector contains an index into the dawgs_ vector and an EDGE_REF that indicates the last edge followed in the dawg. Each entry in the constraints vector contains an index into the dawgs_ vector and an EDGE_REF that indicates an edge in a pattern dawg followed to match a pattern. Currently constraints are used to save the state of punctuation dawgs after leading punctuation was found.</p>
<p>Input: At word_index 0 dawg_args-&gt;active_dawgs should contain an entry for each dawg whose type has a bit set in kBeginningDawgsType, dawg_args-&gt;constraints should be empty. EDGE_REFs in active_dawgs and constraints vectors should be initialized to NO_EDGE. If hyphen state needs to be applied, initial dawg_args-&gt;active_dawgs and dawg_args-&gt;constrains can be copied from the saved hyphen state (maintained by <a class="el" href="a00129.html">Dict</a>). For word_index &gt; 0 the corresponding state (active_dawgs and constraints) can be obtained from dawg_args-&gt;updated_* passed to def_letter_is_okay for word_index-1. Note: the function assumes that active_dags, constraints and updated_* member variables of dawg_args are not NULL.</p>
<p>Output: The function fills in dawg_args-&gt;updated_active_dawgs vector with the entries for dawgs that contain the word up to the letter at word_index. The new constraints (if any) are added to dawg_args-&gt;updated_constraints, the constraints from dawg_args-&gt;constraints are also copied into it.</p>
<p>Detailed description: In order to determine whether the word is still valid after considering all the letters up to the one at word_index the following is done for each entry in dawg_args-&gt;active_dawgs:</p>
<ul>
<li>next starting node is obtained from entry.ref and edge_char_of() is called to obtain the next edge</li>
<li>if a valid edge is found, the function returns the updated permuter code true and an entry [entry.dawg_index, edge] is inserted in dawg_args-&gt;updated_active_dawgs otherwise:<ul>
<li>if we are dealing with dawg of type DAWG_TYPE_PUNCTUATION, edge_char_of() is called again, but now with kPatternUnicharID as unichar_id; if a valid edge is found it is recorded in dawg_args-&gt;updated_constraints</li>
<li>the function checks whether the word can end with the previous letter</li>
<li>each successor of the dawg (e.g. dawgs with type DAWG_TYPE_WORD could be successors to dawgs with type DAWG_TYPE_PUNCTUATION; the successors are defined by successors_ vector) is explored and if a letter is found in the successor dawg, a new entry is inserted into dawg_args-&gt;updated_active_dawgs with EDGE_REF being either NO_EDGE or an EDGE_REF recorded in constraints vector for the corresponding dawg index </li>
</ul>
</li>
</ul>

<p>Definition at line <a class="el" href="a00802_source.html#l00380">380</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                                                  {</div>
<div class="line">  DawgArgs *dawg_args = <span class="keyword">reinterpret_cast&lt;</span>DawgArgs*<span class="keyword">&gt;</span>(void_dawg_args);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;= 3) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;def_letter_is_okay: current unichar=%s word_end=%d&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot; num active dawgs=%d num constraints=%d\n&quot;</span>,</div>
<div class="line">            <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().debug_str(unichar_id).<span class="keywordtype">string</span>(), word_end,</div>
<div class="line">            dawg_args-&gt;active_dawgs-&gt;length(),</div>
<div class="line">            dawg_args-&gt;constraints-&gt;length());</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Do not accept words that contain kPatternUnicharID.</span></div>
<div class="line">  <span class="comment">// (otherwise pattern dawgs would not function correctly).</span></div>
<div class="line">  <span class="comment">// Do not accept words containing INVALID_UNICHAR_IDs.</span></div>
<div class="line">  <span class="keywordflow">if</span> (unichar_id == <a class="code" href="a00122.html#af6a39872b9a20f3b02020f237731af87">Dawg::kPatternUnicharID</a> ||</div>
<div class="line">      unichar_id == INVALID_UNICHAR_ID) {</div>
<div class="line">    dawg_args-&gt;permuter = NO_PERM;</div>
<div class="line">    <span class="keywordflow">return</span> NO_PERM;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Initialization.</span></div>
<div class="line">  PermuterType curr_perm = NO_PERM;</div>
<div class="line">  dawg_args-&gt;updated_active_dawgs-&gt;clear();</div>
<div class="line">  <span class="keyword">const</span> DawgInfoVector &amp;constraints = *(dawg_args-&gt;constraints);</div>
<div class="line">  *dawg_args-&gt;updated_constraints = constraints;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Go over the active_dawgs vector and insert DawgInfo records with the</span></div>
<div class="line">  <span class="comment">// updated ref (an edge with the corresponding unichar id) into</span></div>
<div class="line">  <span class="comment">// dawg_args-&gt;updated_active_dawgs.</span></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a = 0; a &lt; dawg_args-&gt;active_dawgs-&gt;length(); ++a) {</div>
<div class="line">    <span class="keyword">const</span> DawgInfo &amp;info = (*dawg_args-&gt;active_dawgs)[a];</div>
<div class="line">    <span class="keyword">const</span> Dawg *dawg = dawgs_[info.dawg_index];</div>
<div class="line">    <span class="comment">// dawg_unichar_id will contain the literal unichar_id to be found in the</span></div>
<div class="line">    <span class="comment">// dawgs (e.g. didgit pattern if unichar_id is a digit and dawg contains</span></div>
<div class="line">    <span class="comment">// number patterns, word pattern if dawg is a puncutation dawg and we</span></div>
<div class="line">    <span class="comment">// reached an end of beginning puntuation pattern, etc).</span></div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> dawg_unichar_id = unichar_id;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// If we are dealing with the pattern dawg, look up all the</span></div>
<div class="line">    <span class="comment">// possible edges, not only for the exact unichar_id, but also</span></div>
<div class="line">    <span class="comment">// for all its character classes (alpha, digit, etc).</span></div>
<div class="line">    <span class="keywordflow">if</span> (dawg-&gt;type() == <a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151a4e994eccb48eec56bb31bccd8bbb3cef">DAWG_TYPE_PATTERN</a>) {</div>
<div class="line">      <a class="code" href="a00129.html#a9e46362693e817dcc2f8265854679c80">ProcessPatternEdges</a>(dawg, info, dawg_unichar_id, word_end,</div>
<div class="line">                          dawg_args, &amp;curr_perm);</div>
<div class="line">      <span class="comment">// There can&#39;t be any successors to dawg that is of type</span></div>
<div class="line">      <span class="comment">// DAWG_TYPE_PATTERN, so we are done examining this DawgInfo.</span></div>
<div class="line">      <span class="keywordflow">continue</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// The number dawg generalizes all digits to be kPatternUnicharID,</span></div>
<div class="line">    <span class="comment">// so try to match kPatternUnicharID if the current unichar is a digit.</span></div>
<div class="line">    <span class="keywordflow">if</span> (dawg-&gt;type() == <a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151a16f2414a05db0ec4b7e1b266052a966f">DAWG_TYPE_NUMBER</a> &amp;&amp;</div>
<div class="line">        <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a5951dde3ab90c12c309d776570a10725">get_isdigit</a>(dawg_unichar_id)) {</div>
<div class="line">      dawg_unichar_id = <a class="code" href="a00122.html#af6a39872b9a20f3b02020f237731af87">Dawg::kPatternUnicharID</a>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Find the edge out of the node for the dawg_unichar_id.</span></div>
<div class="line">    <a class="code" href="a00801.html#ac76aca11806fd7167c274dc45b7f7fe8">NODE_REF</a> node = <a class="code" href="a00129.html#aa98baea7a97174cb256643c407c81993" title="Returns the appropriate next node given the EDGE_REF.">GetStartingNode</a>(dawg, info.ref);</div>
<div class="line">    <a class="code" href="a00801.html#a178eb445f9820b58d062f0c988a6f54f">EDGE_REF</a> edge = (node != NO_EDGE) ?</div>
<div class="line">      dawg-&gt;edge_char_of(node, dawg_unichar_id, word_end) : NO_EDGE;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;= 3) {</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Active dawg: [%d, &quot;</span> <a class="code" href="a00801.html#a85a5bf216156dfa399c5edd26f3694db">REFFORMAT</a> <span class="stringliteral">&quot;] edge=&quot;</span> <a class="code" href="a00801.html#a85a5bf216156dfa399c5edd26f3694db">REFFORMAT</a> <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">              info.dawg_index, node, edge);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (edge != NO_EDGE) {  <span class="comment">// the unichar was found in the current dawg</span></div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a5de64b7d07afaeb33408ee296db75f5d">ConstraintsOk</a>(*(dawg_args-&gt;updated_constraints),</div>
<div class="line">                        word_end, dawg-&gt;type())) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;=3) {</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Letter found in dawg %d\n&quot;</span>, info.dawg_index);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (dawg-&gt;permuter() &gt; curr_perm) curr_perm = dawg-&gt;permuter();</div>
<div class="line">        dawg_args-&gt;updated_active_dawgs-&gt;add_unique(</div>
<div class="line">            DawgInfo(info.dawg_index, edge), <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt; 0,</div>
<div class="line">            <span class="stringliteral">&quot;Append current dawg to updated active dawgs: &quot;</span>);</div>
<div class="line">      }</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dawg_args-&gt;sought_word_length == kAnyWordLength) {</div>
<div class="line">      <span class="comment">// The unichar was not found in the current dawg.</span></div>
<div class="line">      <span class="comment">// Explore the successor dawgs (but only if we are not</span></div>
<div class="line">      <span class="comment">// just searching one dawg with a fixed word length).</span></div>
<div class="line"></div>
<div class="line">      <span class="comment">// Handle leading/trailing punctuation dawgs that denote a word pattern</span></div>
<div class="line">      <span class="comment">// as an edge with kPatternUnicharID. If such an edge is found we add a</span></div>
<div class="line">      <span class="comment">// constraint denoting the state of the dawg before the word pattern.</span></div>
<div class="line">      <span class="comment">// This constraint will be applied later when this dawg is found among</span></div>
<div class="line">      <span class="comment">// successor dawgs as well potentially at the end of the word.</span></div>
<div class="line">      <span class="keywordflow">if</span> (dawg-&gt;type() == <a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151aa8e8b65bf32d2884c0bab5fb8223c6eb">DAWG_TYPE_PUNCTUATION</a>) {</div>
<div class="line">        edge = dawg-&gt;edge_char_of(node, <a class="code" href="a00122.html#af6a39872b9a20f3b02020f237731af87">Dawg::kPatternUnicharID</a>, word_end);</div>
<div class="line">        <span class="keywordflow">if</span> (edge != NO_EDGE) {</div>
<div class="line">          dawg_args-&gt;updated_constraints-&gt;add_unique(</div>
<div class="line">              DawgInfo(info.dawg_index, edge), <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt; 0,</div>
<div class="line">              <span class="stringliteral">&quot;Recording constraint: &quot;</span>);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">          <span class="comment">// Do not explore successors of this dawg, since this</span></div>
<div class="line">          <span class="comment">// must be invalid leading or trailing punctuation.</span></div>
<div class="line">          <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;= 3) {</div>
<div class="line">            <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Invalid punctuation from dawg %d\n&quot;</span>, info.dawg_index);</div>
<div class="line">          }</div>
<div class="line">          <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">      <span class="keywordflow">if</span> (info.ref == NO_EDGE) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;= 3) {</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;No letters matched in dawg %d\n&quot;</span>, info.dawg_index);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">continue</span>;</div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">      <span class="comment">// Discard the dawg if the pattern can not end at previous letter.</span></div>
<div class="line">      <span class="keywordflow">if</span> (edge == NO_EDGE &amp;&amp;  <span class="comment">// previous part is not leading punctuation</span></div>
<div class="line">          !dawg-&gt;end_of_word(info.ref)) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;= 3) {</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;No valid pattern end in dawg %d\n&quot;</span>, info.dawg_index);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">continue</span>;</div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">      <span class="comment">// Look for the unichar in each of this dawg&#39;s successors</span></div>
<div class="line">      <span class="comment">// and append those in which it is found to active_dawgs.</span></div>
<div class="line">      <span class="keyword">const</span> <a class="code" href="a00995.html#a2da5d0a635bfbb70a26ab0844903bed3">SuccessorList</a> &amp;slist = *(successors_[info.dawg_index]);</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> s = 0; s &lt; slist.length(); ++s) {</div>
<div class="line">        <span class="keywordtype">int</span> sdawg_index = slist[s];</div>
<div class="line">        <span class="keyword">const</span> Dawg *sdawg = dawgs_[sdawg_index];</div>
<div class="line">        <a class="code" href="a00801.html#ac76aca11806fd7167c274dc45b7f7fe8">NODE_REF</a> snode = 0;</div>
<div class="line">        <span class="comment">// Apply constraints to the successor dawg.</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; constraints.length(); ++c) {</div>
<div class="line">          <span class="comment">// If the successor dawg is described in the constraints change</span></div>
<div class="line">          <span class="comment">// the start ref from 0 to the one recorded as the constraint.</span></div>
<div class="line">          <span class="keyword">const</span> DawgInfo &amp;cinfo = constraints[c];</div>
<div class="line">          <span class="keywordflow">if</span> (cinfo.dawg_index == sdawg_index) {</div>
<div class="line">            snode = sdawg-&gt;next_node(cinfo.ref);</div>
<div class="line">            <span class="comment">// Make sure we do not search the successor dawg if after</span></div>
<div class="line">            <span class="comment">// applying the saved constraint we are at the end of the word.</span></div>
<div class="line">            <span class="keywordflow">if</span> (snode == 0) snode = NO_EDGE;</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;= 3) {</div>
<div class="line">               <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Applying constraint [%d, &quot;</span> <a class="code" href="a00801.html#a85a5bf216156dfa399c5edd26f3694db">REFFORMAT</a> <span class="stringliteral">&quot;]\n&quot;</span>,</div>
<div class="line">                       sdawg_index, snode);</div>
<div class="line">            }</div>
<div class="line">          }</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// Look for the letter in this successor dawg.</span></div>
<div class="line">        <a class="code" href="a00801.html#a178eb445f9820b58d062f0c988a6f54f">EDGE_REF</a> sedge = sdawg-&gt;edge_char_of(snode, unichar_id, word_end);</div>
<div class="line">        <span class="comment">// If we found the letter append sdawg to the active_dawgs list.</span></div>
<div class="line">        <span class="keywordflow">if</span> (sedge != NO_EDGE &amp;&amp;</div>
<div class="line">            <a class="code" href="a00129.html#a5de64b7d07afaeb33408ee296db75f5d">ConstraintsOk</a>(*(dawg_args-&gt;updated_constraints), word_end,</div>
<div class="line">                          dawgs_[sdawg_index]-&gt;type())) {</div>
<div class="line">          <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;= 3) {</div>
<div class="line">            <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Letter found in the successor dawg %d\n&quot;</span>, sdawg_index);</div>
<div class="line">          }</div>
<div class="line">          <span class="keywordflow">if</span> (sdawg-&gt;permuter() &gt; curr_perm) curr_perm = sdawg-&gt;permuter();</div>
<div class="line">          <span class="keywordflow">if</span> (sdawg-&gt;next_node(sedge) != 0) {  <span class="comment">// if not word end</span></div>
<div class="line">            dawg_args-&gt;updated_active_dawgs-&gt;add_unique(</div>
<div class="line">              DawgInfo(sdawg_index, sedge), <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt; 0,</div>
<div class="line">              <span class="stringliteral">&quot;Append successor to updated active dawgs: &quot;</span>);</div>
<div class="line">          }</div>
<div class="line">        }</div>
<div class="line">      }  <span class="comment">// end successors loop</span></div>
<div class="line">    }  <span class="comment">// end if/else</span></div>
<div class="line">  }  <span class="comment">// end for</span></div>
<div class="line">  <span class="comment">// Update dawg_args-&gt;permuter if it used to be NO_PERM or became NO_PERM</span></div>
<div class="line">  <span class="comment">// or if we found the current letter in a non-punctuation dawg. This</span></div>
<div class="line">  <span class="comment">// allows preserving information on which dawg the &quot;core&quot; word came from.</span></div>
<div class="line">  <span class="comment">// Keep the old value of dawg_args-&gt;permuter if it is COMPOUND_PERM.</span></div>
<div class="line">  <span class="keywordflow">if</span> (dawg_args-&gt;permuter == NO_PERM || curr_perm == NO_PERM ||</div>
<div class="line">      (curr_perm != PUNC_PERM &amp;&amp; dawg_args-&gt;permuter != COMPOUND_PERM)) {</div>
<div class="line">    dawg_args-&gt;permuter = curr_perm;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> dawg_args-&gt;permuter;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8f256b3bc0e806c492837ee0d8a0fc97"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::def_probability_in_context </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>lang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>context_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>character</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>character_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default (no-op) implementation of probability in context function. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00587">587</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                  {</div>
<div class="line">    (void) context;</div>
<div class="line">    (void) context_bytes;</div>
<div class="line">    (void) <a class="code" href="a00670.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>;</div>
<div class="line">    (void) character_bytes;</div>
<div class="line">    <span class="keywordflow">return</span> 0.0;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9c4215da27d2ea4c117d1e6227c5b492"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::DisableChoiceAccum </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00344">344</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">{ keep_word_choices_ = <span class="keyword">false</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4edfbbb412d84258cc1ef255dfd527aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::EnableChoiceAccum </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00345">345</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">{ keep_word_choices_ = <span class="keyword">true</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a899e3d5588422e9dac68ac5049069dd4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::End </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00802_source.html#l00335">335</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">               {</div>
<div class="line">  <span class="keywordflow">if</span> (dawgs_.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() == 0)</div>
<div class="line">    <span class="keywordflow">return</span>;  <span class="comment">// Not safe to call twice.</span></div>
<div class="line">  dawgs_.<a class="code" href="a00175.html#a98f62dccd75224a60437c2761bd215cd">delete_data_pointers</a>();</div>
<div class="line">  successors_.<a class="code" href="a00175.html#a98f62dccd75224a60437c2761bd215cd">delete_data_pointers</a>();</div>
<div class="line">  dawgs_.<a class="code" href="a00175.html#a9cdbff49b186574b83e43afba606fdd9">clear</a>();</div>
<div class="line">  <span class="keyword">delete</span> bigram_dawg_;</div>
<div class="line">  successors_.<a class="code" href="a00175.html#a9cdbff49b186574b83e43afba606fdd9">clear</a>();</div>
<div class="line">  document_words_ = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  max_fixed_length_dawgs_wdlen_ = -1;</div>
<div class="line">  <span class="keywordflow">if</span> (pending_words_ != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    <span class="keyword">delete</span> pending_words_;</div>
<div class="line">    pending_words_ = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2aeffdb2c4e3263a4684b4baff79f91f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::end_permute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ace7f6baf4e425e1d50aac0d1383eb023"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::EndDangerousAmbigs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00811_source.html#l00778">778</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">{}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7b67011e3b43ead95473e2b25798e0fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::FillViableChoice </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>WordChoice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>AdjustFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>Certainties</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a>&#160;</td>
          <td class="paramname"><em>ViableChoice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fill ViableChoice with information from WordChoice, AChoice, AdjustFactor, and Certainties. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00943">943</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                        {</div>
<div class="line">  ViableChoice-&gt;<a class="code" href="a00391.html#a5c826e0dfb1ae9fff772735294f38f91">Init</a>(WordChoice, current_segmentation_, Certainties,</div>
<div class="line">                     AdjustFactor);</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9ac3719475ad0a39d464307e1bd74ae3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::FilterWordChoices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes from best_choices_ all choices which are not within a reasonable range of the best choice. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00375">375</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                             {</div>
<div class="line">  <a class="code" href="a00149.html">EXPANDED_CHOICE</a> BestChoice;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (best_choices_ == <a class="code" href="a00794.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a> || <a class="code" href="a00794.html#a19193ca85a67521a062bccea79e8efcc">second_node</a> (best_choices_) == <a class="code" href="a00794.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>)</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Compute certainties and class for each chunk in best choice.</span></div>
<div class="line">  <a class="code" href="a00391.html">VIABLE_CHOICE_STRUCT</a> *best_choice =</div>
<div class="line">      (<a class="code" href="a00391.html">VIABLE_CHOICE_STRUCT</a> *)<a class="code" href="a00794.html#a69547be764424f18b0be535400747978">first_node</a>(best_choices_);</div>
<div class="line">  ExpandChoice(best_choice, &amp;BestChoice);</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 2)</div>
<div class="line">    <a class="code" href="a00129.html#ad5343f10220f5882ddaa461b5e89927c" title="Dumps a text representation of the specified Choice to File.">PrintViableChoice</a>(stderr, <span class="stringliteral">&quot;\nFiltering against best choice: &quot;</span>, best_choice);</div>
<div class="line">  <a class="code" href="a00368.html">TessResultCallback2&lt;int, void*, void*&gt;</a>* is_bad =</div>
<div class="line">      <a class="code" href="a00604.html#ad000c6729bae0f97075ca10a0b5bf7d6">NewPermanentTessCallback</a>(<span class="keyword">this</span>, &amp;<a class="code" href="a00129.html#ac6b70920a4f5f5e33bfd4be2600d3192">Dict::FreeBadChoice</a>);</div>
<div class="line">  <a class="code" href="a00794.html#a42cc2d9c5eabb2193e2e64df41adedf4">set_rest</a>(best_choices_, <a class="code" href="a00793.html#a1fa3ecce52a0563f595b8f1428cc1211">delete_d</a>(<a class="code" href="a00794.html#adb120d4c08ce52b5dfe524f0419a9154">list_rest</a>(best_choices_),</div>
<div class="line">                                   &amp;BestChoice, is_bad));</div>
<div class="line">  <span class="keyword">delete</span> is_bad;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af564403205ca1603825a3a2f59727089"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::FindClassifierErrors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>MinRating</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>MaxRating</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>RatingMargin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Thresholds</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compares the best choice for the current word to the best raw choice to determine which characters were classified incorrectly by the classifier. Then places a separate threshold into Thresholds for each character in the word. If the classifier was correct, MaxRating is placed into Thresholds. If the classifier was incorrect, the avg. match rating (error percentage) of the classifier's incorrect choice minus some margin is placed into thresholds.This can then be used by the caller to try to create a new template for the desired class that will classify the character with a rating better than the threshold value. The match rating placed into Thresholds is never allowed to be below MinRating in order to prevent trying to make overly tight templates. MinRating limits how tight to make a template. MaxRating limits how loose to make a template. RatingMargin denotes the amount of margin to put in template. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00394">394</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                      {</div>
<div class="line">  <a class="code" href="a00149.html">EXPANDED_CHOICE</a> BestRaw;</div>
<div class="line">  <a class="code" href="a00391.html">VIABLE_CHOICE</a> Choice;</div>
<div class="line">  <span class="keywordtype">int</span> i, j, Chunk;</div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> AvgRating;</div>
<div class="line">  <span class="keywordtype">int</span> NumErrorChunks;</div>
<div class="line"></div>
<div class="line">  assert (best_choices_ != <a class="code" href="a00794.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>);</div>
<div class="line">  assert (best_raw_choice_ != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"></div>
<div class="line">  ExpandChoice(best_raw_choice_, &amp;BestRaw);</div>
<div class="line">  Choice = (<a class="code" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a>) <a class="code" href="a00794.html#a69547be764424f18b0be535400747978">first_node</a> (best_choices_);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0, Chunk = 0; i &lt; Choice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a>; i++, Thresholds++) {</div>
<div class="line">    AvgRating = 0.0;</div>
<div class="line">    NumErrorChunks = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (j = 0; j &lt; Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#ac928eaafcdc57fcd44d82ab9a56e9da3">NumChunks</a>; j++, Chunk++) {</div>
<div class="line">      <span class="keywordflow">if</span> (Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#afae513ffd1d6fd0167baa1dce1b86c60">Class</a> != BestRaw.<a class="code" href="a00149.html#a11fe81823f699925280e17125e377610">ChunkClass</a>[Chunk]) {</div>
<div class="line">        AvgRating += BestRaw.<a class="code" href="a00149.html#afbb52238790fc6f1b54b8c53d09daaca">ChunkCertainty</a>[Chunk];</div>
<div class="line">        NumErrorChunks++;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (NumErrorChunks &gt; 0) {</div>
<div class="line">      AvgRating /= NumErrorChunks;</div>
<div class="line">      *Thresholds = (AvgRating / -<a class="code" href="a00129.html#a054d69744519c2c7a89e7b1159347385">certainty_scale</a>) * (1.0 - RatingMargin);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      *Thresholds = MaxRating;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (*Thresholds &gt; MaxRating)</div>
<div class="line">      *Thresholds = MaxRating;</div>
<div class="line">    <span class="keywordflow">if</span> (*Thresholds &lt; MinRating)</div>
<div class="line">      *Thresholds = MinRating;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af58a79352c0ac94a552a9b2136b1682a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::fragment_state_okay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a>&#160;</td>
          <td class="paramname"><em>curr_unichar_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>curr_rating</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>curr_certainty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00075.html">CHAR_FRAGMENT_INFO</a> *&#160;</td>
          <td class="paramname"><em>prev_char_frag_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>word_ending</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00075.html">CHAR_FRAGMENT_INFO</a> *&#160;</td>
          <td class="paramname"><em>char_frag_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Semi-generic functions used by multiple permuters. </p>

<p>Definition at line <a class="el" href="a00807_source.html#l01283">1283</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                   {</div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="a00074.html">CHAR_FRAGMENT</a> *this_fragment =</div>
<div class="line">    <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(curr_unichar_id);</div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="a00074.html">CHAR_FRAGMENT</a> *prev_fragment =</div>
<div class="line">    prev_char_frag_info != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ? prev_char_frag_info-&gt;<a class="code" href="a00075.html#a100f7283db6a6078cba9b526cfe71045">fragment</a> : <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Print debug info for fragments.</span></div>
<div class="line">  <span class="keywordflow">if</span> (debug &amp;&amp; (prev_fragment || this_fragment)) {</div>
<div class="line">    <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;%s check fragments: choice=%s word_ending=%d\n&quot;</span>, debug,</div>
<div class="line">            <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().debug_str(curr_unichar_id).<span class="keywordtype">string</span>(),</div>
<div class="line">            word_ending);</div>
<div class="line">    <span class="keywordflow">if</span> (prev_fragment) {</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;prev_fragment %s\n&quot;</span>, prev_fragment-&gt;<a class="code" href="a00074.html#ab845f2c4b4a4bac23392806c445f1fe4">to_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (this_fragment) {</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;this_fragment %s\n&quot;</span>, this_fragment-&gt;<a class="code" href="a00074.html#ab845f2c4b4a4bac23392806c445f1fe4">to_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  char_frag_info-&gt;<a class="code" href="a00075.html#a24af551ad80e76f6f7d504caced974d4">unichar_id</a> = curr_unichar_id;</div>
<div class="line">  char_frag_info-&gt;<a class="code" href="a00075.html#a100f7283db6a6078cba9b526cfe71045">fragment</a> = this_fragment;</div>
<div class="line">  char_frag_info-&gt;<a class="code" href="a00075.html#ac843ec4aa587f6a77ce573bb199997e9">rating</a> = curr_rating;</div>
<div class="line">  char_frag_info-&gt;<a class="code" href="a00075.html#ae6d64915bd517270e523ffb8684b984b">certainty</a> = curr_certainty;</div>
<div class="line">  char_frag_info-&gt;<a class="code" href="a00075.html#ac5d1359d9ae58c6fc68180aa0d0ec95d">num_fragments</a> = 1;</div>
<div class="line">  <span class="keywordflow">if</span> (prev_fragment &amp;&amp; !this_fragment) {</div>
<div class="line">    <span class="keywordflow">if</span> (debug) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Skip choice with incomplete fragment\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (this_fragment) {</div>
<div class="line">    <span class="comment">// We are dealing with a fragment.</span></div>
<div class="line">    char_frag_info-&gt;<a class="code" href="a00075.html#a24af551ad80e76f6f7d504caced974d4">unichar_id</a> = INVALID_UNICHAR_ID;</div>
<div class="line">    <span class="keywordflow">if</span> (prev_fragment) {</div>
<div class="line">      <span class="keywordflow">if</span> (!this_fragment-&gt;<a class="code" href="a00074.html#a1a11643ca234b3a4f1fa52b07fb03350">is_continuation_of</a>(prev_fragment)) {</div>
<div class="line">        <span class="keywordflow">if</span> (debug) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Non-matching fragment piece\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">if</span> (this_fragment-&gt;<a class="code" href="a00074.html#af222b3b2c71de6199f75e3a7a64aa660">is_ending</a>()) {</div>
<div class="line">        char_frag_info-&gt;<a class="code" href="a00075.html#a24af551ad80e76f6f7d504caced974d4">unichar_id</a> =</div>
<div class="line">          <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(this_fragment-&gt;<a class="code" href="a00074.html#aabfbe5c558b411ecb3c9a34d0615c2de">get_unichar</a>());</div>
<div class="line">        char_frag_info-&gt;<a class="code" href="a00075.html#a100f7283db6a6078cba9b526cfe71045">fragment</a> = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">        <span class="keywordflow">if</span> (debug) {</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Built character %s from fragments\n&quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().debug_str(</div>
<div class="line">                      char_frag_info-&gt;<a class="code" href="a00075.html#a24af551ad80e76f6f7d504caced974d4">unichar_id</a>).string());</div>
<div class="line">        }</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (debug) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Record fragment continuation\n&quot;</span>);</div>
<div class="line">        char_frag_info-&gt;<a class="code" href="a00075.html#a100f7283db6a6078cba9b526cfe71045">fragment</a> = this_fragment;</div>
<div class="line">      }</div>
<div class="line">      <span class="comment">// Update certainty and rating.</span></div>
<div class="line">      char_frag_info-&gt;<a class="code" href="a00075.html#ac843ec4aa587f6a77ce573bb199997e9">rating</a> =</div>
<div class="line">        prev_char_frag_info-&gt;<a class="code" href="a00075.html#ac843ec4aa587f6a77ce573bb199997e9">rating</a> + curr_rating;</div>
<div class="line">      char_frag_info-&gt;<a class="code" href="a00075.html#ac5d1359d9ae58c6fc68180aa0d0ec95d">num_fragments</a> = prev_char_frag_info-&gt;<a class="code" href="a00075.html#ac5d1359d9ae58c6fc68180aa0d0ec95d">num_fragments</a> + 1;</div>
<div class="line">      char_frag_info-&gt;<a class="code" href="a00075.html#ae6d64915bd517270e523ffb8684b984b">certainty</a> =</div>
<div class="line">        <a class="code" href="a00587.html#a74e75242132eaabbc1c512488a135926">MIN</a>(curr_certainty, prev_char_frag_info-&gt;<a class="code" href="a00075.html#ae6d64915bd517270e523ffb8684b984b">certainty</a>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      <span class="keywordflow">if</span> (this_fragment-&gt;<a class="code" href="a00074.html#a42707cfcbf1e9a38ec0333d3202f8d80">is_beginning</a>()) {</div>
<div class="line">        <span class="keywordflow">if</span> (debug) <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Record fragment beginning\n&quot;</span>);</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (debug) {</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Non-starting fragment piece with no prev_fragment\n&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (word_ending &amp;&amp; char_frag_info-&gt;<a class="code" href="a00075.html#a100f7283db6a6078cba9b526cfe71045">fragment</a>) {</div>
<div class="line">    <span class="keywordflow">if</span> (debug) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Word can not end with a fragment\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac6b70920a4f5f5e33bfd4be2600d3192"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::FreeBadChoice </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>item1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>item2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00811_source.html#l00167">167</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                 {  <span class="comment">// EXPANDED_CHOICE *BestChoice</span></div>
<div class="line">  <span class="keywordtype">int</span> i, j, Chunk;</div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Threshold;</div>
<div class="line">  <a class="code" href="a00391.html">VIABLE_CHOICE</a> Choice = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="a00391.html">VIABLE_CHOICE</a><span class="keyword">&gt;</span>(item1);</div>
<div class="line">  <a class="code" href="a00149.html">EXPANDED_CHOICE</a> *BestChoice = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="a00149.html">EXPANDED_CHOICE</a> *<span class="keyword">&gt;</span>(item2);</div>
<div class="line">  Threshold = <a class="code" href="a00129.html#a863f4f02d43f02f85d051d9e632c0c4e">StopperAmbigThreshold</a>(BestChoice-&gt;<a class="code" href="a00149.html#a9eed624f89a5edc423a95b43f4bb92e1">Choice</a>-&gt;<a class="code" href="a00391.html#a0f0a2441140b16e144665ecc0f8beb66">AdjustFactor</a>,</div>
<div class="line">                                    Choice-&gt;<a class="code" href="a00391.html#a0f0a2441140b16e144665ecc0f8beb66">AdjustFactor</a>);</div>
<div class="line">  <span class="keywordflow">for</span> (i = 0, Chunk = 0; i &lt; Choice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a>; i++) {</div>
<div class="line">    <span class="keywordflow">for</span> (j = 0; j &lt; Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#ac928eaafcdc57fcd44d82ab9a56e9da3">NumChunks</a>; j++, Chunk++) {</div>
<div class="line">      <span class="keywordflow">if</span> (Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#afae513ffd1d6fd0167baa1dce1b86c60">Class</a> != BestChoice-&gt;<a class="code" href="a00149.html#a11fe81823f699925280e17125e377610">ChunkClass</a>[Chunk] &amp;&amp;</div>
<div class="line">          Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#a507a1c58c2bd055d3b3e944327a61b1d">Certainty</a> - BestChoice-&gt;<a class="code" href="a00149.html#afbb52238790fc6f1b54b8c53d09daaca">ChunkCertainty</a>[Chunk] &lt;</div>
<div class="line">          Threshold) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 2)</div>
<div class="line">          <a class="code" href="a00129.html#ad5343f10220f5882ddaa461b5e89927c" title="Dumps a text representation of the specified Choice to File.">PrintViableChoice</a>(stderr, <span class="stringliteral">&quot;\nDiscarding bad choice:  &quot;</span>, Choice);</div>
<div class="line">        <span class="keyword">delete</span> Choice;</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8d9601c5bb5c5050ac8db64ecb1bf2d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00395.html">WERD_CHOICE</a> * tesseract::Dict::get_top_choice_word </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the top choice for each character as the choice for the word. </p>

<p>Definition at line <a class="el" href="a00807_source.html#l00908">908</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                                                 {</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> *top_word = <span class="keyword">new</span> <a class="code" href="a00395.html">WERD_CHOICE</a>(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(), <a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a>);</div>
<div class="line">  <span class="keywordtype">float</span> certainties[<a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a>];</div>
<div class="line">  top_word-&gt;<a class="code" href="a00395.html#a162d90ae016fbf55256591bbf01c0c03">set_permuter</a>(TOP_CHOICE_PERM);</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); x++) {</div>
<div class="line">    BLOB_CHOICE_IT blob_choice_it;</div>
<div class="line">    blob_choice_it.set_to_list(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x));</div>
<div class="line">    <a class="code" href="a00052.html">BLOB_CHOICE</a> *top_choice = blob_choice_it.data();</div>
<div class="line">    top_word-&gt;<a class="code" href="a00395.html#a222ced86be88a66a119b6c5d10af23fb">append_unichar_id_space_allocated</a>(top_choice-&gt;<a class="code" href="a00052.html#aaba6190b77c5f3dc21905fc4118afa94">unichar_id</a>(), 1,</div>
<div class="line">                                                top_choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>(),</div>
<div class="line">                                                top_choice-&gt;<a class="code" href="a00052.html#af53d45b718c562ea7209b583c77ac14e">certainty</a>());</div>
<div class="line">    certainties[x] = top_choice-&gt;<a class="code" href="a00052.html#af53d45b718c562ea7209b583c77ac14e">certainty</a>();</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="a00129.html#a5d0400dc126a0dc472c3c28545da65a8">LogNewChoice</a>(1.0, certainties, <span class="keyword">true</span>, top_word, char_choices);</div>
<div class="line">  <span class="keywordflow">return</span> top_word;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a268a065cccec5814d412d7bde583cc3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::get_top_word_script </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00387.html">UNICHARSET</a> &amp;&#160;</td>
          <td class="paramname"><em>unicharset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00802_source.html#l00908">908</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                                                            {</div>
<div class="line">  <span class="keywordtype">int</span> max_script = unicharset.<a class="code" href="a00387.html#a0135deaa943171c17951190c4cba43f8">get_script_table_size</a>();</div>
<div class="line">  <span class="keywordtype">int</span> *sid = <span class="keyword">new</span> <span class="keywordtype">int</span>[max_script];</div>
<div class="line">  <span class="keywordtype">int</span> x;</div>
<div class="line">  <span class="keywordflow">for</span> (x = 0; x &lt; max_script; x++) sid[x] = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (x = 0; x &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++x) {</div>
<div class="line">    BLOB_CHOICE_IT blob_choice_it(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x));</div>
<div class="line">    sid[blob_choice_it.data()-&gt;script_id()]++;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (unicharset.<a class="code" href="a00387.html#af6459dc0dd8e46d86504c861bdf3b89a">han_sid</a>() != unicharset.<a class="code" href="a00387.html#a126914ee29131685037c122375169a62">null_sid</a>()) {</div>
<div class="line">    <span class="comment">// Add the Hiragana &amp; Katakana counts to Han and zero them out.</span></div>
<div class="line">    <span class="keywordflow">if</span> (unicharset.<a class="code" href="a00387.html#acb42b72a86cd0c1285a2a769b54eebbd">hiragana_sid</a>() != unicharset.<a class="code" href="a00387.html#a126914ee29131685037c122375169a62">null_sid</a>()) {</div>
<div class="line">      sid[unicharset.<a class="code" href="a00387.html#af6459dc0dd8e46d86504c861bdf3b89a">han_sid</a>()] += sid[unicharset.<a class="code" href="a00387.html#acb42b72a86cd0c1285a2a769b54eebbd">hiragana_sid</a>()];</div>
<div class="line">      sid[unicharset.<a class="code" href="a00387.html#acb42b72a86cd0c1285a2a769b54eebbd">hiragana_sid</a>()] = 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (unicharset.<a class="code" href="a00387.html#adc40797ac6843aeef70069b051266226">katakana_sid</a>() != unicharset.<a class="code" href="a00387.html#a126914ee29131685037c122375169a62">null_sid</a>()) {</div>
<div class="line">      sid[unicharset.<a class="code" href="a00387.html#af6459dc0dd8e46d86504c861bdf3b89a">han_sid</a>()] += sid[unicharset.<a class="code" href="a00387.html#adc40797ac6843aeef70069b051266226">katakana_sid</a>()];</div>
<div class="line">      sid[unicharset.<a class="code" href="a00387.html#adc40797ac6843aeef70069b051266226">katakana_sid</a>()] = 0;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Note that high script ID overrides lower one on a tie, thus biasing</span></div>
<div class="line">  <span class="comment">// towards non-Common script (if sorted that way in unicharset file).</span></div>
<div class="line">  <span class="keywordtype">int</span> max_sid = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (x = 1; x &lt; max_script; x++)</div>
<div class="line">    <span class="keywordflow">if</span> (sid[x] &gt;= sid[max_sid]) max_sid = x;</div>
<div class="line">  <span class="keywordflow">if</span> (sid[max_sid] &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() / 2)</div>
<div class="line">    max_sid = unicharset.<a class="code" href="a00387.html#a126914ee29131685037c122375169a62">null_sid</a>();</div>
<div class="line">  <span class="keyword">delete</span>[] sid;</div>
<div class="line">  <span class="keywordflow">return</span> max_sid;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ade61fd4f5d0ecf8fba10c99a4b224c8a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00407.html#aa200acf94add0e61783bfcd5965bb645">LIST</a>&amp; tesseract::Dict::getBestChoices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00730">730</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">{ <span class="keywordflow">return</span> best_choices_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a774c3a8e23c9e4f47412936b304dae03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00122.html">Dawg</a>* tesseract::Dict::GetDawg </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return i-th dawg pointer recorded in the dawgs_ vector. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00605">605</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">{ <span class="keywordflow">return</span> dawgs_[index]; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0e4f813ccf9441d2e7b90da31494fdc2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00122.html">Dawg</a>* tesseract::Dict::GetFixedLengthDawg </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>word_length</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the pointer to the <a class="el" href="a00122.html">Dawg</a> that contains words of length word_length. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00611">611</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                               {</div>
<div class="line">    <span class="keywordflow">if</span> (word_length &gt; max_fixed_length_dawgs_wdlen_) <span class="keywordflow">return</span> <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">    assert(dawgs_.<a class="code" href="a00175.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>() &gt; word_length);</div>
<div class="line">    <span class="keywordflow">return</span> dawgs_[word_length];</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4acbe41544b8cdb7008d2ddacab10e57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00186.html">Image</a>* tesseract::Dict::getImage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00094">94</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                {</div>
<div class="line">    <span class="keywordflow">return</span> image_ptr_;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a00cf3c479c6090b94b513dbb44edc5e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00186.html">Image</a>* tesseract::Dict::getImage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00097">97</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                    {</div>
<div class="line">    <span class="keywordflow">return</span> image_ptr_;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a44c62a7904145157e4aa303fcf6ef923"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int tesseract::Dict::GetMaxFixedLengthDawgIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00616">616</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                      {</div>
<div class="line">    <span class="keywordflow">return</span> max_fixed_length_dawgs_wdlen_;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7378d34b2d5ede5f2d40dcb8932bab9d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00122.html">Dawg</a>* tesseract::Dict::GetPuncDawg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the points to the punctuation dawg. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00607">607</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">{ <span class="keywordflow">return</span> punc_dawg_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa98baea7a97174cb256643c407c81993"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="a00801.html#ac76aca11806fd7167c274dc45b7f7fe8">NODE_REF</a> tesseract::Dict::GetStartingNode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00122.html">Dawg</a> *&#160;</td>
          <td class="paramname"><em>dawg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00801.html#a178eb445f9820b58d062f0c988a6f54f">EDGE_REF</a>&#160;</td>
          <td class="paramname"><em>edge_ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the appropriate next node given the EDGE_REF. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00620">620</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                                              {</div>
<div class="line">    <span class="keywordflow">if</span> (edge_ref == NO_EDGE) <span class="keywordflow">return</span> 0;  <span class="comment">// beginning to explore the dawg</span></div>
<div class="line">    <a class="code" href="a00801.html#ac76aca11806fd7167c274dc45b7f7fe8">NODE_REF</a> node = dawg-&gt;next_node(edge_ref);</div>
<div class="line">    <span class="keywordflow">if</span> (node == 0) node = NO_EDGE;  <span class="comment">// end of word</span></div>
<div class="line">    <span class="keywordflow">return</span> node;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a805761b3e96514664545e7f0603c0627"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00122.html">Dawg</a>* tesseract::Dict::GetUnambigDawg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the points to the unambiguous words dawg. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00609">609</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">{ <span class="keywordflow">return</span> unambig_dawg_; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4a886a86bc5d0d4405dd9da165b3e1fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00383.html">UnicharAmbigs</a>&amp; tesseract::Dict::getUnicharAmbigs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00106">106</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                          {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;<a class="code" href="a00186.html#a70f25dbbb805a9ffe518d48794cfca95">getCCUtil</a>()-&gt;<a class="code" href="a00070.html#aea55f12febe34f7fec0f2300ef5ab418">unichar_ambigs</a>;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a635ce00ba9aa24247563d26ae26da631"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00387.html">UNICHARSET</a>&amp; tesseract::Dict::getUnicharset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00100">100</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                          {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;<a class="code" href="a00186.html#a70f25dbbb805a9ffe518d48794cfca95">getCCUtil</a>()-&gt;<a class="code" href="a00070.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acef7ecc6e5fe567fe9646b733df02455"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00387.html">UNICHARSET</a>&amp; tesseract::Dict::getUnicharset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00103">103</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                              {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;<a class="code" href="a00186.html#a70f25dbbb805a9ffe518d48794cfca95">getCCUtil</a>()-&gt;<a class="code" href="a00070.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad6dd8117fc7d3d6a2271a501955eb187"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::go_deeper_dawg_fxn </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>char_choice_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00075.html">CHAR_FRAGMENT_INFO</a> *&#160;</td>
          <td class="paramname"><em>prev_char_frag_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>word_ending</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>certainties</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>best_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>attempts_left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>void_more_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the choice being composed so far could be a dictionary word and we have not reached the end of the word keep exploring the char_choices further. Also: &ndash; sets hyphen word if needed &ndash; if word_ending is true and the word is better than best_choice, copies word to best_choice and logs new word choice </p>

<p>Definition at line <a class="el" href="a00806_source.html#l00067">67</a> of file <a class="el" href="a00806_source.html">permdawg.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                        {</div>
<div class="line">  DawgArgs *more_args = <span class="keyword">reinterpret_cast&lt;</span>DawgArgs*<span class="keyword">&gt;</span>(void_more_args);</div>
<div class="line">  word_ending = (char_choice_index == more_args-&gt;end_char_choice_index);</div>
<div class="line">  <span class="keywordtype">int</span> word_index = word-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() - 1;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a253fac24ccb5cb9d3b467b0a28c1c0f3" title="Returns true if we are operating in ambigs mode.">ambigs_mode</a>(*limit)) {</div>
<div class="line">    <span class="keywordflow">if</span> (best_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>() &lt; *limit) <span class="keywordflow">return</span>;</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="comment">// Prune bad subwords</span></div>
<div class="line">    <span class="keywordflow">if</span> (more_args-&gt;rating_array[word_index] == <a class="code" href="a00803.html#a47c4ad2b77a30c564406e75c7f570637">NO_RATING</a>) {</div>
<div class="line">      more_args-&gt;rating_array[word_index] = word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>();</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      <span class="keywordtype">float</span> permdawg_limit = more_args-&gt;rating_array[word_index] *</div>
<div class="line">        more_args-&gt;rating_margin + kPermDawgRatingPad;</div>
<div class="line">      <span class="keywordflow">if</span> (permdawg_limit &lt; word-&gt;rating()) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a> &amp;&amp; <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>) {</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;early pruned word rating=%4.2f,&quot;</span></div>
<div class="line">                  <span class="stringliteral">&quot; permdawg_limit=%4.2f, word=%s\n&quot;</span>, word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>(),</div>
<div class="line">                  permdawg_limit, word-&gt;<a class="code" href="a00395.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Deal with hyphens</span></div>
<div class="line">  <span class="keywordflow">if</span> (word_ending &amp;&amp; more_args-&gt;sought_word_length == kAnyWordLength &amp;&amp;</div>
<div class="line">      <a class="code" href="a00129.html#aad63b54f05d3faaee2b8caec2a5145d7" title="Check whether the word has a hyphen at the end.">has_hyphen_end</a>(*word) &amp;&amp; !<a class="code" href="a00129.html#a253fac24ccb5cb9d3b467b0a28c1c0f3" title="Returns true if we are operating in ambigs mode.">ambigs_mode</a>(*limit)) {</div>
<div class="line">    <span class="comment">// Copy more_args-&gt;active_dawgs to clean_active_dawgs removing</span></div>
<div class="line">    <span class="comment">// dawgs of type DAWG_TYPE_PATTERN.</span></div>
<div class="line">    DawgInfoVector clean_active_dawgs;</div>
<div class="line">    <span class="keyword">const</span> DawgInfoVector &amp;active_dawgs = *(more_args-&gt;active_dawgs);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; active_dawgs.size(); ++i) {</div>
<div class="line">      <span class="keywordflow">if</span> (dawgs_[active_dawgs[i].dawg_index]-&gt;type() != <a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151a4e994eccb48eec56bb31bccd8bbb3cef">DAWG_TYPE_PATTERN</a>) {</div>
<div class="line">        clean_active_dawgs += active_dawgs[i];</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (clean_active_dawgs.size() &gt; 0) {</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a> &amp;&amp; <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>)</div>
<div class="line">        <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;new hyphen choice = %s\n&quot;</span>, word-&gt;<a class="code" href="a00395.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">      word-&gt;<a class="code" href="a00395.html#a162d90ae016fbf55256591bbf01c0c03">set_permuter</a>(more_args-&gt;permuter);</div>
<div class="line">      <a class="code" href="a00129.html#a61963914ca2d287fea0db951104d6eac" title="Adjusts the rating of the given word.">adjust_word</a>(word, certainties, &amp;char_choices, <a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>);</div>
<div class="line">      <a class="code" href="a00129.html#ad8bc29be3c9d8ae5bdb7ec972216ad28">set_hyphen_word</a>(*word, *(more_args-&gt;active_dawgs),</div>
<div class="line">                      *(more_args-&gt;constraints));</div>
<div class="line">      <a class="code" href="a00129.html#a8aa52c89f34bc5158cc650699520b50b">update_best_choice</a>(*word, best_choice);</div>
<div class="line">    }</div>
<div class="line">  } <span class="keywordflow">else</span> {  <span class="comment">// Look up char in DAWG</span></div>
<div class="line">    <span class="comment">// TODO(daria): update the rest of the code that specifies alternative</span></div>
<div class="line">    <span class="comment">// letter_is_okay_ functions (e.g. TessCharNgram class) to work with</span></div>
<div class="line">    <span class="comment">// multi-byte unichars and/or unichar ids.</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// If the current unichar is an ngram first try calling</span></div>
<div class="line">    <span class="comment">// letter_is_okay() for each unigram it contains separately.</span></div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> orig_uch_id = word-&gt;<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(word_index);</div>
<div class="line">    <span class="keywordtype">bool</span> checked_unigrams = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isngram(orig_uch_id)) {</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a> &amp;&amp; <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>) {</div>
<div class="line">        <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;checking unigrams in an ngram %s\n&quot;</span>,</div>
<div class="line">                <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().debug_str(orig_uch_id).<span class="keywordtype">string</span>());</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordtype">int</span> orig_num_fragments = word-&gt;<a class="code" href="a00395.html#a6f319ff5e8b21bf4698c6a5863cec27e">fragment_length</a>(word_index);</div>
<div class="line">      <span class="keywordtype">int</span> num_unigrams = 0;</div>
<div class="line">      word-&gt;<a class="code" href="a00395.html#a5ae576ce7f7630e64a149fe67b737f4c">remove_last_unichar_id</a>();</div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">char</span> *ngram_str = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(orig_uch_id);</div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">char</span> *ngram_str_end = ngram_str + strlen(ngram_str);</div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">char</span> *ngram_ptr = ngram_str;</div>
<div class="line">      <span class="keywordtype">bool</span> unigrams_ok = <span class="keyword">true</span>;</div>
<div class="line">      <span class="comment">// Construct DawgArgs that reflect the current state.</span></div>
<div class="line">      DawgInfoVector unigram_active_dawgs = *(more_args-&gt;active_dawgs);</div>
<div class="line">      DawgInfoVector unigram_constraints = *(more_args-&gt;constraints);</div>
<div class="line">      DawgInfoVector unigram_updated_active_dawgs;</div>
<div class="line">      DawgInfoVector unigram_updated_constraints;</div>
<div class="line">      DawgArgs unigram_dawg_args(&amp;unigram_active_dawgs,</div>
<div class="line">                                 &amp;unigram_constraints,</div>
<div class="line">                                 &amp;unigram_updated_active_dawgs,</div>
<div class="line">                                 &amp;unigram_updated_constraints, 0.0,</div>
<div class="line">                                 more_args-&gt;permuter,</div>
<div class="line">                                 more_args-&gt;sought_word_length,</div>
<div class="line">                                 more_args-&gt;end_char_choice_index);</div>
<div class="line">      <span class="comment">// Check unigrams in the ngram with letter_is_okay().</span></div>
<div class="line">      <span class="keywordflow">while</span> (unigrams_ok &amp;&amp; ngram_ptr &lt; ngram_str_end) {</div>
<div class="line">        <span class="keywordtype">int</span> step = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ab18a1f069bcb107a7b316520d23fb57c">step</a>(ngram_ptr);</div>
<div class="line">        <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> uch_id = (step &lt;= 0) ? INVALID_UNICHAR_ID :</div>
<div class="line">            <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(ngram_ptr, step);</div>
<div class="line">        ngram_ptr += step;</div>
<div class="line">        ++num_unigrams;</div>
<div class="line">        word-&gt;<a class="code" href="a00395.html#a76b0ea9f9f0d9c08b2e84b7372964001">append_unichar_id</a>(uch_id, 1, 0.0, 0.0);</div>
<div class="line">        unigrams_ok = unigrams_ok &amp;&amp; (this-&gt;*<a class="code" href="a00129.html#a802de385e07531ace182d16653e35f71">letter_is_okay_</a>)(</div>
<div class="line">            &amp;unigram_dawg_args,</div>
<div class="line">            word-&gt;<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(word_index+num_unigrams-1),</div>
<div class="line">            word_ending &amp;&amp; (ngram_ptr == ngram_str_end));</div>
<div class="line">        (*unigram_dawg_args.active_dawgs) =</div>
<div class="line">          *(unigram_dawg_args.updated_active_dawgs);</div>
<div class="line">        (*unigram_dawg_args.constraints) =</div>
<div class="line">          *(unigram_dawg_args.updated_constraints);</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a> &amp;&amp; <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>) {</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;unigram %s is %s\n&quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().debug_str(uch_id).<span class="keywordtype">string</span>(),</div>
<div class="line">                  unigrams_ok ? <span class="stringliteral">&quot;OK&quot;</span> : <span class="stringliteral">&quot;not OK&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">      <span class="comment">// Restore the word and copy the updated dawg state if needed.</span></div>
<div class="line">      <span class="keywordflow">while</span> (num_unigrams-- &gt; 0) word-&gt;<a class="code" href="a00395.html#a5ae576ce7f7630e64a149fe67b737f4c">remove_last_unichar_id</a>();</div>
<div class="line">      word-&gt;<a class="code" href="a00395.html#a222ced86be88a66a119b6c5d10af23fb">append_unichar_id_space_allocated</a>(</div>
<div class="line">          orig_uch_id, orig_num_fragments, 0.0, 0.0);</div>
<div class="line">      <span class="keywordflow">if</span> (unigrams_ok) {</div>
<div class="line">        checked_unigrams = <span class="keyword">true</span>;</div>
<div class="line">        more_args-&gt;permuter = unigram_dawg_args.permuter;</div>
<div class="line">        *(more_args-&gt;updated_active_dawgs) =</div>
<div class="line">          *(unigram_dawg_args.updated_active_dawgs);</div>
<div class="line">        *(more_args-&gt;updated_constraints) =</div>
<div class="line">          *(unigram_dawg_args.updated_constraints);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Check which dawgs from the dawgs_ vector contain the word</span></div>
<div class="line">    <span class="comment">// up to and including the current unichar.</span></div>
<div class="line">    <span class="keywordflow">if</span> (checked_unigrams || (this-&gt;*<a class="code" href="a00129.html#a802de385e07531ace182d16653e35f71">letter_is_okay_</a>)(</div>
<div class="line">        more_args, word-&gt;<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(word_index), word_ending)) {</div>
<div class="line">      <span class="comment">// Add a new word choice</span></div>
<div class="line">      <span class="keywordflow">if</span> (word_ending) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a> &amp;&amp; <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>) {</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;found word = %s\n&quot;</span>, word-&gt;<a class="code" href="a00395.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a253fac24ccb5cb9d3b467b0a28c1c0f3" title="Returns true if we are operating in ambigs mode.">ambigs_mode</a>(*limit) &amp;&amp;</div>
<div class="line">            strcmp(<a class="code" href="a00129.html#acae35981fc849d608182db8cfe881b0b">output_ambig_words_file</a>.string(), <span class="stringliteral">&quot;&quot;</span>) != 0) {</div>
<div class="line">          <span class="keywordflow">if</span> (output_ambig_words_file_ == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">            output_ambig_words_file_ =</div>
<div class="line">                fopen(<a class="code" href="a00129.html#acae35981fc849d608182db8cfe881b0b">output_ambig_words_file</a>.string(), <span class="stringliteral">&quot;wb+&quot;</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (output_ambig_words_file_ == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">              <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Failed to open output_ambig_words_file %s\n&quot;</span>,</div>
<div class="line">                      <a class="code" href="a00129.html#acae35981fc849d608182db8cfe881b0b">output_ambig_words_file</a>.string());</div>
<div class="line">              exit(1);</div>
<div class="line">            }</div>
<div class="line">          }</div>
<div class="line">          <a class="code" href="a00319.html">STRING</a> word_str;</div>
<div class="line">          word-&gt;<a class="code" href="a00395.html#acea958562bc7123b36f0089be7b8388e">string_and_lengths</a>(&amp;word_str, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">          word_str += <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line">          fprintf(output_ambig_words_file_, word_str.<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">        }</div>
<div class="line">        <a class="code" href="a00395.html">WERD_CHOICE</a> *adjusted_word = word;</div>
<div class="line">        <a class="code" href="a00395.html">WERD_CHOICE</a> hyphen_tail_word(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a8431d26ec0e13f6d2a77d7ba3b1823ce" title="Size of the base word (the part on the line before) of a hyphenated word.">hyphen_base_size</a>() &gt; 0) {</div>
<div class="line">          hyphen_tail_word = *word;</div>
<div class="line">          <a class="code" href="a00129.html#ab09707f3ebd6dbbc9eda8c1bc1ba2b32">remove_hyphen_head</a>(&amp;hyphen_tail_word);</div>
<div class="line">          adjusted_word = &amp;hyphen_tail_word;</div>
<div class="line">        }</div>
<div class="line">        adjusted_word-&gt;<a class="code" href="a00395.html#a162d90ae016fbf55256591bbf01c0c03">set_permuter</a>(more_args-&gt;permuter);</div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="a00129.html#a253fac24ccb5cb9d3b467b0a28c1c0f3" title="Returns true if we are operating in ambigs mode.">ambigs_mode</a>(*limit)) {</div>
<div class="line">          <a class="code" href="a00129.html#a61963914ca2d287fea0db951104d6eac" title="Adjusts the rating of the given word.">adjust_word</a>(adjusted_word, &amp;certainties[<a class="code" href="a00129.html#a8431d26ec0e13f6d2a77d7ba3b1823ce" title="Size of the base word (the part on the line before) of a hyphenated word.">hyphen_base_size</a>()],</div>
<div class="line">                      &amp;char_choices, <a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>);</div>
<div class="line">        }</div>
<div class="line">        <a class="code" href="a00129.html#a8aa52c89f34bc5158cc650699520b50b">update_best_choice</a>(*adjusted_word, best_choice);</div>
<div class="line">      } <span class="keywordflow">else</span> {  <span class="comment">// search the next letter</span></div>
<div class="line">        <span class="comment">// Make updated_* point to the next entries in the DawgInfoVector</span></div>
<div class="line">        <span class="comment">// arrays (that were originally created in dawg_permute_and_select)</span></div>
<div class="line">        ++(more_args-&gt;updated_active_dawgs);</div>
<div class="line">        ++(more_args-&gt;updated_constraints);</div>
<div class="line">        <span class="comment">// Make active_dawgs and constraints point to the updated ones.</span></div>
<div class="line">        ++(more_args-&gt;active_dawgs);</div>
<div class="line">        ++(more_args-&gt;constraints);</div>
<div class="line">        <a class="code" href="a00129.html#a0ceb12c3a410ba12fdb9a93df11d47e2">permute_choices</a>(debug, char_choices, char_choice_index + 1,</div>
<div class="line">                        prev_char_frag_info, word, certainties, limit,</div>
<div class="line">                        best_choice, attempts_left, more_args);</div>
<div class="line">        <span class="comment">// Restore previous state to explore another letter in this position.</span></div>
<div class="line">        --(more_args-&gt;updated_active_dawgs);</div>
<div class="line">        --(more_args-&gt;updated_constraints);</div>
<div class="line">        --(more_args-&gt;active_dawgs);</div>
<div class="line">        --(more_args-&gt;constraints);</div>
<div class="line">      }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a> &amp;&amp; <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>) {</div>
<div class="line">        <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;last unichar not OK at index %d in %s\n&quot;</span>,</div>
<div class="line">                word_index, word-&gt;<a class="code" href="a00395.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a12cc7c10929b310dd23baee1ab1e972b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::go_deeper_top_fragments_fxn </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>char_choice_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00075.html">CHAR_FRAGMENT_INFO</a> *&#160;</td>
          <td class="paramname"><em>prev_char_frag_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>word_ending</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>certainties</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>best_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>attempts_left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>more_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>While the choice being composed so far could be better than best_choice keeps exploring char_choices. If the end of the word is reached and the word is better than best_choice, copies word to best_choice and logs the new word choice.</p>
<p>go_deeper_top_fragments_fxn</p>
<p>While the choice being composed so far could be better than best_choice keeps exploring char_choices. If the end of the word is reached and the word is better than best_choice, copies word to best_choice and logs the new word choice. </p>

<p>Definition at line <a class="el" href="a00807_source.html#l01538">1538</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                   {</div>
<div class="line">  <span class="keywordflow">if</span> (word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>() &lt; *limit) {</div>
<div class="line">    <span class="keywordflow">if</span> (word_ending) {</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#ad5e37470ce50ef6e19c291cd12b0d123">fragments_debug</a> &gt; 1) {</div>
<div class="line">        <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;fragments_debug new choice = %s\n&quot;</span>,</div>
<div class="line">                word-&gt;<a class="code" href="a00395.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">      }</div>
<div class="line">      *limit = word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>();</div>
<div class="line">      <a class="code" href="a00129.html#aee01b74007e1fc5a172a5534c5ef3cae">adjust_non_word</a>(word, certainties, &amp;char_choices, <a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>);</div>
<div class="line">      <a class="code" href="a00129.html#a8aa52c89f34bc5158cc650699520b50b">update_best_choice</a>(*word, best_choice);</div>
<div class="line">    } <span class="keywordflow">else</span> {  <span class="comment">// search the next letter</span></div>
<div class="line">      <a class="code" href="a00129.html#a0ceb12c3a410ba12fdb9a93df11d47e2">permute_choices</a>(debug, char_choices, char_choice_index + 1,</div>
<div class="line">                      prev_char_frag_info, word, certainties, limit,</div>
<div class="line">                      best_choice, attempts_left, more_args);</div>
<div class="line">    }</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#ad5e37470ce50ef6e19c291cd12b0d123">fragments_debug</a> &gt; 1) {</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;fragments_debug pruned word (%s, rating=%4.2f, limit=%4.2f)\n&quot;</span>,</div>
<div class="line">              word-&gt;<a class="code" href="a00395.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(), word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>(), *limit);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac47e049c0ed569cd8cc1799ac2935f3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::good_choice </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>choice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if a good answer is found for the unknown blob rating. </p>

</div>
</div>
<a class="anchor" id="aad63b54f05d3faaee2b8caec2a5145d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::has_hyphen_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a>&#160;</td>
          <td class="paramname"><em>unichar_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>first_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether the word has a hyphen at the end. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00144">144</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                                          {</div>
<div class="line">    <span class="keywordflow">return</span> (last_word_on_line_ &amp;&amp; !first_pos &amp;&amp;</div>
<div class="line">            unichar_id == hyphen_unichar_id_);</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abc8dcda3db471510c7834edacac8cebd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::has_hyphen_end </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Same as above, but check the unichar at the end of the word. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00149">149</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                            {</div>
<div class="line">    <span class="keywordtype">int</span> word_index = word.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() - 1;</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="a00129.html#aad63b54f05d3faaee2b8caec2a5145d7" title="Check whether the word has a hyphen at the end.">has_hyphen_end</a>(word.<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(word_index), word_index == 0);</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8431d26ec0e13f6d2a77d7ba3b1823ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::hyphen_base_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Size of the base word (the part on the line before) of a hyphenated word. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00122">122</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                      {</div>
<div class="line">    <span class="keywordflow">return</span> this-&gt;<a class="code" href="a00129.html#aebd1e3d92b2ec23c03807dd7ede45a40" title="Returns true if we&#39;ve recorded the beginning of a hyphenated word.">hyphenated</a>() ? hyphen_word_-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() : 0;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aebd1e3d92b2ec23c03807dd7ede45a40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::hyphenated </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if we've recorded the beginning of a hyphenated word. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00118">118</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                 { <span class="keywordflow">return</span></div>
<div class="line">    !last_word_on_line_ &amp;&amp; hyphen_word_ &amp;&amp; <a class="code" href="a00129.html#a44c62a7904145157e4aa303fcf6ef923">GetMaxFixedLengthDawgIndex</a>() &lt; 0;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5b19c61706786b0609613fd0d73c6b42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::incorporate_segcost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Incoporate segmentation cost into word rating. </p>
<p>Incorporate segmentation cost into the word rating. This is done through a multiplier wordseg_rating_adjust_factor_ which is determined in <a class="el" href="a00949.html">bestfirst.cpp</a> during state evaluation. This is not the cleanest way to do this. It would be better to reorganize the SEARCH_STATE to keep track of associated states, or do the rating adjustment outside the permuter in evalaute_state. </p>

<p>Definition at line <a class="el" href="a00807_source.html#l00409">409</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                                                {</div>
<div class="line">  <span class="keywordflow">if</span> (!word || wordseg_rating_adjust_factor_ &lt;= 0) <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">float</span> old_rating = word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>();</div>
<div class="line">  <span class="keywordtype">float</span> new_rating = old_rating * wordseg_rating_adjust_factor_;</div>
<div class="line">  word-&gt;<a class="code" href="a00395.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(new_rating);</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>)</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Permute segadjust %f * %f --&gt; %f\n&quot;</span>,</div>
<div class="line">            old_rating, wordseg_rating_adjust_factor_, new_rating);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeb0ba1d301def04d0ca191582f032c78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::init_active_dawgs </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sought_word_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00125.html">DawgInfoVector</a> *&#160;</td>
          <td class="paramname"><em>active_dawgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ambigs_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fill the given active_dawgs vector with dawgs that could contain the beginning of the word. If <a class="el" href="a00129.html#aebd1e3d92b2ec23c03807dd7ede45a40" title="Returns true if we&#39;ve recorded the beginning of a hyphenated word.">hyphenated()</a> returns true, copy the entries from hyphen_active_dawgs_ instead. </p>

<p>Definition at line <a class="el" href="a00802_source.html#l00643">643</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                                                     {</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line">  <span class="keywordflow">if</span> (sought_word_length != kAnyWordLength) {</div>
<div class="line">    <span class="comment">// Only search one fixed word length dawg.</span></div>
<div class="line">    <span class="keywordflow">if</span> (sought_word_length &lt;= max_fixed_length_dawgs_wdlen_ &amp;&amp;</div>
<div class="line">        dawgs_[sought_word_length] != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">      *active_dawgs += DawgInfo(sought_word_length, NO_EDGE);</div>
<div class="line">    }</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aebd1e3d92b2ec23c03807dd7ede45a40" title="Returns true if we&#39;ve recorded the beginning of a hyphenated word.">hyphenated</a>()) {</div>
<div class="line">    *active_dawgs = hyphen_active_dawgs_;</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;= 3) {</div>
<div class="line">      <span class="keywordflow">for</span> (i = 0; i &lt; hyphen_active_dawgs_.<a class="code" href="a00175.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>(); ++i) {</div>
<div class="line">        <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Adding hyphen beginning dawg [%d, &quot;</span> <a class="code" href="a00801.html#a85a5bf216156dfa399c5edd26f3694db">REFFORMAT</a> <span class="stringliteral">&quot;]\n&quot;</span>,</div>
<div class="line">                hyphen_active_dawgs_[i].dawg_index,</div>
<div class="line">                hyphen_active_dawgs_[i].ref);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; dawgs_.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++i) {</div>
<div class="line">      <span class="keywordflow">if</span> (dawgs_[i] != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; kBeginningDawgsType[(dawgs_[i])-&gt;type()] &amp;&amp;</div>
<div class="line">          !(<a class="code" href="a00129.html#a253fac24ccb5cb9d3b467b0a28c1c0f3" title="Returns true if we are operating in ambigs mode.">ambigs_mode</a> &amp;&amp; (dawgs_[i])-&gt;type() == <a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151a4e994eccb48eec56bb31bccd8bbb3cef">DAWG_TYPE_PATTERN</a>)) {</div>
<div class="line">        *active_dawgs += DawgInfo(i, NO_EDGE);</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;= 3) {</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Adding beginning dawg [%d, &quot;</span> <a class="code" href="a00801.html#a85a5bf216156dfa399c5edd26f3694db">REFFORMAT</a> <span class="stringliteral">&quot;]\n&quot;</span>, i, NO_EDGE);</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7e44bdc5e2fe0dbb861dfd1522ef1cec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::init_constraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00125.html">DawgInfoVector</a> *&#160;</td>
          <td class="paramname"><em>constraints</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If <a class="el" href="a00129.html#aebd1e3d92b2ec23c03807dd7ede45a40" title="Returns true if we&#39;ve recorded the beginning of a hyphenated word.">hyphenated()</a> returns true, copy the entries from hyphen_constraints_ into the given constraints vector. </p>

<p>Definition at line <a class="el" href="a00802_source.html#l00677">677</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                                                             {</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aebd1e3d92b2ec23c03807dd7ede45a40" title="Returns true if we&#39;ve recorded the beginning of a hyphenated word.">hyphenated</a>()) {</div>
<div class="line">    *constraints = hyphen_constraints_;</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;= 3) {</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; hyphen_constraints_.<a class="code" href="a00175.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>(); ++i) {</div>
<div class="line">        <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Adding hyphen constraint [%d, &quot;</span> <a class="code" href="a00801.html#a85a5bf216156dfa399c5edd26f3694db">REFFORMAT</a> <span class="stringliteral">&quot;]\n&quot;</span>,</div>
<div class="line">                hyphen_constraints_[i].dawg_index,</div>
<div class="line">                hyphen_constraints_[i].ref);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a13fed9e3e317b901d4728a77f3396907"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::InitChoiceAccum </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the data structures used to keep track the good word choices found for a word. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00435">435</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                           {</div>
<div class="line">  <a class="code" href="a00812.html#a4d7126e47543723f816f1194475215e6">BLOB_WIDTH</a> *BlobWidth, *<a class="code" href="a00129.html#a899e3d5588422e9dac68ac5049069dd4">End</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (best_raw_choice_)</div>
<div class="line">    <span class="keyword">delete</span> best_raw_choice_;</div>
<div class="line">  best_raw_choice_ = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (best_choices_)</div>
<div class="line">    <a class="code" href="a00793.html#a1a1efc1a269e5bb5bf16c1a174363ba4">destroy_nodes</a>(best_choices_, <a class="code" href="a00811.html#a1ffdeffb9a38b2a9c556babf48984e28">DeleteViableChoiceStruct</a>);</div>
<div class="line">  best_choices_ = <a class="code" href="a00794.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (raw_choices_)</div>
<div class="line">    <a class="code" href="a00793.html#a1a1efc1a269e5bb5bf16c1a174363ba4">destroy_nodes</a>(raw_choices_, <a class="code" href="a00811.html#a1ffdeffb9a38b2a9c556babf48984e28">DeleteViableChoiceStruct</a>);</div>
<div class="line">  raw_choices_ = <a class="code" href="a00794.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00129.html#a4edfbbb412d84258cc1ef255dfd527aa">EnableChoiceAccum</a>();</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (BlobWidth = current_segmentation_,</div>
<div class="line">    End = current_segmentation_ + <a class="code" href="a00810.html#a2f47d18aa9ea116103da072b110cf09d">MAX_NUM_CHUNKS</a>;</div>
<div class="line">    BlobWidth &lt; <a class="code" href="a00129.html#a899e3d5588422e9dac68ac5049069dd4">End</a>; *BlobWidth++ = 1);</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0e3e3f5f2bf54b5b2a0aec103c816cd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::LengthOfShortestAlphaRun </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>WordChoice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the length of the shortest alpha run in WordChoice. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00883">883</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                {</div>
<div class="line">  <span class="keywordtype">int</span> shortest = <a class="code" href="a00577.html#aac62d87844689a18b6f5339a89ed6e7f">MAX_INT32</a>;</div>
<div class="line">  <span class="keywordtype">int</span> curr_len = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> w = 0; w &lt; WordChoice.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>(); ++w) {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ad1dd0929edfb0e9e4905cc2fbeff42c2">get_isalpha</a>(WordChoice.<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(w))) {</div>
<div class="line">      curr_len++;</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (curr_len &gt; 0) {</div>
<div class="line">      <span class="keywordflow">if</span> (curr_len &lt; shortest) shortest = curr_len;</div>
<div class="line">      curr_len = 0;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (curr_len &gt; 0 &amp;&amp; curr_len &lt; shortest) {</div>
<div class="line">    shortest = curr_len;</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shortest == <a class="code" href="a00577.html#aac62d87844689a18b6f5339a89ed6e7f">MAX_INT32</a>) {</div>
<div class="line">    shortest = 0;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> shortest;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad6da76c8b85b90df51029d705590e1cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::LetterIsOkay </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>void_dawg_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a>&#160;</td>
          <td class="paramname"><em>unichar_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>word_end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls letter_is_okay_ member function. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00563">563</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                               {</div>
<div class="line">    <span class="keywordflow">return</span> (this-&gt;*<a class="code" href="a00129.html#a802de385e07531ace182d16653e35f71">letter_is_okay_</a>)(void_dawg_args, unichar_id, word_end);</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1cb09562db2f2c8951f8dc21cf7bc279"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::Load </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize <a class="el" href="a00129.html">Dict</a> class - load dawgs from [lang].traineddata and user-specified wordlist and parttern list. </p>

<p>Definition at line <a class="el" href="a00802_source.html#l00219">219</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                {</div>
<div class="line">  <a class="code" href="a00319.html">STRING</a> name;</div>
<div class="line">  <a class="code" href="a00319.html">STRING</a> &amp;<a class="code" href="a00996.html#a5f5eb917f55d9d6ccaa95131ae5d171c">lang</a> = <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;<a class="code" href="a00186.html#a70f25dbbb805a9ffe518d48794cfca95">getCCUtil</a>()-&gt;<a class="code" href="a00070.html#ae453cbd7e4899ebfc5cc3831e5a8dd66">lang</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (dawgs_.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() != 0) this-&gt;<a class="code" href="a00129.html#a899e3d5588422e9dac68ac5049069dd4">End</a>();</div>
<div class="line"></div>
<div class="line">  hyphen_unichar_id_ = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(kHyphenSymbol);</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00129.html#ae92c303dc7451b3836cc9669e80090c0">LoadEquivalenceList</a>(<a class="code" href="a00995.html#aa1505ec49e73744b09f67e0a8390a103">kHyphenLikeUTF8</a>);</div>
<div class="line">  <a class="code" href="a00129.html#ae92c303dc7451b3836cc9669e80090c0">LoadEquivalenceList</a>(<a class="code" href="a00995.html#a0e977b84de723eee3cf551283b1d1ed1">kApostropheLikeUTF8</a>);</div>
<div class="line"></div>
<div class="line">  TessdataManager &amp;tessdata_manager =</div>
<div class="line">    <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;<a class="code" href="a00186.html#a70f25dbbb805a9ffe518d48794cfca95">getCCUtil</a>()-&gt;<a class="code" href="a00070.html#a4a585cb38d5b19b5caedb7aded4a679a">tessdata_manager</a>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Load dawgs_.</span></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a3b017913ebeea374f4910f52ef21f8e7">load_punc_dawg</a> &amp;&amp; tessdata_manager.SeekToStart(<a class="code" href="a00995.html#a5f278974ef80900b460194614d4f1899a041eff587bbc58c4c93e76facd593b56">TESSDATA_PUNC_DAWG</a>)) {</div>
<div class="line">    punc_dawg_ = <span class="keyword">new</span> SquishedDawg(tessdata_manager.GetDataFilePtr(),</div>
<div class="line">                                  <a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151aa8e8b65bf32d2884c0bab5fb8223c6eb">DAWG_TYPE_PUNCTUATION</a>, <a class="code" href="a00996.html#a5f5eb917f55d9d6ccaa95131ae5d171c">lang</a>, PUNC_PERM,</div>
<div class="line">                                  <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>);</div>
<div class="line">    dawgs_ += punc_dawg_;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aa94c8519d79413969cbf94c9a9efcbd1">load_system_dawg</a> &amp;&amp; tessdata_manager.SeekToStart(<a class="code" href="a00995.html#a5f278974ef80900b460194614d4f1899af89fe7138ea14ba1a31e8ddf53f2089f">TESSDATA_SYSTEM_DAWG</a>)) {</div>
<div class="line">    dawgs_ += <span class="keyword">new</span> SquishedDawg(tessdata_manager.GetDataFilePtr(),</div>
<div class="line">                               <a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151a9c67e397ff6d57a705cd4cd4524a2b34">DAWG_TYPE_WORD</a>, <a class="code" href="a00996.html#a5f5eb917f55d9d6ccaa95131ae5d171c">lang</a>, SYSTEM_DAWG_PERM,</div>
<div class="line">                               <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a6d798a7eba3e146a9acae6b307b59d81">load_number_dawg</a> &amp;&amp; tessdata_manager.SeekToStart(<a class="code" href="a00995.html#a5f278974ef80900b460194614d4f1899a7bad9e33542e38f498f9c6672626ee04">TESSDATA_NUMBER_DAWG</a>)) {</div>
<div class="line">    dawgs_ +=</div>
<div class="line">      <span class="keyword">new</span> SquishedDawg(tessdata_manager.GetDataFilePtr(),</div>
<div class="line">                       <a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151a16f2414a05db0ec4b7e1b266052a966f">DAWG_TYPE_NUMBER</a>, <a class="code" href="a00996.html#a5f5eb917f55d9d6ccaa95131ae5d171c">lang</a>, NUMBER_PERM, <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#adcf2c1a0ac63eb2bd393c57288362f4c">load_bigram_dawg</a> &amp;&amp; tessdata_manager.SeekToStart(<a class="code" href="a00995.html#a5f278974ef80900b460194614d4f1899aa59c96914537bb9958be8fb3a96b2a85">TESSDATA_BIGRAM_DAWG</a>)) {</div>
<div class="line">    bigram_dawg_ = <span class="keyword">new</span> SquishedDawg(tessdata_manager.GetDataFilePtr(),</div>
<div class="line">                                    <a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151a9c67e397ff6d57a705cd4cd4524a2b34">DAWG_TYPE_WORD</a>, <span class="comment">// doesn&#39;t actually matter.</span></div>
<div class="line">                                    <a class="code" href="a00996.html#a5f5eb917f55d9d6ccaa95131ae5d171c">lang</a>,</div>
<div class="line">                                    COMPOUND_PERM,  <span class="comment">// doesn&#39;t actually matter.</span></div>
<div class="line">                                    <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a70cf001f370ad12c08ba7e1796d27cae">load_freq_dawg</a> &amp;&amp; tessdata_manager.SeekToStart(<a class="code" href="a00995.html#a5f278974ef80900b460194614d4f1899a041f1b2804fb7a000090908c979739ff">TESSDATA_FREQ_DAWG</a>)) {</div>
<div class="line">    freq_dawg_ = <span class="keyword">new</span> SquishedDawg(tessdata_manager.GetDataFilePtr(),</div>
<div class="line">                                  <a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151a9c67e397ff6d57a705cd4cd4524a2b34">DAWG_TYPE_WORD</a>, <a class="code" href="a00996.html#a5f5eb917f55d9d6ccaa95131ae5d171c">lang</a>, FREQ_DAWG_PERM,</div>
<div class="line">                                  <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>);</div>
<div class="line">    dawgs_ += freq_dawg_;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a73345ee670e9fd3a1ecad89e2fad1367">load_unambig_dawg</a> &amp;&amp;</div>
<div class="line">      tessdata_manager.SeekToStart(<a class="code" href="a00995.html#a5f278974ef80900b460194614d4f1899a0f153618328153c350638138d2807d97">TESSDATA_UNAMBIG_DAWG</a>)) {</div>
<div class="line">    unambig_dawg_ = <span class="keyword">new</span> SquishedDawg(tessdata_manager.GetDataFilePtr(),</div>
<div class="line">                                     <a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151a9c67e397ff6d57a705cd4cd4524a2b34">DAWG_TYPE_WORD</a>, <a class="code" href="a00996.html#a5f5eb917f55d9d6ccaa95131ae5d171c">lang</a>, SYSTEM_DAWG_PERM,</div>
<div class="line">                                     <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>);</div>
<div class="line">    dawgs_ += unambig_dawg_;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (((<a class="code" href="a00319.html">STRING</a> &amp;)<a class="code" href="a00129.html#ada6d04f60ef05aee517f3d24c6d6e9c9">user_words_suffix</a>).length() &gt; 0) {</div>
<div class="line">    Trie *trie_ptr = <span class="keyword">new</span> Trie(<a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151a9c67e397ff6d57a705cd4cd4524a2b34">DAWG_TYPE_WORD</a>, lang, USER_DAWG_PERM,</div>
<div class="line">                              kMaxUserDawgEdges, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().size(),</div>
<div class="line">                              <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>);</div>
<div class="line">    name = <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;<a class="code" href="a00186.html#a70f25dbbb805a9ffe518d48794cfca95">getCCUtil</a>()-&gt;<a class="code" href="a00070.html#a259fbb37f1e940892938c71496c4d6ba">language_data_path_prefix</a>;</div>
<div class="line">    name += <a class="code" href="a00129.html#ada6d04f60ef05aee517f3d24c6d6e9c9">user_words_suffix</a>;</div>
<div class="line">    <span class="keywordflow">if</span> (!trie_ptr-&gt;read_word_list(name.<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(), <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(),</div>
<div class="line">                                  <a class="code" href="a00378.html#a920adf78e22cbdb661e0c2aef58a8c80aebb1e29c59c60c902106a61853e183e3">Trie::RRP_REVERSE_IF_HAS_RTL</a>)) {</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Error: failed to load %s\n&quot;</span>, name.<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">      exit(1);</div>
<div class="line">    }</div>
<div class="line">    dawgs_ += trie_ptr;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (((<a class="code" href="a00319.html">STRING</a> &amp;)<a class="code" href="a00129.html#a503479ae064fd0f67f2bd71a3a4c3c47">user_patterns_suffix</a>).length() &gt; 0) {</div>
<div class="line">    Trie *trie_ptr = <span class="keyword">new</span> Trie(<a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151a4e994eccb48eec56bb31bccd8bbb3cef">DAWG_TYPE_PATTERN</a>, lang, USER_PATTERN_PERM,</div>
<div class="line">                              kMaxUserDawgEdges, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().size(),</div>
<div class="line">                              <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>);</div>
<div class="line">    trie_ptr-&gt;initialize_patterns(&amp;(<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>()));</div>
<div class="line">    name = <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;<a class="code" href="a00186.html#a70f25dbbb805a9ffe518d48794cfca95">getCCUtil</a>()-&gt;<a class="code" href="a00070.html#a259fbb37f1e940892938c71496c4d6ba">language_data_path_prefix</a>;</div>
<div class="line">    name += <a class="code" href="a00129.html#a503479ae064fd0f67f2bd71a3a4c3c47">user_patterns_suffix</a>;</div>
<div class="line">    <span class="keywordflow">if</span> (!trie_ptr-&gt;read_pattern_list(name.<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(), <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>())) {</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Error: failed to load %s\n&quot;</span>, name.<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">      exit(1);</div>
<div class="line">    }</div>
<div class="line">    dawgs_ += trie_ptr;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  document_words_ = <span class="keyword">new</span> Trie(<a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151a9c67e397ff6d57a705cd4cd4524a2b34">DAWG_TYPE_WORD</a>, lang, DOC_DAWG_PERM,</div>
<div class="line">                             kMaxDocDawgEdges, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().size(),</div>
<div class="line">                             <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>);</div>
<div class="line">  dawgs_ += document_words_;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// This dawg is temporary and should not be searched by letter_is_ok.</span></div>
<div class="line">  pending_words_ = <span class="keyword">new</span> Trie(<a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151a9c67e397ff6d57a705cd4cd4524a2b34">DAWG_TYPE_WORD</a>, lang, NO_PERM,</div>
<div class="line">                            kMaxDocDawgEdges, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().size(),</div>
<div class="line">                            <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Load fixed length dawgs if necessary (used for phrase search</span></div>
<div class="line">  <span class="comment">// for non-space delimited languages).</span></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1d85e18142cb329265eba1aa4b729cc7">load_fixed_length_dawgs</a> &amp;&amp;</div>
<div class="line">      tessdata_manager.SeekToStart(<a class="code" href="a00995.html#a5f278974ef80900b460194614d4f1899ae57ec423406725deceddd071fefb367c">TESSDATA_FIXED_LENGTH_DAWGS</a>)) {</div>
<div class="line">    <a class="code" href="a00129.html#a741bbc38aa86c057b2b431c716519cc8">ReadFixedLengthDawgs</a>(<a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151a9c67e397ff6d57a705cd4cd4524a2b34">DAWG_TYPE_WORD</a>, lang, SYSTEM_DAWG_PERM,</div>
<div class="line">                         <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>, tessdata_manager.GetDataFilePtr(),</div>
<div class="line">                         &amp;dawgs_, &amp;max_fixed_length_dawgs_wdlen_);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Construct a list of corresponding successors for each dawg. Each entry i</span></div>
<div class="line">  <span class="comment">// in the successors_ vector is a vector of integers that represent the</span></div>
<div class="line">  <span class="comment">// indices into the dawgs_ vector of the successors for dawg i.</span></div>
<div class="line">  successors_.<a class="code" href="a00175.html#aa225ea3fc9374961482bc804028317eb">reserve</a>(dawgs_.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>());</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dawgs_.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++i) {</div>
<div class="line">    <span class="keyword">const</span> Dawg *dawg = dawgs_[i];</div>
<div class="line">    <a class="code" href="a00995.html#a2da5d0a635bfbb70a26ab0844903bed3">SuccessorList</a> *lst = <span class="keyword">new</span> <a class="code" href="a00995.html#a2da5d0a635bfbb70a26ab0844903bed3">SuccessorList</a>();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; dawgs_.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++j) {</div>
<div class="line">      <span class="keyword">const</span> Dawg *other = dawgs_[j];</div>
<div class="line">      <span class="keywordflow">if</span> (dawg != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; other != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp;</div>
<div class="line">          (dawg-&gt;lang() == other-&gt;lang()) &amp;&amp;</div>
<div class="line">          kDawgSuccessors[dawg-&gt;type()][other-&gt;type()]) *lst += j;</div>
<div class="line">    }</div>
<div class="line">    successors_ += lst;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae92c303dc7451b3836cc9669e80090c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::LoadEquivalenceList </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>unichar_strings</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00802_source.html#l00354">354</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                                                            {</div>
<div class="line">  equivalent_symbols_.<a class="code" href="a00175.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(<a class="code" href="a00176.html">GenericVectorEqEq&lt;UNICHAR_ID&gt;</a>());</div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="a00387.html">UNICHARSET</a> &amp;unicharset = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>();</div>
<div class="line">  <a class="code" href="a00176.html">GenericVectorEqEq&lt;UNICHAR_ID&gt;</a> *equiv_list = &amp;equivalent_symbols_.<a class="code" href="a00175.html#a6e6d6497a6f7dd999b6d591c15354167">back</a>();</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; unichar_strings[i] != 0; i++) {</div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = unicharset.<a class="code" href="a00387.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(unichar_strings[i]);</div>
<div class="line">    <span class="keywordflow">if</span> (unichar_id != INVALID_UNICHAR_ID) {</div>
<div class="line">      equiv_list-&gt;<a class="code" href="a00175.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(unichar_id);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5d0400dc126a0dc472c3c28545da65a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::LogNewChoice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>AdjustFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>Certainties</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>raw_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>WordChoice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>blob_choices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds Choice to ChoicesList if the adjusted certainty for Choice is within a reasonable range of the best choice in ChoicesList. The ChoicesList list is kept in sorted order by rating. Duplicates are removed. WordChoice is the new choice for current word. AdjustFactor is an adjustment factor which was applied to choice. Certainties are certainties for each char in new choice. raw_choice indicates whether WordChoice is a raw or best choice. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00484">484</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                     {</div>
<div class="line">  <a class="code" href="a00221.html">LIST</a> ChoicesList;</div>
<div class="line">  <a class="code" href="a00221.html">LIST</a> Choices;</div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Threshold;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (!keep_word_choices_)</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (raw_choice) {</div>
<div class="line">    <span class="keywordflow">if</span> (!best_raw_choice_) {</div>
<div class="line">      best_raw_choice_ =</div>
<div class="line">          <a class="code" href="a00129.html#acc0a47c47ed3fe63f3fd4646ae5ddb80">NewViableChoice</a>(*WordChoice, AdjustFactor, Certainties);</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (WordChoice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>() &lt; best_raw_choice_-&gt;<a class="code" href="a00391.html#a651bc1b5ad4d2a7ce33c0f564c13ecb7">Rating</a>) {</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#ace0e51938995068fdb1b115f6be61470">ChoiceSameAs</a>(*WordChoice, best_raw_choice_)) {</div>
<div class="line">        <a class="code" href="a00129.html#a7b67011e3b43ead95473e2b25798e0fe">FillViableChoice</a>(*WordChoice, AdjustFactor, Certainties,</div>
<div class="line">                         best_raw_choice_);</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keyword">delete</span> best_raw_choice_;</div>
<div class="line">        best_raw_choice_ =</div>
<div class="line">          <a class="code" href="a00129.html#acc0a47c47ed3fe63f3fd4646ae5ddb80">NewViableChoice</a>(*WordChoice, AdjustFactor, Certainties);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="a00129.html#a0abfd0b48eb83f07ef6db2baf9f189e1">save_raw_choices</a>) <span class="keywordflow">return</span>;</div>
<div class="line">    ChoicesList = raw_choices_;</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    ChoicesList = best_choices_;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Throw out obviously bad choices to save some work.</span></div>
<div class="line">  <span class="keywordflow">if</span> (ChoicesList != <a class="code" href="a00794.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>) {</div>
<div class="line">    Threshold = <a class="code" href="a00129.html#a863f4f02d43f02f85d051d9e632c0c4e">StopperAmbigThreshold</a>(<a class="code" href="a00811.html#a3b589454f3e422c1144ae8390770262e">BestFactor</a>(ChoicesList), AdjustFactor);</div>
<div class="line">    <span class="keywordflow">if</span> (Threshold &gt; -<a class="code" href="a00129.html#a81ce7deec4aee35f855d92f31e3c7463">stopper_ambiguity_threshold_offset</a>)</div>
<div class="line">      Threshold = -<a class="code" href="a00129.html#a81ce7deec4aee35f855d92f31e3c7463">stopper_ambiguity_threshold_offset</a>;</div>
<div class="line">    <span class="keywordflow">if</span> (WordChoice-&gt;<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>() - <a class="code" href="a00811.html#aa97c69d1b6042b59fa1742e16e6996cd">BestCertainty</a> (ChoicesList) &lt; Threshold) {</div>
<div class="line">      <span class="comment">// Set the rating of the word to be terrible, so that it does not</span></div>
<div class="line">      <span class="comment">// get chosen as the best choice.</span></div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 2) {</div>
<div class="line">        <a class="code" href="a00319.html">STRING</a> bad_string;</div>
<div class="line">        WordChoice-&gt;<a class="code" href="a00395.html#acea958562bc7123b36f0089be7b8388e">string_and_lengths</a>(&amp;bad_string, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">        <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Discarding choice \&quot;%s\&quot; with an overly low certainty&quot;</span></div>
<div class="line">                <span class="stringliteral">&quot; %.4f vs best choice certainty %.4f (Threshold: %.4f)\n&quot;</span>,</div>
<div class="line">                bad_string.<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(), WordChoice-&gt;<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>(),</div>
<div class="line">                <a class="code" href="a00811.html#aa97c69d1b6042b59fa1742e16e6996cd">BestCertainty</a>(ChoicesList),</div>
<div class="line">                Threshold + <a class="code" href="a00811.html#aa97c69d1b6042b59fa1742e16e6996cd">BestCertainty</a>(ChoicesList));</div>
<div class="line">      }</div>
<div class="line">      WordChoice-&gt;<a class="code" href="a00395.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(<a class="code" href="a00395.html#aa831918b1d217afd4dc547033f642990">WERD_CHOICE::kBadRating</a>);</div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// See if a choice with the same text string has already been found.</span></div>
<div class="line">  <a class="code" href="a00391.html">VIABLE_CHOICE</a> NewChoice = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  Choices = ChoicesList;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00794.html#a2cf19ba78be6b54f66823d58f34f2a53">iterate</a>(Choices) {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#ace0e51938995068fdb1b115f6be61470">ChoiceSameAs</a> (*WordChoice, (<a class="code" href="a00391.html">VIABLE_CHOICE</a>) <a class="code" href="a00794.html#a69547be764424f18b0be535400747978">first_node</a> (Choices))) {</div>
<div class="line">      <span class="keywordflow">if</span> (WordChoice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>() &lt; <a class="code" href="a00811.html#a7e33f17883db2e7e3230812dfd3d7f0c">BestRating</a> (Choices)) {</div>
<div class="line">        NewChoice = (<a class="code" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a>) <a class="code" href="a00794.html#a69547be764424f18b0be535400747978">first_node</a> (Choices);</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (NewChoice) {</div>
<div class="line">    <a class="code" href="a00129.html#a7b67011e3b43ead95473e2b25798e0fe">FillViableChoice</a>(*WordChoice, AdjustFactor, Certainties, NewChoice);</div>
<div class="line">    ChoicesList = <a class="code" href="a00793.html#a1fa3ecce52a0563f595b8f1428cc1211">delete_d</a>(ChoicesList, NewChoice, <a class="code" href="a00793.html#a741b51b53773baf5cc5597d6926b83e4">is_same_node</a>);</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    NewChoice = <a class="code" href="a00129.html#acc0a47c47ed3fe63f3fd4646ae5ddb80">NewViableChoice</a>(*WordChoice, AdjustFactor, Certainties);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Now we know we&#39;re gonna save it, so add the expensive copy.</span></div>
<div class="line">  NewChoice-&gt;<a class="code" href="a00391.html#a05362772a259446b5a04e995a48493b5">SetBlobChoices</a>(blob_choices);</div>
<div class="line"></div>
<div class="line">  ChoicesList = <a class="code" href="a00793.html#aff044482629d5faed80f830b0fcf7513">s_adjoin</a> (ChoicesList, NewChoice, CmpChoiceRatings);</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 2)</div>
<div class="line">    raw_choice ? <a class="code" href="a00129.html#ad5343f10220f5882ddaa461b5e89927c" title="Dumps a text representation of the specified Choice to File.">PrintViableChoice</a> (stderr, <span class="stringliteral">&quot;New Raw Choice:  &quot;</span>, NewChoice) :</div>
<div class="line">      PrintViableChoice (stderr, <span class="stringliteral">&quot;New Word Choice:  &quot;</span>, NewChoice);</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00793.html#acd4ea858d7133e40518e0832ff9d94b2">count</a> (ChoicesList) &gt; <a class="code" href="a00129.html#a5b1b181a4638784a6225a508b810dbc9">tessedit_truncate_wordchoice_log</a>) {</div>
<div class="line">    Choices =</div>
<div class="line">      (<a class="code" href="a00407.html#aa200acf94add0e61783bfcd5965bb645">LIST</a>) <a class="code" href="a00793.html#ae770a79e91f79e9bc159267eaf9a9a86">nth_cell</a> (ChoicesList, <a class="code" href="a00129.html#a5b1b181a4638784a6225a508b810dbc9">tessedit_truncate_wordchoice_log</a>);</div>
<div class="line">    <a class="code" href="a00793.html#a1a1efc1a269e5bb5bf16c1a174363ba4">destroy_nodes</a>(<a class="code" href="a00794.html#adb120d4c08ce52b5dfe524f0419a9154">list_rest</a> (Choices), <a class="code" href="a00811.html#a1ffdeffb9a38b2a9c556babf48984e28">DeleteViableChoiceStruct</a>);</div>
<div class="line">    <a class="code" href="a00794.html#a42cc2d9c5eabb2193e2e64df41adedf4">set_rest</a>(Choices, <a class="code" href="a00794.html#ae212530ca629c67513698e988c705a5a">NIL_LIST</a>);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Update raw_choices_/best_choices_ pointer.</span></div>
<div class="line">  <span class="keywordflow">if</span> (raw_choice) {</div>
<div class="line">    raw_choices_ = ChoicesList;</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    best_choices_ = ChoicesList;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a767d9d6e0095d70f2905dac7d48c32c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::LogNewSegmentation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00810.html#a5fa79db9c64231406ef3807adfad627d">PIECES_STATE</a>&#160;</td>
          <td class="paramname"><em>BlobWidth</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the blob widths in current_segmentation_ to be the same as provided in BlobWidth. BlobWidth[] contains the number of chunks in each blob in the current segmentation. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00463">463</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                    {</div>
<div class="line">  <a class="code" href="a00812.html#a4d7126e47543723f816f1194475215e6">BLOB_WIDTH</a> *Segmentation;</div>
<div class="line">  <span class="keywordflow">for</span> (Segmentation = current_segmentation_; *BlobWidth != 0;</div>
<div class="line">    BlobWidth++, Segmentation++)</div>
<div class="line">  *Segmentation = *BlobWidth;</div>
<div class="line">  *Segmentation = 0;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa5ce917212da08cba99df7966c9e84cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::LogNewSplit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Blob</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given Blob (the index of the blob that was split), adds 1 chunk to the specified blob for each choice in best_choices_ and for best_raw_choice_. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00471">471</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                               {</div>
<div class="line">  <a class="code" href="a00221.html">LIST</a> Choices;</div>
<div class="line">  <span class="keywordflow">if</span> (best_raw_choice_) <a class="code" href="a00129.html#a9c59eace80232070d11e04794078d7b8">AddNewChunk</a>(best_raw_choice_, Blob);</div>
<div class="line">  Choices = best_choices_;</div>
<div class="line">  <a class="code" href="a00794.html#a2cf19ba78be6b54f66823d58f34f2a53">iterate</a>(Choices) {</div>
<div class="line">    <a class="code" href="a00129.html#a9c59eace80232070d11e04794078d7b8">AddNewChunk</a> ((<a class="code" href="a00391.html">VIABLE_CHOICE</a>) <a class="code" href="a00794.html#a69547be764424f18b0be535400747978">first_node</a> (Choices), Blob);</div>
<div class="line">  }</div>
<div class="line">  Choices = raw_choices_;</div>
<div class="line">  <a class="code" href="a00794.html#a2cf19ba78be6b54f66823d58f34f2a53">iterate</a>(Choices) {</div>
<div class="line">    <a class="code" href="a00129.html#a9c59eace80232070d11e04794078d7b8">AddNewChunk</a> ((<a class="code" href="a00391.html">VIABLE_CHOICE</a>) <a class="code" href="a00794.html#a69547be764424f18b0be535400747978">first_node</a> (Choices), Blob);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acc0a47c47ed3fe63f3fd4646ae5ddb80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a> tesseract::Dict::NewViableChoice </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>WordChoice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>AdjustFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>Certainties</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a new viable choice data structure, copies WordChoice, Certainties, and current_segmentation_ into it, returns a pointer to the newly created VIABLE_CHOICE. WordChoice is a choice to be converted to a viable choice. AdjustFactor is a factor used to adjust ratings for WordChoice. Certainties contain certainty for each character in WordChoice. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00902">902</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                               {</div>
<div class="line">  <span class="keywordtype">int</span> Length = WordChoice.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>();</div>
<div class="line">  assert (Length &lt;= MAX_NUM_CHUNKS &amp;&amp; Length &gt; 0);</div>
<div class="line">  <a class="code" href="a00391.html">VIABLE_CHOICE</a> NewChoice = <span class="keyword">new</span> <a class="code" href="a00391.html">VIABLE_CHOICE_STRUCT</a>(Length);</div>
<div class="line">  <a class="code" href="a00129.html#a7b67011e3b43ead95473e2b25798e0fe">FillViableChoice</a>(WordChoice, AdjustFactor, Certainties, NewChoice);</div>
<div class="line">  <span class="keywordflow">return</span> NewChoice;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a895648f0134d56262368e64ee35a6b12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::ngram_probability_in_context </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>lang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>context_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>character</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>character_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aef746918c09040cf417f831d07c97072"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::NoDangerousAmbig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>BestChoice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *&#160;</td>
          <td class="paramname"><em>fixpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fix_replaceable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>Choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>modified_blobs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00811_source.html#l00581">581</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                  {</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt; 2) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\nRunning NoDangerousAmbig() for %s\n&quot;</span>,</div>
<div class="line">            best_choice-&gt;debug_string().string());</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Construct BLOB_CHOICE_LIST_VECTOR with ambiguities</span></div>
<div class="line">  <span class="comment">// for each unichar id in BestChoice.</span></div>
<div class="line">  <a class="code" href="a00175.html">BLOB_CHOICE_LIST_VECTOR</a> ambig_blob_choices;</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line">  <span class="keywordtype">bool</span> modified_best_choice = <span class="keyword">false</span>;</div>
<div class="line">  <span class="keywordtype">bool</span> ambigs_found = <span class="keyword">false</span>;</div>
<div class="line">  <span class="comment">// For each position in best_choice:</span></div>
<div class="line">  <span class="comment">// -- choose AMBIG_SPEC_LIST that corresponds to unichar_id at best_choice[i]</span></div>
<div class="line">  <span class="comment">// -- initialize wrong_ngram with a single unichar_id at best_choice[i]</span></div>
<div class="line">  <span class="comment">// -- look for ambiguities corresponding to wrong_ngram in the list while</span></div>
<div class="line">  <span class="comment">//    adding the following unichar_ids from best_choice to wrong_ngram</span></div>
<div class="line">  <span class="comment">//</span></div>
<div class="line">  <span class="comment">// Repeat the above procedure twice: first time look through</span></div>
<div class="line">  <span class="comment">// ambigs to be replaced and replace all the ambiguities found;</span></div>
<div class="line">  <span class="comment">// second time look through dangerous ambiguities and construct</span></div>
<div class="line">  <span class="comment">// ambig_blob_choices with fake a blob choice for each ambiguity</span></div>
<div class="line">  <span class="comment">// and pass them to dawg_permute_and_select() to search for</span></div>
<div class="line">  <span class="comment">// ambiguous words in the dictionaries.</span></div>
<div class="line">  <span class="comment">//</span></div>
<div class="line">  <span class="comment">// Note that during the execution of the for loop (on the first pass)</span></div>
<div class="line">  <span class="comment">// if replacements are made the length of best_choice might change.</span></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> pass = 0; pass &lt; (fix_replaceable ? 2 : 1); ++pass) {</div>
<div class="line">    <span class="keywordtype">bool</span> replace = (fix_replaceable &amp;&amp; pass == 0);</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="a00995.html#aa63fceec9a01c185fac83c0e7d04fe08">UnicharAmbigsVector</a> &amp;table = replace ?</div>
<div class="line">      <a class="code" href="a00129.html#a4a886a86bc5d0d4405dd9da165b3e1fd">getUnicharAmbigs</a>().<a class="code" href="a00383.html#a60150fd403b100937f42a9c24be35523">replace_ambigs</a>() : <a class="code" href="a00129.html#a4a886a86bc5d0d4405dd9da165b3e1fd">getUnicharAmbigs</a>().<a class="code" href="a00383.html#a9726c0e6bec2390404360c51c9bbfbbb">dang_ambigs</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (!replace) {</div>
<div class="line">      <span class="comment">// Initialize ambig_blob_choices with lists containing a single</span></div>
<div class="line">      <span class="comment">// unichar id for the correspoding position in best_choice.</span></div>
<div class="line">      <span class="comment">// best_choice consisting from only the original letters will</span></div>
<div class="line">      <span class="comment">// have a rating of 0.0.</span></div>
<div class="line">      <span class="keywordflow">for</span> (i = 0; i &lt; best_choice-&gt;length(); ++i) {</div>
<div class="line">        BLOB_CHOICE_LIST *lst = <span class="keyword">new</span> BLOB_CHOICE_LIST();</div>
<div class="line">        BLOB_CHOICE_IT lst_it(lst);</div>
<div class="line">        <span class="comment">// TODO(rays/antonova) Should these BLOB_CHOICEs use real xheights</span></div>
<div class="line">        <span class="comment">// or are these fake ones good enough?</span></div>
<div class="line">        lst_it.add_to_end(<span class="keyword">new</span> <a class="code" href="a00052.html">BLOB_CHOICE</a>(best_choice-&gt;unichar_id(i),</div>
<div class="line">                                          0.0, 0.0, -1, -1, -1, 0, 1, <span class="keyword">false</span>));</div>
<div class="line">        ambig_blob_choices.<a class="code" href="a00175.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(lst);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> wrong_ngram[<a class="code" href="a00553.html#a66b35d22667233a1566433c6dd864463">MAX_AMBIG_SIZE</a> + 1];</div>
<div class="line">    <span class="keywordtype">int</span> wrong_ngram_index;</div>
<div class="line">    <span class="keywordtype">int</span> next_index;</div>
<div class="line">    <span class="keywordtype">int</span> blob_index = 0;</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; best_choice-&gt;length(); ++i) {</div>
<div class="line">      <span class="keywordflow">if</span> (i &gt; 0) blob_index += best_choice-&gt;fragment_length(i-1);</div>
<div class="line">      <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> curr_unichar_id = best_choice-&gt;unichar_id(i);</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt; 2) {</div>
<div class="line">        <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Looking for %s ngrams starting with %s:\n&quot;</span>,</div>
<div class="line">                replace ? <span class="stringliteral">&quot;replaceable&quot;</span> : <span class="stringliteral">&quot;ambiguous&quot;</span>,</div>
<div class="line">                <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().debug_str(curr_unichar_id).<span class="keywordtype">string</span>());</div>
<div class="line">      }</div>
<div class="line">      wrong_ngram_index = 0;</div>
<div class="line">      wrong_ngram[wrong_ngram_index] = curr_unichar_id;</div>
<div class="line">      <span class="keywordflow">if</span> (curr_unichar_id == INVALID_UNICHAR_ID ||</div>
<div class="line">          curr_unichar_id &gt;= table.size() ||</div>
<div class="line">          table[curr_unichar_id] == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">        <span class="keywordflow">continue</span>;  <span class="comment">// there is no ambig spec for this unichar id</span></div>
<div class="line">      }</div>
<div class="line">      AmbigSpec_IT spec_it(table[curr_unichar_id]);</div>
<div class="line">      <span class="keywordflow">for</span> (spec_it.mark_cycle_pt(); !spec_it.cycled_list();) {</div>
<div class="line">        <span class="keyword">const</span> AmbigSpec *ambig_spec = spec_it.data();</div>
<div class="line">        wrong_ngram[wrong_ngram_index+1] = INVALID_UNICHAR_ID;</div>
<div class="line">        <span class="keywordtype">int</span> compare = <a class="code" href="a00385.html#a2fd19f82c1c81f57dd766bded5ae8904">UnicharIdArrayUtils::compare</a>(wrong_ngram,</div>
<div class="line">                                                   ambig_spec-&gt;wrong_ngram);</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt; 2) {</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;candidate ngram: &quot;</span>);</div>
<div class="line">          <a class="code" href="a00385.html#a555621fcd9c34b946ed7235cdd8653e6">UnicharIdArrayUtils::print</a>(wrong_ngram, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;current ngram from spec: &quot;</span>);</div>
<div class="line">          <a class="code" href="a00385.html#a555621fcd9c34b946ed7235cdd8653e6">UnicharIdArrayUtils::print</a>(ambig_spec-&gt;wrong_ngram, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;comparison result: %d\n&quot;</span>, compare);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (compare == 0) {</div>
<div class="line">          <span class="comment">// Record the place where we found an ambiguity.</span></div>
<div class="line">          <span class="keywordflow">if</span> (fixpt != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">            fixpt-&gt;<a class="code" href="a00175.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(<a class="code" href="a00121.html">DANGERR_INFO</a>(</div>
<div class="line">                blob_index, blob_index+wrong_ngram_index, replace,</div>
<div class="line">                <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isngram(ambig_spec-&gt;correct_ngram_id)));</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt; 1) {</div>
<div class="line">              <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;fixpt+=(%d %d %d %d)\n&quot;</span>, blob_index,</div>
<div class="line">                      blob_index+wrong_ngram_index, <span class="keyword">false</span>,</div>
<div class="line">                      <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isngram(</div>
<div class="line">                          ambig_spec-&gt;correct_ngram_id));</div>
<div class="line">            }</div>
<div class="line">          }</div>
<div class="line"></div>
<div class="line">          <span class="keywordflow">if</span> (replace) {</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt; 2) {</div>
<div class="line">              <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;replace ambiguity with: &quot;</span>);</div>
<div class="line">              <a class="code" href="a00385.html#a555621fcd9c34b946ed7235cdd8653e6">UnicharIdArrayUtils::print</a>(</div>
<div class="line">                  ambig_spec-&gt;correct_fragments, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">            }</div>
<div class="line">            <a class="code" href="a00129.html#a8309e93ec65d12110e6f8a1c9b00d7d4">ReplaceAmbig</a>(i, ambig_spec-&gt;wrong_ngram_size,</div>
<div class="line">                         ambig_spec-&gt;correct_ngram_id,</div>
<div class="line">                         best_choice, blob_choices, modified_blobs);</div>
<div class="line">            modified_best_choice = <span class="keyword">true</span>;</div>
<div class="line">          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i &gt; 0 || ambig_spec-&gt;type != <a class="code" href="a00995.html#aa13017f5f891a1f9f95074bf26a5b222a29c650e9672a75e50491fc10c0f07ec5">CASE_AMBIG</a>) {</div>
<div class="line">            <span class="comment">// We found dang ambig - update ambig_blob_choices.</span></div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt; 2) {</div>
<div class="line">              <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;found ambiguity: &quot;</span>);</div>
<div class="line">              <a class="code" href="a00385.html#a555621fcd9c34b946ed7235cdd8653e6">UnicharIdArrayUtils::print</a>(</div>
<div class="line">                  ambig_spec-&gt;correct_fragments, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">            }</div>
<div class="line">            ambigs_found = <span class="keyword">true</span>;</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tmp_index = 0; tmp_index &lt;= wrong_ngram_index;</div>
<div class="line">                 ++tmp_index) {</div>
<div class="line">              <span class="comment">// Add a blob choice for the corresponding fragment of the</span></div>
<div class="line">              <span class="comment">// ambiguity. These fake blob choices are initialized with</span></div>
<div class="line">              <span class="comment">// negative ratings (which are not possible for real blob</span></div>
<div class="line">              <span class="comment">// choices), so that dawg_permute_and_select() considers any</span></div>
<div class="line">              <span class="comment">// word not consisting of only the original letters a better</span></div>
<div class="line">              <span class="comment">// choice and stops searching for alternatives once such a</span></div>
<div class="line">              <span class="comment">// choice is found.</span></div>
<div class="line">              BLOB_CHOICE_IT bc_it(ambig_blob_choices[i+tmp_index]);</div>
<div class="line">              bc_it.add_to_end(<span class="keyword">new</span> <a class="code" href="a00052.html">BLOB_CHOICE</a>(</div>
<div class="line">                  ambig_spec-&gt;correct_fragments[tmp_index], -1.0, 0.0,</div>
<div class="line">                  -1, -1, -1, 0, 1, <span class="keyword">false</span>));</div>
<div class="line">            }</div>
<div class="line">          }</div>
<div class="line">          spec_it.forward();</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (compare == -1) {</div>
<div class="line">          <span class="keywordflow">if</span> (wrong_ngram_index+1 &lt; ambig_spec-&gt;wrong_ngram_size &amp;&amp;</div>
<div class="line">              ((next_index = wrong_ngram_index+1+i) &lt; best_choice-&gt;length())) {</div>
<div class="line">            <span class="comment">// Add the next unichar id to wrong_ngram and keep looking for</span></div>
<div class="line">            <span class="comment">// more ambigs starting with curr_unichar_id in AMBIG_SPEC_LIST.</span></div>
<div class="line">            wrong_ngram[++wrong_ngram_index] =</div>
<div class="line">              best_choice-&gt;unichar_id(next_index);</div>
<div class="line">          } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordflow">break</span>;  <span class="comment">// no more matching ambigs in this AMBIG_SPEC_LIST</span></div>
<div class="line">          }</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">          spec_it.forward();</div>
<div class="line">        }</div>
<div class="line">      }  <span class="comment">// end searching AmbigSpec_LIST</span></div>
<div class="line">    }  <span class="comment">// end searching best_choice</span></div>
<div class="line">  }  <span class="comment">// end searching replace and dangerous ambigs</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// If any ambiguities were found permute the constructed ambig_blob_choices</span></div>
<div class="line">  <span class="comment">// to see if an alternative dictionary word can be found.</span></div>
<div class="line">  <span class="keywordflow">if</span> (ambigs_found) {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt; 2) {</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\nResulting ambig_blob_choices:\n&quot;</span>);</div>
<div class="line">      <span class="keywordflow">for</span> (i = 0; i &lt; ambig_blob_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++i) {</div>
<div class="line">        <a class="code" href="a00534.html#a2de5b7d5a020bb9823091dbece4ea36e">print_ratings_list</a>(<span class="stringliteral">&quot;&quot;</span>, ambig_blob_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(i), <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">        <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="a00395.html">WERD_CHOICE</a> *alt_word = <a class="code" href="a00129.html#ac787e92f677e96a926d0c79e46a15461">dawg_permute_and_select</a>(ambig_blob_choices, 0.0);</div>
<div class="line">    ambigs_found = (alt_word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>() &lt; 0.0);</div>
<div class="line">    <span class="keywordflow">if</span> (ambigs_found) {</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 1) {</div>
<div class="line">        <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a> (<span class="stringliteral">&quot;Stopper: Possible ambiguous word = %s\n&quot;</span>,</div>
<div class="line">                 alt_word-&gt;<a class="code" href="a00395.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">if</span> (fixpt != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">        <span class="comment">// Note: Currently character choices combined from fragments can only</span></div>
<div class="line">        <span class="comment">// be generated by NoDangrousAmbigs(). This code should be updated if</span></div>
<div class="line">        <span class="comment">// the capability to produce classifications combined from character</span></div>
<div class="line">        <span class="comment">// fragments is added to other functions.</span></div>
<div class="line">        <span class="keywordtype">int</span> orig_i = 0;</div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; alt_word-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>(); ++i) {</div>
<div class="line">          <span class="keywordtype">bool</span> replacement_is_ngram =</div>
<div class="line">              <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a5c4c10b49cde94f3c12cd74996faad07">get_isngram</a>(alt_word-&gt;<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(i));</div>
<div class="line">          <span class="keywordtype">int</span> end_i = orig_i + alt_word-&gt;<a class="code" href="a00395.html#a6f319ff5e8b21bf4698c6a5863cec27e">fragment_length</a>(i) - 1;</div>
<div class="line">          <span class="keywordflow">if</span> (alt_word-&gt;<a class="code" href="a00395.html#a6f319ff5e8b21bf4698c6a5863cec27e">fragment_length</a>(i) &gt; 1 ||</div>
<div class="line">              (orig_i == end_i &amp;&amp; replacement_is_ngram)) {</div>
<div class="line">            fixpt-&gt;<a class="code" href="a00175.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(<a class="code" href="a00121.html">DANGERR_INFO</a>(orig_i, end_i, <span class="keyword">true</span>,</div>
<div class="line">                                          replacement_is_ngram));</div>
<div class="line">             <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt; 1) {</div>
<div class="line">               <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;fixpt-&gt;dangerous+=(%d %d %d %d)\n&quot;</span>, orig_i, end_i,</div>
<div class="line">                       <span class="keyword">true</span>, replacement_is_ngram);</div>
<div class="line">             }</div>
<div class="line">          }</div>
<div class="line">          orig_i += alt_word-&gt;<a class="code" href="a00395.html#a6f319ff5e8b21bf4698c6a5863cec27e">fragment_length</a>(i);</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">delete</span> alt_word;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (output_ambig_words_file_ != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    fprintf(output_ambig_words_file_, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  ambig_blob_choices.<a class="code" href="a00175.html#a98f62dccd75224a60437c2761bd215cd">delete_data_pointers</a>();</div>
<div class="line">  <span class="keywordflow">return</span> !ambigs_found;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a57be0143dbad3201d0d2ce002ae9bce8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> tesseract::Dict::NormalizeUnicharIdForMatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a>&#160;</td>
          <td class="paramname"><em>unichar_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00802_source.html#l00368">368</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                       {</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; equivalent_symbols_.<a class="code" href="a00175.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>(); i++) {</div>
<div class="line">    <span class="keywordflow">if</span> (equivalent_symbols_[i].contains(unichar_id)) {</div>
<div class="line">      <span class="keywordflow">return</span> equivalent_symbols_[i][0];</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> unichar_id;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a380d8e3aa8e0d3827b18ad5355b258"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int tesseract::Dict::NumDawgs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the number of dawgs in the dawgs_ vector. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00603">603</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">{ <span class="keywordflow">return</span> dawgs_.<a class="code" href="a00175.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>(); }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a578f7cb1945a1ba71f6251065687b555"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00395.html">WERD_CHOICE</a> * tesseract::Dict::permute_all </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>best_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>raw_choice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00807_source.html#l00331">331</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                                                        {</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> *result1 = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> *result2 = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <a class="code" href="a00577.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> any_alpha;</div>
<div class="line">  <span class="keywordtype">float</span> top_choice_rating_limit = best_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>();</div>
<div class="line">  <span class="keywordtype">int</span> word_script_id = <a class="code" href="a00129.html#a268a065cccec5814d412d7bde583cc3e">get_top_word_script</a>(char_choices, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line"></div>
<div class="line">  PermuterState permuter_state;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().han_sid() != <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().null_sid() &amp;&amp;</div>
<div class="line">      word_script_id == <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().han_sid()) {</div>
<div class="line">    permuter_state.Init(char_choices, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(), 1.0<a class="code" href="a00428.html#a469169df397b589e709dc744f1346831">f</a>, <a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>);</div>
<div class="line"></div>
<div class="line">    result1 = <a class="code" href="a00129.html#a8d9601c5bb5c5050ac8db64ecb1bf2d5">get_top_choice_word</a>(char_choices);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Note that we no longer need the returned word from these permuters,</span></div>
<div class="line">    <span class="comment">// except to delete the memory.  The word choice from all permutations</span></div>
<div class="line">    <span class="comment">// is returned by permuter_state.GetpermutedWord() at the end.</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a7605ec60e77ee219fcffbdb2fbef062e">permute_fixed_length_dawg</a>) {</div>
<div class="line">      result2 = <a class="code" href="a00129.html#a28fc3691ebb3ad2911fdc703b3e31ea0">permute_fixed_length_words</a>(char_choices, &amp;permuter_state);</div>
<div class="line">      <span class="keyword">delete</span> result2;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a697ad2ae7377608dbadd87771dd8a9da">permute_chartype_word</a>) {</div>
<div class="line">      result2 = <a class="code" href="a00129.html#a692e057e716545e386097b40620d636a" title="checks for consistency in character property (eg. alpah, digit, punct)">permute_chartype_words</a>(char_choices, &amp;permuter_state);</div>
<div class="line">      <span class="keyword">delete</span> result2;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#abd28e5f2cfdfa90d418d0b5fb650f510">permute_script_word</a>) {</div>
<div class="line">      result2 = <a class="code" href="a00129.html#a5de09395ec6b9c6436dcaa9266c78df8">permute_script_words</a>(char_choices, &amp;permuter_state);</div>
<div class="line">      <span class="keyword">delete</span> result2;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">float</span> certainties[<a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a>];</div>
<div class="line">    <span class="keywordtype">float</span> adjust_factor;</div>
<div class="line">    result2 = permuter_state.GetPermutedWord(certainties, &amp;adjust_factor);</div>
<div class="line">    <a class="code" href="a00129.html#a5d0400dc126a0dc472c3c28545da65a8">LogNewChoice</a>(adjust_factor, certainties, <span class="keyword">false</span>, result2, char_choices);</div>
<div class="line">    result1 = <a class="code" href="a00995.html#a2b39555188390212bae2294b5ed08f4e">get_best_delete_other</a>(result1, result2);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a3c252da043a05b0abdf6f7d62cb781cb">segment_segcost_rating</a>) <a class="code" href="a00129.html#a5b19c61706786b0609613fd0d73c6b42" title="Incoporate segmentation cost into word rating.">incorporate_segcost</a>(result1);</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    result1 = <a class="code" href="a00129.html#adfe046fdde238fd1802c5d1771be1671">permute_top_choice</a>(char_choices, &amp;top_choice_rating_limit,</div>
<div class="line">                                 raw_choice, &amp;any_alpha);</div>
<div class="line">    <span class="keywordflow">if</span> (result1 == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">      <span class="keywordflow">return</span> (<a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#abee65aea72351faabcd1b3fcac562339">permute_only_top</a>)</div>
<div class="line">      <span class="keywordflow">return</span> result1;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a697ad2ae7377608dbadd87771dd8a9da">permute_chartype_word</a>) {</div>
<div class="line">      permuter_state.Init(char_choices, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(),</div>
<div class="line">                          <a class="code" href="a00129.html#a683a1781be97f4376fa1c01bded08e66">segment_penalty_garbage</a>, <a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>);</div>
<div class="line">      result2 = <a class="code" href="a00129.html#a692e057e716545e386097b40620d636a" title="checks for consistency in character property (eg. alpah, digit, punct)">permute_chartype_words</a>(char_choices, &amp;permuter_state);</div>
<div class="line">      result1 = <a class="code" href="a00995.html#a2b39555188390212bae2294b5ed08f4e">get_best_delete_other</a>(result1, result2);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Permute character fragments if necessary.</span></div>
<div class="line">    <span class="keywordflow">if</span> (result1 == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || result1-&gt;<a class="code" href="a00395.html#a8947564d0c2d01763958e633999e3c50">fragment_mark</a>()) {</div>
<div class="line">      result2 = <a class="code" href="a00129.html#a632d8c752369e54bb548e0a35dd7e100">top_fragments_permute_and_select</a>(char_choices,</div>
<div class="line">                                                 top_choice_rating_limit);</div>
<div class="line">      result1 = <a class="code" href="a00995.html#a2b39555188390212bae2294b5ed08f4e">get_best_delete_other</a>(result1, result2);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    result2 = <a class="code" href="a00129.html#ac787e92f677e96a926d0c79e46a15461">dawg_permute_and_select</a>(char_choices, best_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>());</div>
<div class="line">    result1 = <a class="code" href="a00995.html#a2b39555188390212bae2294b5ed08f4e">get_best_delete_other</a>(result1, result2);</div>
<div class="line"></div>
<div class="line">    result2 = <a class="code" href="a00129.html#a2d718cec31b1cdfccab9f5ad720158ba">permute_compound_words</a>(char_choices, best_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>());</div>
<div class="line">    result1 = <a class="code" href="a00995.html#a2b39555188390212bae2294b5ed08f4e">get_best_delete_other</a>(result1, result2);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> result1;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab9c442c6c541ea1be7a0a132aea3af51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::permute_characters </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>best_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>raw_choice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>permute_characters</p>
<p>Permute these characters together according to each of the different permuters that are enabled. Returns true if best_choice was updated. </p>

<p>Definition at line <a class="el" href="a00807_source.html#l00765">765</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                                                       {</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\n\n\n##### Permute_Characters #######\n&quot;</span>);</div>
<div class="line">    <a class="code" href="a00534.html#ac0dbfacd7d5eec784a0d0fb6f605bd63">print_char_choices_list</a>(<span class="stringliteral">&quot;\n==&gt; Input CharChoices&quot;</span>, char_choices,</div>
<div class="line">                            <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(), <a class="code" href="a00129.html#ac1e26982bb8526a587932aa73efd4ce0">segment_debug</a> &gt; 1);</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() == 1 &amp;&amp;</div>
<div class="line">      <a class="code" href="a00995.html#ab822bbc3c0f362dc6b70f7d5363a5e42">get_top_choice_uid</a>(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(0)) == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> *this_choice = <a class="code" href="a00129.html#a578f7cb1945a1ba71f6251065687b555">permute_all</a>(char_choices, best_choice, raw_choice);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (this_choice &amp;&amp; this_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>() &lt; best_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>()) {</div>
<div class="line">    *best_choice = *this_choice;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>) {</div>
<div class="line">      best_choice-&gt;<a class="code" href="a00395.html#aa27589343655d5843a6482dbb3731d5a">print</a>(<span class="stringliteral">&quot;\n**** Populate BestChoice&quot;</span>);</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;populate best_choice\n\t%s\n&quot;</span>,</div>
<div class="line">              best_choice-&gt;<a class="code" href="a00395.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">delete</span> this_choice;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keyword">delete</span> this_choice;</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a692e057e716545e386097b40620d636a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00395.html">WERD_CHOICE</a> * tesseract::Dict::permute_chartype_words </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00265.html">PermuterState</a> *&#160;</td>
          <td class="paramname"><em>permuter_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks for consistency in character property (eg. alpah, digit, punct) </p>

<p>Definition at line <a class="el" href="a00807_source.html#l00542">542</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                                   {</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() &gt;= <a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a>)</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <span class="comment">// Store main character property of top choice at every position</span></div>
<div class="line">  <span class="keywordtype">char</span> pos_chartypes[<a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a>];</div>
<div class="line">  <span class="keywordtype">char</span> word_type = <a class="code" href="a00129.html#a49b7fbfcab4bd2783f9620a35e6a673b">top_word_chartype</a>(char_choices, pos_chartypes);</div>
<div class="line">  <span class="keywordflow">if</span> (word_type == 0 || word_type == <span class="charliteral">&#39;p&#39;</span>)</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;     <span class="comment">// skip if word type is punctuation or unknown</span></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\n\nPermuteCharType[%c]\n&quot;</span>, word_type);</div>
<div class="line">    <a class="code" href="a00534.html#ac0dbfacd7d5eec784a0d0fb6f605bd63">print_char_choices_list</a>(<span class="stringliteral">&quot;&quot;</span>, char_choices, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(), <span class="keyword">true</span>);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> *current_word = <span class="keyword">new</span> <a class="code" href="a00395.html">WERD_CHOICE</a>(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">  BLOB_CHOICE_IT blob_choice_it;</div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="a00387.html">UNICHARSET</a>&amp; unicharset = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>();</div>
<div class="line">  <span class="keywordtype">bool</span> replaced = <span class="keyword">false</span>;        <span class="comment">// has any character choice been replaced</span></div>
<div class="line">  <span class="keywordtype">int</span> prev_unambig_type = 0;    <span class="comment">// the last chartype of an unambiguous char</span></div>
<div class="line">  <span class="keywordtype">float</span> certainties[<a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a> + 1];</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++x) {</div>
<div class="line">    BLOB_CHOICE_LIST* pos_choice = char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x);</div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = <a class="code" href="a00995.html#ab822bbc3c0f362dc6b70f7d5363a5e42">get_top_choice_uid</a>(pos_choice);</div>
<div class="line">    <span class="keywordflow">if</span> (unichar_id == 0) {</div>
<div class="line">      <span class="keyword">delete</span> current_word;</div>
<div class="line">      <span class="keywordflow">return</span> <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">    }</div>
<div class="line">    blob_choice_it.set_to_list(pos_choice);</div>
<div class="line">    <a class="code" href="a00052.html">BLOB_CHOICE</a> *first_choice = blob_choice_it.data();</div>
<div class="line">    <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(first_choice != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"></div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="a00995.html#a3dad1b2dad5ed3069bdb4c971116b9c5">UnicharIdVector</a>* ambig_uids =</div>
<div class="line">        <a class="code" href="a00129.html#a4a886a86bc5d0d4405dd9da165b3e1fd">getUnicharAmbigs</a>().<a class="code" href="a00383.html#a812cfe8814d7da766b139d8c40fcde9a">OneToOneDefiniteAmbigs</a>(unichar_id);</div>
<div class="line">    <span class="keywordtype">bool</span> is_ambiguous = (ambig_uids != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">    <span class="keywordtype">bool</span> is_punct = unicharset.<a class="code" href="a00387.html#a57f82c4777d39c923cb9ec27cac9bcb6">get_ispunctuation</a>(unichar_id);</div>
<div class="line">    <span class="keywordtype">bool</span> is_consistent = is_punct ||</div>
<div class="line">        unicharset.<a class="code" href="a00387.html#a52f4cf0d6d6e880201f62215770b457f">get_chartype</a>(unichar_id) == prev_unambig_type ||</div>
<div class="line">        unicharset.<a class="code" href="a00387.html#a52f4cf0d6d6e880201f62215770b457f">get_chartype</a>(unichar_id) == word_type;</div>
<div class="line">    <span class="keywordtype">bool</span> is_fragment = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(unichar_id) != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>)</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;char[%d]:%s is_ambig %c   is_punct %c  is_consistent %c\n&quot;</span>,</div>
<div class="line">              x, unicharset.<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(unichar_id),</div>
<div class="line">              is_ambiguous?<span class="charliteral">&#39;T&#39;</span>:<span class="charliteral">&#39;F&#39;</span>, is_punct?<span class="charliteral">&#39;T&#39;</span>:<span class="charliteral">&#39;F&#39;</span>, is_consistent?<span class="charliteral">&#39;T&#39;</span>:<span class="charliteral">&#39;F&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (is_fragment) {</div>
<div class="line">      <span class="comment">// Ignore any fragmented characters by skipping them to next choice</span></div>
<div class="line">      <span class="comment">// (originally first choice).</span></div>
<div class="line">      first_choice = <a class="code" href="a00995.html#a64ff2ce4da7827279b5ac0aaea905e83">get_nth_choice</a>(pos_choice, 1);</div>
<div class="line">      <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(first_choice != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_ambiguous &amp;&amp; !is_consistent) {</div>
<div class="line">      <span class="comment">// Check every confusable blob choice where the top choice is inconsistent</span></div>
<div class="line">      <span class="comment">// with the character type of the previous unambiguous character.</span></div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>) {</div>
<div class="line">        <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Checking %s r%g  PrevCharType %c\n&quot;</span>,</div>
<div class="line">                unicharset.<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(unichar_id),</div>
<div class="line">                first_choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>(), prev_unambig_type);</div>
<div class="line">        <a class="code" href="a00534.html#a2de5b7d5a020bb9823091dbece4ea36e">print_ratings_list</a>(<span class="stringliteral">&quot;\t&quot;</span>, pos_choice, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">      }</div>
<div class="line">      <a class="code" href="a00052.html">BLOB_CHOICE</a>* c_it = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">      <span class="keywordflow">if</span> (c_it == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">        c_it = <a class="code" href="a00995.html#a0e8ea78ad7c9450d129344eb7480b31a">find_choice_by_type</a>(pos_choice, word_type, unicharset);</div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">      <span class="comment">// Prefer a character choice whose type is the same as the previous</span></div>
<div class="line">      <span class="comment">// unambiguous character and the confusion appears in the ambig list.</span></div>
<div class="line">      <span class="keywordflow">if</span> (c_it == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; prev_unambig_type &gt; 0) {</div>
<div class="line">        c_it = <a class="code" href="a00995.html#a0e8ea78ad7c9450d129344eb7480b31a">find_choice_by_type</a>(pos_choice, prev_unambig_type, unicharset);</div>
<div class="line">        <span class="keywordflow">if</span> (c_it &amp;&amp;</div>
<div class="line">            <a class="code" href="a00385.html#adf368b56fd47dcfb863af9f11301def2">UnicharIdArrayUtils::find_in</a>(*ambig_uids, c_it-&gt;<a class="code" href="a00052.html#aaba6190b77c5f3dc21905fc4118afa94">unichar_id</a>()) &lt; 0)</div>
<div class="line">          c_it = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">      <span class="comment">// Otherwise, perfer a punctuation</span></div>
<div class="line">      <span class="keywordflow">if</span> (c_it == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">        c_it = <a class="code" href="a00995.html#a0e8ea78ad7c9450d129344eb7480b31a">find_choice_by_type</a>(pos_choice, <span class="charliteral">&#39;p&#39;</span>, unicharset);</div>
<div class="line">        <span class="keywordflow">if</span> (c_it &amp;&amp;</div>
<div class="line">            <a class="code" href="a00385.html#adf368b56fd47dcfb863af9f11301def2">UnicharIdArrayUtils::find_in</a>(*ambig_uids, c_it-&gt;<a class="code" href="a00052.html#aaba6190b77c5f3dc21905fc4118afa94">unichar_id</a>()) &lt; 0)</div>
<div class="line">          c_it = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">      <span class="comment">// save any preference other than the top choice</span></div>
<div class="line">      <span class="keywordflow">if</span> (c_it != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>) {</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Replacing %s r%g ==&gt; %s r%g\n&quot;</span>,</div>
<div class="line">                  unicharset.<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(unichar_id), first_choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>(),</div>
<div class="line">                  unicharset.<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(c_it-&gt;<a class="code" href="a00052.html#aaba6190b77c5f3dc21905fc4118afa94">unichar_id</a>()), c_it-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>());</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\n\nPermuteCharType[%c]\n&quot;</span>, word_type);</div>
<div class="line">          <a class="code" href="a00534.html#ac0dbfacd7d5eec784a0d0fb6f605bd63">print_char_choices_list</a>(<span class="stringliteral">&quot;&quot;</span>, char_choices, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(), <span class="keyword">false</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (permuter_state)</div>
<div class="line">          permuter_state-&gt;AddPreference(x, c_it, <a class="code" href="a00129.html#a07341950953ad8c06d2f85a3628158a1">segment_reward_chartype</a>);</div>
<div class="line">        first_choice = c_it;</div>
<div class="line">        replaced = <span class="keyword">true</span>;</div>
<div class="line">      }</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!is_ambiguous &amp;&amp; !is_punct) {</div>
<div class="line">      <span class="comment">// keep the last unambiguous character type</span></div>
<div class="line">      prev_unambig_type = pos_chartypes[x];</div>
<div class="line">    }</div>
<div class="line">    current_word-&gt;<a class="code" href="a00395.html#a76b0ea9f9f0d9c08b2e84b7372964001">append_unichar_id</a>(first_choice-&gt;<a class="code" href="a00052.html#aaba6190b77c5f3dc21905fc4118afa94">unichar_id</a>(), 1,</div>
<div class="line">                                    first_choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>(),</div>
<div class="line">                                    first_choice-&gt;<a class="code" href="a00052.html#af53d45b718c562ea7209b583c77ac14e">certainty</a>());</div>
<div class="line">    certainties[x] = first_choice-&gt;<a class="code" href="a00052.html#af53d45b718c562ea7209b583c77ac14e">certainty</a>();</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// All permuter choices should go through adjust_non_word so the choice</span></div>
<div class="line">  <span class="comment">// rating would be adjusted on the same scale.</span></div>
<div class="line">  <a class="code" href="a00129.html#aee01b74007e1fc5a172a5534c5ef3cae">adjust_non_word</a>(current_word, certainties, &amp;char_choices, <a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>);</div>
<div class="line">  <span class="keywordflow">if</span> (replaced) {</div>
<div class="line">    <span class="comment">// Apply a reward multiplier on rating if an chartype permutation is made.</span></div>
<div class="line">    <span class="keywordtype">float</span> rating = current_word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>();</div>
<div class="line">    current_word-&gt;<a class="code" href="a00395.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(rating * <a class="code" href="a00129.html#a07341950953ad8c06d2f85a3628158a1">segment_reward_chartype</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>)</div>
<div class="line">      current_word-&gt;<a class="code" href="a00395.html#aa27589343655d5843a6482dbb3731d5a">print</a>(<span class="stringliteral">&quot;&lt;== permute_chartype_word **&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> current_word;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0ceb12c3a410ba12fdb9a93df11d47e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::permute_choices </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>char_choice_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00075.html">CHAR_FRAGMENT_INFO</a> *&#160;</td>
          <td class="paramname"><em>prev_char_frag_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>certainties</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>best_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>attempts_left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>more_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>permute_choices</p>
<p>Call <a class="el" href="a00129.html#a1fd1f849b292727334cdbdee03d6cdfc">append_choices()</a> for each <a class="el" href="a00052.html">BLOB_CHOICE</a> in BLOB_CHOICE_LIST with the given char_choice_index in char_choices. </p>

<p>Definition at line <a class="el" href="a00807_source.html#l01437">1437</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                     {</div>
<div class="line">  <span class="keywordflow">if</span> (debug) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;%s permute_choices: char_choice_index=%d&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot; limit=%g rating=%g, certainty=%g word=%s\n&quot;</span>,</div>
<div class="line">            debug, char_choice_index, *limit, word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>(),</div>
<div class="line">            word-&gt;<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>(), word-&gt;<a class="code" href="a00395.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (char_choice_index &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>()) {</div>
<div class="line">    BLOB_CHOICE_IT blob_choice_it;</div>
<div class="line">    blob_choice_it.set_to_list(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(char_choice_index));</div>
<div class="line">    <span class="keywordflow">for</span> (blob_choice_it.mark_cycle_pt(); !blob_choice_it.cycled_list();</div>
<div class="line">         blob_choice_it.forward()) {</div>
<div class="line">      (*attempts_left)--;</div>
<div class="line">      <a class="code" href="a00129.html#a1fd1f849b292727334cdbdee03d6cdfc">append_choices</a>(debug, char_choices, *(blob_choice_it.data()),</div>
<div class="line">                     char_choice_index, prev_char_frag_info, word,</div>
<div class="line">                     certainties, limit, best_choice, attempts_left, more_args);</div>
<div class="line">      <span class="keywordflow">if</span> (*attempts_left &lt;= 0) {</div>
<div class="line">        <span class="keywordflow">if</span> (debug) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;permute_choices(): attempts_left is 0\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2d718cec31b1cdfccab9f5ad720158ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00395.html">WERD_CHOICE</a> * tesseract::Dict::permute_compound_words </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rating_limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>permute_compound_words</p>
<p>Return the top choice for each character as the choice for the word. </p>

<p>Definition at line <a class="el" href="a00807_source.html#l00799">799</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                        {</div>
<div class="line">  <a class="code" href="a00052.html">BLOB_CHOICE</a> *first_choice;</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> *best_choice = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> current_word(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(), <a class="code" href="a00803.html#a8f209bc21153a4b65514af438fc46957">MAX_WERD_LENGTH</a>);</div>
<div class="line">  <span class="keywordtype">int</span> first_index = 0;</div>
<div class="line">  <span class="keywordtype">int</span> x;</div>
<div class="line">  BLOB_CHOICE_IT blob_choice_it;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() &gt; <a class="code" href="a00803.html#a8f209bc21153a4b65514af438fc46957">MAX_WERD_LENGTH</a>) {</div>
<div class="line">    <a class="code" href="a00395.html">WERD_CHOICE</a> *bad_word_choice = <span class="keyword">new</span> <a class="code" href="a00395.html">WERD_CHOICE</a>(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">    bad_word_choice-&gt;<a class="code" href="a00395.html#aad71e860a573a615ce8958898b2657fb" title="Set the fields in this choice to be default (bad) values.">make_bad</a>();</div>
<div class="line">    <span class="keywordflow">return</span> bad_word_choice;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> slash = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(<span class="stringliteral">&quot;/&quot;</span>);</div>
<div class="line">  <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> dash = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(<span class="stringliteral">&quot;-&quot;</span>);</div>
<div class="line">  <span class="keywordflow">for</span> (x = 0; x &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++x) {</div>
<div class="line">    blob_choice_it.set_to_list(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x));</div>
<div class="line">    first_choice = blob_choice_it.data();</div>
<div class="line">    <span class="keywordflow">if</span> (first_choice-&gt;<a class="code" href="a00052.html#aaba6190b77c5f3dc21905fc4118afa94">unichar_id</a>() == slash ||</div>
<div class="line">        first_choice-&gt;<a class="code" href="a00052.html#aaba6190b77c5f3dc21905fc4118afa94">unichar_id</a>() == dash) {</div>
<div class="line">      <span class="keywordflow">if</span> (x &gt; first_index) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#ac1e26982bb8526a587932aa73efd4ce0">segment_debug</a>)</div>
<div class="line">          <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Hyphenated word found\n&quot;</span>);</div>
<div class="line">        <a class="code" href="a00129.html#a837f35af4dee4b03a43a85785af430bd">permute_subword</a>(char_choices, rating_limit, first_index,</div>
<div class="line">                        x - 1, &amp;current_word);</div>
<div class="line">        <span class="keywordflow">if</span> (current_word.rating() &gt; rating_limit)</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">      <span class="comment">// Append hyphen/slash separator to current_word.</span></div>
<div class="line">      current_word.append_unichar_id_space_allocated(</div>
<div class="line">          first_choice-&gt;<a class="code" href="a00052.html#aaba6190b77c5f3dc21905fc4118afa94">unichar_id</a>(), 1,</div>
<div class="line">          first_choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>(), first_choice-&gt;<a class="code" href="a00052.html#af53d45b718c562ea7209b583c77ac14e">certainty</a>());</div>
<div class="line"></div>
<div class="line">      first_index = x + 1;  <span class="comment">// update first_index</span></div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (first_index &gt; 0 &amp;&amp; first_index &lt; x &amp;&amp;</div>
<div class="line">      current_word.rating() &lt;= rating_limit) {</div>
<div class="line">    <a class="code" href="a00129.html#a837f35af4dee4b03a43a85785af430bd">permute_subword</a>(char_choices, rating_limit, first_index,</div>
<div class="line">                    x - 1, &amp;current_word);</div>
<div class="line">    best_choice = <span class="keyword">new</span> <a class="code" href="a00395.html">WERD_CHOICE</a>(current_word);</div>
<div class="line">    best_choice-&gt;<a class="code" href="a00395.html#a162d90ae016fbf55256591bbf01c0c03">set_permuter</a>(COMPOUND_PERM);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (best_choice);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a28fc3691ebb3ad2911fdc703b3e31ea0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00395.html">WERD_CHOICE</a> * tesseract::Dict::permute_fixed_length_words </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00265.html">PermuterState</a> *&#160;</td>
          <td class="paramname"><em>permuter_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find permutations matching a list of fixed-char-length dawgs The bestchoice based on this permuter alone is returned. Alternatively, non-conflicting changes can be combined through permuter_state.</p>
<p>Perform search on fixed-length dictionaries within a word. This is used for non-space delimited languages like CJK when a "word" corresponds to a "phrase" consisted of multiple short words. It iterates over every character position looking for longest matches against a set of fixed-length dawgs. Each dictionary hit is rewarded with a rating bonus. Note: this is very slow as it is performed on every segmentation state. </p>

<p>Definition at line <a class="el" href="a00807_source.html#l00430">430</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                                   {</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>)</div>
<div class="line">    <a class="code" href="a00534.html#ac0dbfacd7d5eec784a0d0fb6f605bd63">print_char_choices_list</a>(<span class="stringliteral">&quot;\n\nPermute FixedLength Word&quot;</span>,</div>
<div class="line">                            char_choices, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(), <span class="keyword">false</span>);</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a>* best_choice =</div>
<div class="line">      <span class="keyword">new</span> <a class="code" href="a00395.html">WERD_CHOICE</a>(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(), char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>());</div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">int</span> max_dict_len = max_fixed_length_dawgs_wdlen_;</div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">int</span> min_dict_len = 2;</div>
<div class="line">  <span class="keywordtype">char</span> posstr[256];</div>
<div class="line">  <span class="keywordtype">int</span> match_score = 0;</div>
<div class="line">  <span class="keywordtype">int</span> anchor_pos = 0;</div>
<div class="line">  <span class="keywordflow">while</span> (anchor_pos &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>()) {</div>
<div class="line">     <span class="comment">// search from longest phrase to shortest, stop when we find a match</span></div>
<div class="line">     <a class="code" href="a00395.html">WERD_CHOICE</a>* part_choice = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">     <span class="keywordtype">int</span> step = max_dict_len;</div>
<div class="line">     <span class="keywordflow">while</span> (step &gt;= min_dict_len) {</div>
<div class="line">       <span class="keywordtype">int</span> end_pos = anchor_pos + step - 1;</div>
<div class="line">       <span class="keywordflow">if</span> (end_pos &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>()) {</div>
<div class="line">         part_choice = <a class="code" href="a00129.html#ac787e92f677e96a926d0c79e46a15461">dawg_permute_and_select</a>(char_choices,</div>
<div class="line">                                               200.0,   <span class="comment">// rate limit</span></div>
<div class="line">                                               step,</div>
<div class="line">                                               anchor_pos);</div>
<div class="line">         <span class="keywordflow">if</span> (part_choice-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() == step) {</div>
<div class="line">           <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>)</div>
<div class="line">             <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;match found at pos=%d len=%d\n%s\n&quot;</span>, anchor_pos, step,</div>
<div class="line">                     part_choice-&gt;<a class="code" href="a00395.html#a41d740f0accccdfb245d34d554122116">unichar_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">           <span class="keywordflow">break</span>;</div>
<div class="line">         }</div>
<div class="line">         <span class="keyword">delete</span> part_choice;</div>
<div class="line">         part_choice = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">       }</div>
<div class="line">       step--;</div>
<div class="line">     }</div>
<div class="line"></div>
<div class="line">     <span class="keywordflow">if</span> (part_choice &amp;&amp; step &gt; 1) {   <span class="comment">// found lexicon match</span></div>
<div class="line">       <a class="code" href="a00995.html#ad724fdc2e32c233ba731fed5237e94d0">get_posstr_from_choice</a>(char_choices, part_choice, anchor_pos, posstr);</div>
<div class="line">       <span class="keywordtype">float</span> adjust_factor = pow(0.95, 1.0 + step*2.0/char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>());</div>
<div class="line">       <span class="keywordflow">if</span> (permuter_state)</div>
<div class="line">         permuter_state-&gt;AddPreference(anchor_pos, posstr, adjust_factor);</div>
<div class="line">       match_score += step - 1;   <span class="comment">// single chars don&#39;t count</span></div>
<div class="line">       <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>)</div>
<div class="line">         <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Promote word rating %d-len%d\n%s\n&quot;</span>, anchor_pos, step,</div>
<div class="line">                 part_choice-&gt;<a class="code" href="a00395.html#a41d740f0accccdfb245d34d554122116">unichar_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">     } <span class="keywordflow">else</span> {     <span class="comment">// no lexicon match</span></div>
<div class="line">       step = 1;</div>
<div class="line">       part_choice = <a class="code" href="a00995.html#a17fb104bbf4cd7af5cc91d97421ece8e">get_choice_from_posstr</a>(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(), char_choices,</div>
<div class="line">                                            anchor_pos, <span class="stringliteral">&quot;0&quot;</span>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">       <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>)</div>
<div class="line">         <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Single char %d %s\n&quot;</span>, anchor_pos,</div>
<div class="line">                 part_choice-&gt;<a class="code" href="a00395.html#a41d740f0accccdfb245d34d554122116">unichar_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">     }</div>
<div class="line">     <span class="keywordflow">if</span> (part_choice &amp;&amp; part_choice-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() &gt; 0)</div>
<div class="line">       (*best_choice) += (*part_choice);</div>
<div class="line">     <span class="keywordflow">if</span> (part_choice) <span class="keyword">delete</span> part_choice;</div>
<div class="line">     anchor_pos += step;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (match_score &gt; 0) {</div>
<div class="line">    <span class="keywordtype">float</span> adjust_factor = pow(0.8,    <span class="comment">// 1.0/segment_penalty_dict_nonword,</span></div>
<div class="line">                              match_score * 2.0 / char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>());</div>
<div class="line">    <span class="keywordtype">float</span> adjusted_score = best_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>() * adjust_factor;</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>)</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Adjusting score %f @ %d -&gt; %f\n&quot;</span>,</div>
<div class="line">              best_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>(), match_score, adjusted_score);</div>
<div class="line">    best_choice-&gt;<a class="code" href="a00395.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(adjusted_score);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>)</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Found Best CJK word %f: %s\n&quot;</span>,</div>
<div class="line">            best_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>(), best_choice-&gt;<a class="code" href="a00395.html#a41d740f0accccdfb245d34d554122116">unichar_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">  <span class="keywordflow">return</span> best_choice;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5de09395ec6b9c6436dcaa9266c78df8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00395.html">WERD_CHOICE</a> * tesseract::Dict::permute_script_words </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00265.html">PermuterState</a> *&#160;</td>
          <td class="paramname"><em>permuter_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks for script-consistent permutations. Similar to fixed-length permuter, the best choice is returned by the function, but the combined changes are also recorded into permuter_state.</p>
<p>Try flipping characters in a word to get better script consistency. Similar to how upper/lower case checking is done in top_choice_permuter, this permuter tries to suggest a more script-consistent choice AND modifies the rating. So it combines both the case_ok check and adjust_non_word functionality. However, instead of penalizing an inconsistent word with a &gt; 1 multiplier, we reward the script-consistent choice with a &lt; 1 multiplier. </p>

<p>Definition at line <a class="el" href="a00807_source.html#l00669">669</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                                   {</div>
<div class="line">  <span class="keywordflow">if</span> (char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() &gt;= <a class="code" href="a00803.html#a8f209bc21153a4b65514af438fc46957">MAX_WERD_LENGTH</a>)</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">int</span> word_sid = <a class="code" href="a00129.html#a268a065cccec5814d412d7bde583cc3e">get_top_word_script</a>(char_choices, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">  <span class="keywordflow">if</span> (word_sid == <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().null_sid())</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\n\nPermuteScript %s\n&quot;</span>,</div>
<div class="line">            <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_script_from_script_id(word_sid));</div>
<div class="line">    <a class="code" href="a00534.html#ac0dbfacd7d5eec784a0d0fb6f605bd63">print_char_choices_list</a>(<span class="stringliteral">&quot;&quot;</span>, char_choices, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(),</div>
<div class="line">                            <a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a> &gt; 1);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> *current_word = <span class="keyword">new</span> <a class="code" href="a00395.html">WERD_CHOICE</a>(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">  BLOB_CHOICE_IT blob_choice_it;</div>
<div class="line">  <span class="keywordtype">bool</span> replaced = <span class="keyword">false</span>;</div>
<div class="line">  <span class="keywordtype">bool</span> prev_is_consistent = <span class="keyword">false</span>;</div>
<div class="line">  <span class="keywordtype">float</span> certainties[<a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a> + 1];</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++x) {</div>
<div class="line">    blob_choice_it.set_to_list(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x));</div>
<div class="line">    <a class="code" href="a00052.html">BLOB_CHOICE</a> *first_choice = blob_choice_it.data();</div>
<div class="line">    <span class="keywordflow">if</span> (!first_choice) {</div>
<div class="line">      <span class="keyword">delete</span> current_word;</div>
<div class="line">      <span class="keywordflow">return</span> <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = first_choice-&gt;<a class="code" href="a00052.html#aaba6190b77c5f3dc21905fc4118afa94">unichar_id</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (unichar_id == 0) {</div>
<div class="line">      <span class="keyword">delete</span> current_word;</div>
<div class="line">      <span class="keywordflow">return</span> <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordtype">bool</span> sid_consistent = (<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a77cdfcf9338d6565e6321a583392d5a1">get_script</a>(unichar_id) == word_sid);</div>
<div class="line">    <span class="keywordtype">bool</span> this_is_punct = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a52f4cf0d6d6e880201f62215770b457f">get_chartype</a>(unichar_id) == <span class="charliteral">&#39;p&#39;</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> is_fragment = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(unichar_id) != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (is_fragment) {</div>
<div class="line">      <span class="comment">// Ignore any fragmented characters by skipping them to next choice</span></div>
<div class="line">      <span class="comment">// (originally first choice).</span></div>
<div class="line">      first_choice = <a class="code" href="a00995.html#a64ff2ce4da7827279b5ac0aaea905e83">get_nth_choice</a>(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x), 1);</div>
<div class="line">      <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(first_choice != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!sid_consistent &amp;&amp; !this_is_punct &amp;&amp; prev_is_consistent) {</div>
<div class="line">      <span class="comment">// If the previous char is CJK, we prefer a cjk over non-cjk char</span></div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>) {</div>
<div class="line">        <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Checking %s r%g\n&quot;</span>, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().id_to_unichar(unichar_id),</div>
<div class="line">                                     first_choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>());</div>
<div class="line">        <a class="code" href="a00534.html#a2de5b7d5a020bb9823091dbece4ea36e">print_ratings_list</a>(<span class="stringliteral">&quot;\t&quot;</span>, char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x), <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">      }</div>
<div class="line">      <span class="comment">// prefer a script consistent choice</span></div>
<div class="line">      <a class="code" href="a00052.html">BLOB_CHOICE</a>* c_it = <a class="code" href="a00995.html#aac150a471549dd71ea575fa2932493aa">find_choice_by_script</a>(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x),</div>
<div class="line">                                                word_sid, 0, 0);</div>
<div class="line">      <span class="comment">// otherwise, prefer a punctuation</span></div>
<div class="line">      <span class="keywordflow">if</span> (c_it == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">        c_it = <a class="code" href="a00995.html#a0e8ea78ad7c9450d129344eb7480b31a">find_choice_by_type</a>(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x), <span class="charliteral">&#39;p&#39;</span>, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line"></div>
<div class="line">      <span class="keywordflow">if</span> (c_it != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>)</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Replacing %s r%g ==&gt; %s r%g\n&quot;</span>,</div>
<div class="line">                  <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().id_to_unichar(unichar_id),</div>
<div class="line">                  first_choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>(),</div>
<div class="line">                  <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(c_it-&gt;<a class="code" href="a00052.html#aaba6190b77c5f3dc21905fc4118afa94">unichar_id</a>()),</div>
<div class="line">                  c_it-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>());</div>
<div class="line">        <span class="keywordflow">if</span> (permuter_state)</div>
<div class="line">          permuter_state-&gt;AddPreference(x, c_it, <a class="code" href="a00129.html#a2baa03008eaaaff468c8187a0346f073">segment_reward_script</a>);</div>
<div class="line">        first_choice = c_it;</div>
<div class="line">        replaced = <span class="keyword">true</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    current_word-&gt;<a class="code" href="a00395.html#a76b0ea9f9f0d9c08b2e84b7372964001">append_unichar_id</a>(first_choice-&gt;<a class="code" href="a00052.html#aaba6190b77c5f3dc21905fc4118afa94">unichar_id</a>(), 1,</div>
<div class="line">                                    first_choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>(),</div>
<div class="line">                                    first_choice-&gt;<a class="code" href="a00052.html#af53d45b718c562ea7209b583c77ac14e">certainty</a>());</div>
<div class="line">    certainties[x] = first_choice-&gt;<a class="code" href="a00052.html#af53d45b718c562ea7209b583c77ac14e">certainty</a>();</div>
<div class="line">    prev_is_consistent = sid_consistent;</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// All permuter choices should go through adjust_non_word so the choice</span></div>
<div class="line">  <span class="comment">// rating would be adjusted on the same scale.</span></div>
<div class="line">  <a class="code" href="a00129.html#aee01b74007e1fc5a172a5534c5ef3cae">adjust_non_word</a>(current_word, certainties, &amp;char_choices, <a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>);</div>
<div class="line">  <span class="keywordflow">if</span> (replaced) {</div>
<div class="line">    <span class="comment">// Apply a reward multiplier on rating if an script permutation is made.</span></div>
<div class="line">    <span class="keywordtype">float</span> rating = current_word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>();</div>
<div class="line">    current_word-&gt;<a class="code" href="a00395.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(rating * <a class="code" href="a00129.html#a2baa03008eaaaff468c8187a0346f073">segment_reward_script</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>)</div>
<div class="line">      current_word-&gt;<a class="code" href="a00395.html#aa27589343655d5843a6482dbb3731d5a">print</a>(<span class="stringliteral">&quot;&lt;== permute_script_word **&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> current_word;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a837f35af4dee4b03a43a85785af430bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::permute_subword </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rating_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>current_word</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>permute_subword</p>
<p>Permute a part of a compound word this subword is bounded by hyphens and the start and end of the word. Call the standard word permute function on a set of choices covering only part of the original word. When it is done reclaim the memory that was used in the exercise. </p>

<p>Definition at line <a class="el" href="a00807_source.html#l00859">859</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                                                      {</div>
<div class="line">  <span class="keywordtype">int</span> x;</div>
<div class="line">  <a class="code" href="a00175.html">BLOB_CHOICE_LIST_VECTOR</a> subchoices;</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> *best_choice = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> raw_choice(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">  raw_choice.make_bad();</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00129.html#a9c4215da27d2ea4c117d1e6227c5b492">DisableChoiceAccum</a>();</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (x = start; x &lt;= end; x++) {</div>
<div class="line">    <span class="keywordflow">if</span> (char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x) != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">      subchoices += char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (!subchoices.<a class="code" href="a00175.html#afb0d8c52a603b6aa965d63bbf06a27dd">empty</a>()) {</div>
<div class="line">    <a class="code" href="a00395.html">WERD_CHOICE</a> initial_choice(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">    initial_choice.make_bad();</div>
<div class="line">    initial_choice.set_rating(rating_limit);</div>
<div class="line"></div>
<div class="line">    best_choice = <a class="code" href="a00129.html#a578f7cb1945a1ba71f6251065687b555">permute_all</a>(subchoices, &amp;initial_choice, &amp;raw_choice);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (best_choice &amp;&amp; best_choice-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() &gt; 0) {</div>
<div class="line">      *current_word += *best_choice;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      current_word-&gt;<a class="code" href="a00395.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(<a class="code" href="a00577.html#a9adcee815220ec9db98062213806ed04">MAX_FLOAT32</a>);</div>
<div class="line">    }</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    current_word-&gt;<a class="code" href="a00395.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(<a class="code" href="a00577.html#a9adcee815220ec9db98062213806ed04">MAX_FLOAT32</a>);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (best_choice)</div>
<div class="line">    <span class="keyword">delete</span> best_choice;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#ac1e26982bb8526a587932aa73efd4ce0">segment_debug</a> &amp;&amp; current_word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>() &lt; <a class="code" href="a00577.html#a9adcee815220ec9db98062213806ed04">MAX_FLOAT32</a>) {</div>
<div class="line">    <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;Subword permuted = %s, %5.2f, %5.2f\n\n&quot;</span>,</div>
<div class="line">             current_word-&gt;<a class="code" href="a00395.html#a9f084172bbfc8604af49788aad12da36">debug_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(),</div>
<div class="line">             current_word-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>(), current_word-&gt;<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>());</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="a00129.html#a4edfbbb412d84258cc1ef255dfd527aa">EnableChoiceAccum</a>();</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adfe046fdde238fd1802c5d1771be1671"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00395.html">WERD_CHOICE</a> * tesseract::Dict::permute_top_choice </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>rating_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>raw_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> *&#160;</td>
          <td class="paramname"><em>any_alpha</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>permute_top_choice</p>
<p>Return the top choice for each character as the choice for the word. In addition a choice is created for the best lower and upper case non-words. In each character position the best lower (or upper) case character is substituted for the best overall character. </p>

<p>Definition at line <a class="el" href="a00807_source.html#l00934">934</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                      {</div>
<div class="line">  <a class="code" href="a00052.html">BLOB_CHOICE</a> *first_choice;</div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span> *first_char;             <span class="comment">//first choice</span></div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span> *second_char;            <span class="comment">//second choice</span></div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span> *third_char;             <span class="comment">//third choice</span></div>
<div class="line">  <span class="keywordtype">char</span> prev_char[<a class="code" href="a00610.html#a902bc40c9d89802bc063afe30ce9e708">UNICHAR_LEN</a> + 1];    <span class="comment">//prev in word</span></div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span> *next_char = <span class="stringliteral">&quot;&quot;</span>;         <span class="comment">//next in word</span></div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span> *next_next_char = <span class="stringliteral">&quot;&quot;</span>;    <span class="comment">//after next next in word</span></div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> word(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(), <a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a>);</div>
<div class="line">  word.set_permuter(TOP_CHOICE_PERM);</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> capital_word(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(), <a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a>);</div>
<div class="line">  capital_word.set_permuter(UPPER_CASE_PERM);</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> lower_word(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(), <a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a>);</div>
<div class="line">  lower_word.set_permuter(LOWER_CASE_PERM);</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">int</span> x;</div>
<div class="line">  <a class="code" href="a00577.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> char_alpha;</div>
<div class="line">  <span class="keywordtype">float</span> first_rating = 0;</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">float</span> certainties[<a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a> + 1];</div>
<div class="line">  <span class="keywordtype">float</span> lower_certainties[<a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a> + 1];</div>
<div class="line">  <span class="keywordtype">float</span> upper_certainties[<a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a> + 1];</div>
<div class="line"></div>
<div class="line">  BLOB_CHOICE_IT blob_choice_it;</div>
<div class="line">  <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> temp_id;</div>
<div class="line">  <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id;</div>
<div class="line">  <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> space = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line">  <span class="keyword">register</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* ch;</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00577.html#a2ba4d271e85baf0d333318985cb3bced">inT8</a> lower_done;</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00577.html#a2ba4d271e85baf0d333318985cb3bced">inT8</a> upper_done;</div>
<div class="line"></div>
<div class="line">  prev_char[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (any_alpha != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">    *any_alpha = <a class="code" href="a00409.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() &gt; <a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a>) {</div>
<div class="line">    <span class="keywordflow">return</span> (<a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (x = 0; x &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++x) {</div>
<div class="line">    <span class="keywordflow">if</span> (x + 1 &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>()) {</div>
<div class="line">      unichar_id = <a class="code" href="a00995.html#ab822bbc3c0f362dc6b70f7d5363a5e42">get_top_choice_uid</a>(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x+1));</div>
<div class="line">      next_char = unichar_id != INVALID_UNICHAR_ID ?</div>
<div class="line">        <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(unichar_id) : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      next_char = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (x + 2 &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>()) {</div>
<div class="line">      unichar_id = <a class="code" href="a00995.html#ab822bbc3c0f362dc6b70f7d5363a5e42">get_top_choice_uid</a>(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x+2));</div>
<div class="line">      next_next_char = unichar_id != INVALID_UNICHAR_ID ?</div>
<div class="line">        <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(unichar_id) : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      next_next_char = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    blob_choice_it.set_to_list(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x));</div>
<div class="line">    <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(!blob_choice_it.empty());</div>
<div class="line">    first_choice = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">    <span class="keywordflow">for</span> (blob_choice_it.mark_cycle_pt(); !blob_choice_it.cycled_list();</div>
<div class="line">         blob_choice_it.forward()) {  <span class="comment">// find the best non-fragment char choice</span></div>
<div class="line">      temp_id = blob_choice_it.data()-&gt;unichar_id();</div>
<div class="line">      <span class="keywordflow">if</span> (!(<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_fragment(temp_id))) {</div>
<div class="line">        first_choice = blob_choice_it.data();</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() &gt; 1) {</div>
<div class="line">        word.set_fragment_mark(<span class="keyword">true</span>);</div>
<div class="line">        capital_word.set_fragment_mark(<span class="keyword">true</span>);</div>
<div class="line">        lower_word.set_fragment_mark(<span class="keyword">true</span>);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (first_choice == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Permuter found only fragments for&quot;</span></div>
<div class="line">              <span class="stringliteral">&quot; character at position %d; word=%s\n&quot;</span>,</div>
<div class="line">              x, word.debug_string().string());</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(first_choice != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"></div>
<div class="line">    unichar_id = first_choice-&gt;unichar_id() != INVALID_UNICHAR_ID ?</div>
<div class="line">      first_choice-&gt;unichar_id() : space;</div>
<div class="line">    first_char = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(unichar_id);</div>
<div class="line">    first_rating = first_choice-&gt;rating();</div>
<div class="line">    word.append_unichar_id_space_allocated(</div>
<div class="line">        unichar_id, 1, first_choice-&gt;rating(), first_choice-&gt;certainty());</div>
<div class="line">    capital_word.append_unichar_id_space_allocated(</div>
<div class="line">        unichar_id, 1, first_choice-&gt;rating(), first_choice-&gt;certainty());</div>
<div class="line">    lower_word.append_unichar_id_space_allocated(</div>
<div class="line">        unichar_id, 1, first_choice-&gt;rating(), first_choice-&gt;certainty());</div>
<div class="line"></div>
<div class="line">    certainties[x] = first_choice-&gt;certainty();</div>
<div class="line">    lower_certainties[x] = first_choice-&gt;certainty();</div>
<div class="line">    upper_certainties[x] = first_choice-&gt;certainty();</div>
<div class="line"></div>
<div class="line">    lower_done = <a class="code" href="a00409.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line">    upper_done = <a class="code" href="a00409.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line">    char_alpha = <a class="code" href="a00409.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line">    second_char = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">    third_char = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">    <span class="keywordflow">for</span> (; !blob_choice_it.cycled_list(); blob_choice_it.forward()) {</div>
<div class="line">      unichar_id = blob_choice_it.data()-&gt;unichar_id();</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().eq(unichar_id, <span class="stringliteral">&quot;l&quot;</span>) &amp;&amp; !blob_choice_it.at_last() &amp;&amp;</div>
<div class="line">          blob_choice_it.data_relative(1)-&gt;rating() == first_rating) {</div>
<div class="line">        temp_id = blob_choice_it.data_relative(1)-&gt;unichar_id();</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().eq(temp_id, <span class="stringliteral">&quot;1&quot;</span>) ||</div>
<div class="line">            <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().eq(temp_id, <span class="stringliteral">&quot;I&quot;</span>)) {</div>
<div class="line">          second_char = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(temp_id);</div>
<div class="line">          blob_choice_it.forward();</div>
<div class="line">          <span class="keywordflow">if</span> (!blob_choice_it.at_last() &amp;&amp;</div>
<div class="line">              blob_choice_it.data_relative(1)-&gt;rating() == first_rating) {</div>
<div class="line">            temp_id = blob_choice_it.data_relative(1)-&gt;unichar_id();</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().eq(temp_id, <span class="stringliteral">&quot;1&quot;</span>) ||</div>
<div class="line">                <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().eq(temp_id, <span class="stringliteral">&quot;I&quot;</span>)) {</div>
<div class="line">              third_char = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(temp_id);</div>
<div class="line">              blob_choice_it.forward();</div>
<div class="line">            }</div>
<div class="line">          }</div>
<div class="line">          ch = <a class="code" href="a00129.html#abd556d948d000e8eda51875b82ee4449">choose_il1</a> (first_char, second_char, third_char,</div>
<div class="line">            prev_char, next_char, next_next_char);</div>
<div class="line">          unichar_id = (ch != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; *ch != <span class="charliteral">&#39;\0&#39;</span>) ?</div>
<div class="line">            <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(ch) : INVALID_UNICHAR_ID;</div>
<div class="line">          <span class="keywordflow">if</span> (strcmp(ch, <span class="stringliteral">&quot;l&quot;</span>) != 0 &amp;&amp;</div>
<div class="line">              <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().eq(word.unichar_id(x), <span class="stringliteral">&quot;l&quot;</span>)) {</div>
<div class="line">            word.set_unichar_id(unichar_id, x);</div>
<div class="line">            lower_word.set_unichar_id(unichar_id, x);</div>
<div class="line">            capital_word.set_unichar_id(unichar_id, x);</div>
<div class="line">          }</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">if</span> (unichar_id != INVALID_UNICHAR_ID) {</div>
<div class="line">        <span class="comment">/* Find lower case */</span></div>
<div class="line">        <span class="keywordflow">if</span> (!lower_done &amp;&amp;</div>
<div class="line">            (<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_islower(unichar_id) ||</div>
<div class="line">             (<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isupper(unichar_id) &amp;&amp; x == 0))) {</div>
<div class="line">          lower_word.set_unichar_id(unichar_id, x);</div>
<div class="line">          lower_word.set_rating(lower_word.rating() -</div>
<div class="line">            first_choice-&gt;rating() + blob_choice_it.data()-&gt;rating());</div>
<div class="line">          <span class="keywordflow">if</span> (blob_choice_it.data()-&gt;certainty() &lt; lower_word.certainty()) {</div>
<div class="line">            lower_word.set_certainty(blob_choice_it.data()-&gt;certainty());</div>
<div class="line">          }</div>
<div class="line">          lower_certainties[x] = blob_choice_it.data()-&gt;certainty();</div>
<div class="line">          lower_done = <a class="code" href="a00409.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">/* Find upper case */</span></div>
<div class="line">        <span class="keywordflow">if</span> (!upper_done &amp;&amp; <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isupper(unichar_id)) {</div>
<div class="line">          capital_word.set_unichar_id(unichar_id, x);</div>
<div class="line">          capital_word.set_rating(capital_word.rating() -</div>
<div class="line">            first_choice-&gt;rating() + blob_choice_it.data()-&gt;rating());</div>
<div class="line">          <span class="keywordflow">if</span> (blob_choice_it.data()-&gt;certainty() &lt; capital_word.certainty()) {</div>
<div class="line">            capital_word.set_certainty(blob_choice_it.data()-&gt;certainty());</div>
<div class="line">          }</div>
<div class="line">          upper_certainties[x] = blob_choice_it.data()-&gt;certainty();</div>
<div class="line">          upper_done = <a class="code" href="a00409.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (!char_alpha) {</div>
<div class="line">          <span class="keyword">const</span> <a class="code" href="a00074.html">CHAR_FRAGMENT</a> *fragment =</div>
<div class="line">            <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(unichar_id);</div>
<div class="line">          temp_id = !fragment ? unichar_id :</div>
<div class="line">            <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(fragment-&gt;<a class="code" href="a00074.html#aabfbe5c558b411ecb3c9a34d0615c2de">get_unichar</a>());</div>
<div class="line">          <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ad1dd0929edfb0e9e4905cc2fbeff42c2">get_isalpha</a>(temp_id)) {</div>
<div class="line">            char_alpha = <a class="code" href="a00409.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line">          }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (lower_done &amp;&amp; upper_done)</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (char_alpha &amp;&amp; any_alpha != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">      *any_alpha = <a class="code" href="a00409.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (word.rating() &gt; <a class="code" href="a00129.html#a27c6bbd86f1853b57319290a905528c2">bestrate_pruning_factor</a> * *rating_limit) {</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>)</div>
<div class="line">        <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\n***** Aborting high-cost word: %g &gt; limit %g\n&quot;</span>,</div>
<div class="line">                word.rating(), <a class="code" href="a00129.html#a27c6bbd86f1853b57319290a905528c2">bestrate_pruning_factor</a> * *rating_limit);</div>
<div class="line">      <span class="keywordflow">return</span> (<a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    *prev_char = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">    temp_id = word.unichar_id(word.length()-1);</div>
<div class="line">    <span class="keywordflow">if</span> (temp_id != INVALID_UNICHAR_ID) {</div>
<div class="line">      strcpy(prev_char, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().id_to_unichar(temp_id));</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (raw_choice != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; word.rating() &lt; raw_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>()) {</div>
<div class="line">    *raw_choice = word;</div>
<div class="line">    <a class="code" href="a00129.html#a5d0400dc126a0dc472c3c28545da65a8">LogNewChoice</a>(1.0, certainties, <span class="keyword">true</span>, raw_choice, char_choices);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordtype">float</span> rating = word.rating();</div>
<div class="line">  <a class="code" href="a00129.html#aee01b74007e1fc5a172a5534c5ef3cae">adjust_non_word</a>(&amp;word, certainties, &amp;char_choices, <a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>);</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">float</span> lower_rating = lower_word.rating();</div>
<div class="line">  <a class="code" href="a00129.html#aee01b74007e1fc5a172a5534c5ef3cae">adjust_non_word</a>(&amp;lower_word, lower_certainties, &amp;char_choices,</div>
<div class="line">                  <a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>);</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">float</span> upper_rating = capital_word.rating();</div>
<div class="line">  <a class="code" href="a00129.html#aee01b74007e1fc5a172a5534c5ef3cae">adjust_non_word</a>(&amp;capital_word, upper_certainties, &amp;char_choices,</div>
<div class="line">                  <a class="code" href="a00129.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>);</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> *best_choice = &amp;word;</div>
<div class="line">  *rating_limit = rating;</div>
<div class="line">  <span class="keywordflow">if</span> (lower_word.rating() &lt; best_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>()) {</div>
<div class="line">    best_choice = &amp;lower_word;</div>
<div class="line">    *rating_limit = lower_rating;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (capital_word.rating() &lt; best_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>()) {</div>
<div class="line">    best_choice = &amp;capital_word;</div>
<div class="line">    *rating_limit = upper_rating;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="a00395.html">WERD_CHOICE</a>(*best_choice);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af8cbb8ac0beba656f8614f3e01efb601"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::PrintAmbigAlternatives </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>label_num_unichars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print all the choices in raw_choices_ list for non 1-1 ambiguities. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00358">358</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                          {</div>
<div class="line">  <a class="code" href="a00794.html#a2cf19ba78be6b54f66823d58f34f2a53">iterate</a>(raw_choices_) {</div>
<div class="line">    <a class="code" href="a00391.html">VIABLE_CHOICE</a> Choice = (<a class="code" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a>)<a class="code" href="a00794.html#a69547be764424f18b0be535400747978">first_node</a>(raw_choices_);</div>
<div class="line">    <span class="keywordflow">if</span> (Choice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a> &gt; 0 &amp;&amp;</div>
<div class="line">        (label_num_unichars &gt; 1 || Choice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a> &gt; 1)) {</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; Choice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a>; i++) {</div>
<div class="line">        fprintf(file, <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line">                <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().id_to_unichar(Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#afae513ffd1d6fd0167baa1dce1b86c60">Class</a>));</div>
<div class="line">      }</div>
<div class="line">      fflush(file);</div>
<div class="line">      fprintf(file, <span class="stringliteral">&quot;\t%s\t%.4f\t%.4f\n&quot;</span>, label,</div>
<div class="line">              Choice-&gt;<a class="code" href="a00391.html#a651bc1b5ad4d2a7ce33c0f564c13ecb7">Rating</a>, Choice-&gt;<a class="code" href="a00391.html#a88c4c888e5f46a1c56b3fc934726514f">Certainty</a>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad5343f10220f5882ddaa461b5e89927c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::PrintViableChoice </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>File</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>Label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a>&#160;</td>
          <td class="paramname"><em>Choice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dumps a text representation of the specified Choice to File. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00912">912</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                                {</div>
<div class="line">  <span class="keywordtype">int</span> i, j;</div>
<div class="line">  fprintf (File, <span class="stringliteral">&quot;%s&quot;</span>, Label);</div>
<div class="line">  fprintf(File, <span class="stringliteral">&quot;(R=%5.1f, C=%4.1f, F=%4.2f, Frag=%d)  &quot;</span>,</div>
<div class="line">    Choice-&gt;<a class="code" href="a00391.html#a651bc1b5ad4d2a7ce33c0f564c13ecb7">Rating</a>, Choice-&gt;<a class="code" href="a00391.html#a88c4c888e5f46a1c56b3fc934726514f">Certainty</a>,</div>
<div class="line">    Choice-&gt;<a class="code" href="a00391.html#a0f0a2441140b16e144665ecc0f8beb66">AdjustFactor</a>, Choice-&gt;<a class="code" href="a00391.html#a5b91c9de772bbeca40909bd3a30d0115">ComposedFromCharFragments</a>);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; Choice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a>; i++)</div>
<div class="line">    fprintf(File, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().id_to_unichar(Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#afae513ffd1d6fd0167baa1dce1b86c60">Class</a>));</div>
<div class="line">  fprintf(File, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; Choice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a>; i++) {</div>
<div class="line">    fprintf(File, <span class="stringliteral">&quot;  %s&quot;</span>, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().id_to_unichar(Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#afae513ffd1d6fd0167baa1dce1b86c60">Class</a>));</div>
<div class="line">    <span class="keywordflow">for</span> (j = 0; j &lt; Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#ac928eaafcdc57fcd44d82ab9a56e9da3">NumChunks</a> - 1; j++)</div>
<div class="line">      fprintf(File, <span class="stringliteral">&quot;    &quot;</span>);</div>
<div class="line">  }</div>
<div class="line">  fprintf(File, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; Choice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a>; i++) {</div>
<div class="line">    <span class="keywordflow">for</span> (j = 0; j &lt; Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#ac928eaafcdc57fcd44d82ab9a56e9da3">NumChunks</a>; j++)</div>
<div class="line">      fprintf(File, <span class="stringliteral">&quot;%3d &quot;</span>, (<span class="keywordtype">int</span>) (Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#a507a1c58c2bd055d3b3e944327a61b1d">Certainty</a> * -10.0));</div>
<div class="line">  }</div>
<div class="line">  fprintf(File, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; Choice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a>; i++) {</div>
<div class="line">    <span class="keywordflow">for</span> (j = 0; j &lt; Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#ac928eaafcdc57fcd44d82ab9a56e9da3">NumChunks</a>; j++)</div>
<div class="line">      fprintf(File, <span class="stringliteral">&quot;%3d &quot;</span>, Choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[i].<a class="code" href="a00072.html#ac928eaafcdc57fcd44d82ab9a56e9da3">NumChunks</a>);</div>
<div class="line">  }</div>
<div class="line">  fprintf(File, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abc4cf75b1bd5f5cb0f733c92afeb5239"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::ProbabilityInContext </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>context_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>character</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>character_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls probability_in_context_ member function. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00576">576</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                   {</div>
<div class="line">    <span class="keywordflow">return</span> (this-&gt;*<a class="code" href="a00129.html#a7ac1496aaae5e9977a31a2781e7866f0" title="Probability in context function used by the ngram permuter.">probability_in_context_</a>)(</div>
<div class="line">        <a class="code" href="a00129.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;<a class="code" href="a00186.html#a70f25dbbb805a9ffe518d48794cfca95">getCCUtil</a>()-&gt;<a class="code" href="a00070.html#ae453cbd7e4899ebfc5cc3831e5a8dd66">lang</a>.<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(),</div>
<div class="line">        context, context_bytes,</div>
<div class="line">        <a class="code" href="a00670.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>, character_bytes);</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9e46362693e817dcc2f8265854679c80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::ProcessPatternEdges </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00122.html">Dawg</a> *&#160;</td>
          <td class="paramname"><em>dawg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00124.html">DawgInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a>&#160;</td>
          <td class="paramname"><em>unichar_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>word_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00123.html">DawgArgs</a> *&#160;</td>
          <td class="paramname"><em>dawg_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PermuterType *&#160;</td>
          <td class="paramname"><em>current_permuter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For each of the character classes of the given unichar_id (and the unichar_id itself) finds the corresponding outgoing node or self-loop in the given dawg and (after checking that it is valid) records it in dawg_args-&gt;updated_ative_dawgs. Updates current_permuter if any valid edges were found. </p>

<p>Definition at line <a class="el" href="a00802_source.html#l00554">554</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                                                              {</div>
<div class="line">  <a class="code" href="a00801.html#ac76aca11806fd7167c274dc45b7f7fe8">NODE_REF</a> node = <a class="code" href="a00129.html#aa98baea7a97174cb256643c407c81993" title="Returns the appropriate next node given the EDGE_REF.">GetStartingNode</a>(dawg, info.ref);</div>
<div class="line">  <span class="comment">// Try to find the edge corresponding to the exact unichar_id and to all the</span></div>
<div class="line">  <span class="comment">// edges corresponding to the character class of unichar_id.</span></div>
<div class="line">  <a class="code" href="a00175.html">GenericVector&lt;UNICHAR_ID&gt;</a> unichar_id_patterns;</div>
<div class="line">  unichar_id_patterns.<a class="code" href="a00175.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(unichar_id);</div>
<div class="line">  dawg-&gt;unichar_id_to_patterns(unichar_id, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(),</div>
<div class="line">                               &amp;unichar_id_patterns);</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; unichar_id_patterns.<a class="code" href="a00175.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>(); ++i) {</div>
<div class="line">    <span class="comment">// On the first iteration check all the outgoing edges.</span></div>
<div class="line">    <span class="comment">// On the second iteration check all self-loops.</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; 2; ++k) {</div>
<div class="line">    <a class="code" href="a00801.html#a178eb445f9820b58d062f0c988a6f54f">EDGE_REF</a> edge = (k == 0) ?</div>
<div class="line">      dawg-&gt;edge_char_of(node, unichar_id_patterns[i], word_end)</div>
<div class="line">      : dawg-&gt;pattern_loop_edge(info.ref, unichar_id_patterns[i], word_end);</div>
<div class="line">      <span class="keywordflow">if</span> (edge != NO_EDGE) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;= 3) {</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Pattern dawg: [%d, &quot;</span> <a class="code" href="a00801.html#a85a5bf216156dfa399c5edd26f3694db">REFFORMAT</a> <span class="stringliteral">&quot;] edge=&quot;</span> <a class="code" href="a00801.html#a85a5bf216156dfa399c5edd26f3694db">REFFORMAT</a> <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">                  info.dawg_index, node, edge);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a5de64b7d07afaeb33408ee296db75f5d">ConstraintsOk</a>(*(dawg_args-&gt;updated_constraints),</div>
<div class="line">                          word_end, dawg-&gt;type())) {</div>
<div class="line">          <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;=3) {</div>
<div class="line">            <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Letter found in pattern dawg %d\n&quot;</span>, info.dawg_index);</div>
<div class="line">          }</div>
<div class="line">          <span class="keywordflow">if</span> (dawg-&gt;permuter() &gt; *curr_perm) *curr_perm = dawg-&gt;permuter();</div>
<div class="line">          dawg_args-&gt;updated_active_dawgs-&gt;add_unique(</div>
<div class="line">              DawgInfo(info.dawg_index, edge), <a class="code" href="a00129.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt; 0,</div>
<div class="line">              <span class="stringliteral">&quot;Append current dawg to updated active dawgs: &quot;</span>);</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a741bbc38aa86c057b2b431c716519cc8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::ReadFixedLengthDawgs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00995.html#a07c41f251f1782c60df4e626c35d2151">DawgType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00319.html">STRING</a> &amp;&#160;</td>
          <td class="paramname"><em>lang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PermuterType&#160;</td>
          <td class="paramname"><em>perm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>debug_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00995.html#a8dc259fa09d9302b96f5b3d2aad10c9f">DawgVector</a> *&#160;</td>
          <td class="paramname"><em>dawg_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>max_wdlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read/Write/Access special purpose dawgs which contain words only of a certain length (used for phrase search for non-space-delimited languages). Reads a sequence of dawgs from the given file. Appends the constructed dawgs to the given dawg_vec. Fills the given table with indices of the dawgs in the dawg_vec corresponding to the dawgs with words of a particular length. </p>

<p>Definition at line <a class="el" href="a00802_source.html#l00592">592</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                                                {</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line">  <a class="code" href="a00995.html#a8dc259fa09d9302b96f5b3d2aad10c9f">DawgVector</a> dawg_vec_copy;</div>
<div class="line">  dawg_vec_copy.<a class="code" href="a00175.html#abae057ce589be25aae9b80958f84e34c">move</a>(dawg_vec); <span class="comment">// save the input dawg_vec.</span></div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> num_dawgs;</div>
<div class="line">  fread(&amp;num_dawgs, <span class="keyword">sizeof</span>(<a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>), 1, file);</div>
<div class="line">  <span class="keywordtype">bool</span> swap = (num_dawgs &gt; <a class="code" href="a00803.html#a8f209bc21153a4b65514af438fc46957">MAX_WERD_LENGTH</a>);</div>
<div class="line">  <span class="keywordflow">if</span> (swap) num_dawgs = <a class="code" href="a00598.html#a3cf24d4c383f7f23010c69192042719c">reverse32</a>(num_dawgs);</div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> word_length;</div>
<div class="line">  <span class="keywordtype">int</span> max_word_length = 0;</div>
<div class="line">  <span class="comment">// Read and record pointers to fixed-length dawgs such that:</span></div>
<div class="line">  <span class="comment">// dawg_vec[word_length] = pointer to dawg with word length of word_length,</span></div>
<div class="line">  <span class="comment">//                         NULL if such fixed-length dawg does not exist.</span></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; num_dawgs; ++i) {</div>
<div class="line">    fread(&amp;word_length, <span class="keyword">sizeof</span>(<a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>), 1, file);</div>
<div class="line">    <span class="keywordflow">if</span> (swap) word_length = <a class="code" href="a00598.html#a3cf24d4c383f7f23010c69192042719c">reverse32</a>(word_length);</div>
<div class="line">    <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(word_length &gt;  0 &amp;&amp; word_length &lt;= <a class="code" href="a00803.html#a8f209bc21153a4b65514af438fc46957">MAX_WERD_LENGTH</a>);</div>
<div class="line">    <span class="keywordflow">while</span> (word_length &gt;= dawg_vec-&gt;size()) dawg_vec-&gt;push_back(<a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">    (*dawg_vec)[word_length] =</div>
<div class="line">      <span class="keyword">new</span> SquishedDawg(file, type, lang, perm, debug_level);</div>
<div class="line">    <span class="keywordflow">if</span> (word_length &gt; max_word_length) max_word_length = word_length;</div>
<div class="line">  }</div>
<div class="line">  *max_wdlen = max_word_length;</div>
<div class="line">  <span class="comment">// Entries dawg_vec[0] to dawg_vec[max_word_length] now hold pointers</span></div>
<div class="line">  <span class="comment">// to fixed-length dawgs. The rest of the vector will contain the dawg</span></div>
<div class="line">  <span class="comment">// pointers from the original input dawg_vec.</span></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; dawg_vec_copy.size(); ++i) {</div>
<div class="line">    dawg_vec-&gt;push_back(dawg_vec_copy[i]);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab09707f3ebd6dbbc9eda8c1bc1ba2b32"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::remove_hyphen_head </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Erase the unichar ids corresponding to the portion of the word from the previous line. The word is not changed if it is not split between lines and hyphenated. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00137">137</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                          {</div>
<div class="line">    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="a00129.html#aebd1e3d92b2ec23c03807dd7ede45a40" title="Returns true if we&#39;ve recorded the beginning of a hyphenated word.">hyphenated</a>()) {</div>
<div class="line">      word-&gt;<a class="code" href="a00395.html#abf79c2d6f32e73a073e088e30be2e711">remove_unichar_ids</a>(0, hyphen_word_-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>());</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#add6604e6b4ce6ffd77c78d58b8a3244a">hyphen_debug_level</a>) hyphen_word_-&gt;<a class="code" href="a00395.html#aa27589343655d5843a6482dbb3731d5a">print</a>(<span class="stringliteral">&quot;remove_hyphen_head: &quot;</span>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8309e93ec65d12110e6f8a1c9b00d7d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::ReplaceAmbig </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wrong_ngram_begin_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wrong_ngram_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a>&#160;</td>
          <td class="paramname"><em>correct_ngram_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>werd_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>blob_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>modified_blobs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Replaces the corresponding wrong ngram in werd_choice with the correct one. We indicate that this newly inserted ngram unichar is composed from several fragments and modify the corresponding entries in blob_choices to contain fragments of the correct ngram unichar instead of the original unichars. Ratings and certainties of entries in blob_choices and werd_choice are unichaged. E.g. for werd_choice mystring'' and ambiguity ''-&gt;": werd_choice becomes mystring", first ' in blob_choices becomes |"|0|2, second one is set to |"|1|2. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00802">802</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                              {</div>
<div class="line">  <span class="keywordtype">int</span> num_blobs_to_replace = 0;</div>
<div class="line">  <span class="keywordtype">int</span> begin_blob_index = 0;</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; wrong_ngram_begin_index + wrong_ngram_size; ++i) {</div>
<div class="line">    <span class="keywordflow">if</span> (i &gt;= wrong_ngram_begin_index) {</div>
<div class="line">      num_blobs_to_replace +=  werd_choice-&gt;<a class="code" href="a00395.html#a6f319ff5e8b21bf4698c6a5863cec27e">fragment_length</a>(i);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      begin_blob_index += werd_choice-&gt;<a class="code" href="a00395.html#a6f319ff5e8b21bf4698c6a5863cec27e">fragment_length</a>(i);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  BLOB_CHOICE_IT bit;</div>
<div class="line">  <span class="keywordtype">int</span> temp_blob_index = begin_blob_index;</div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span> *temp_uch = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span> *correct_ngram_str =</div>
<div class="line">    <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(correct_ngram_id);</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> replaced_count = 0; replaced_count &lt; wrong_ngram_size;</div>
<div class="line">       ++replaced_count) {</div>
<div class="line">    <span class="keywordflow">if</span> (blob_choices != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">      <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> uch_id = werd_choice-&gt;<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(wrong_ngram_begin_index);</div>
<div class="line">      <span class="keywordtype">int</span> fraglen = werd_choice-&gt;<a class="code" href="a00395.html#a6f319ff5e8b21bf4698c6a5863cec27e">fragment_length</a>(wrong_ngram_begin_index);</div>
<div class="line">      <span class="keywordflow">if</span> (fraglen &gt; 1) temp_uch = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(uch_id);</div>
<div class="line">      <span class="keywordflow">for</span> (i = 0; i &lt; fraglen; ++i) {</div>
<div class="line">        <span class="keywordflow">if</span> (fraglen &gt; 1) {</div>
<div class="line">          <a class="code" href="a00319.html">STRING</a> frag_str =</div>
<div class="line">            <a class="code" href="a00074.html#ab7a7a173907f187f44677d2ad2679e09">CHAR_FRAGMENT::to_string</a>(temp_uch, i, fraglen, <span class="keyword">false</span>);</div>
<div class="line">          <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ab5198816dde686850da3530a1f8261fe">unichar_insert</a>(frag_str.<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">          uch_id = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(frag_str.<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">        }</div>
<div class="line">        bit.set_to_list(blob_choices-&gt;<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(temp_blob_index));</div>
<div class="line">        <a class="code" href="a00319.html">STRING</a> correct_frag_uch =</div>
<div class="line">          <a class="code" href="a00074.html#ab7a7a173907f187f44677d2ad2679e09">CHAR_FRAGMENT::to_string</a>(correct_ngram_str,</div>
<div class="line">                                   temp_blob_index - begin_blob_index,</div>
<div class="line">                                   num_blobs_to_replace, <span class="keyword">false</span>);</div>
<div class="line">        <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ab5198816dde686850da3530a1f8261fe">unichar_insert</a>(correct_frag_uch.<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">        <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> correct_frag_uch_id =</div>
<div class="line">          <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(correct_frag_uch.<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>());</div>
<div class="line">        <span class="comment">// Find the WERD_CHOICE corresponding to the original unichar in</span></div>
<div class="line">        <span class="comment">// the list of blob choices, add the derived character fragment</span></div>
<div class="line">        <span class="comment">// before it with the same rating and certainty.</span></div>
<div class="line">        <span class="keywordflow">for</span> (bit.mark_cycle_pt(); !bit.cycled_list(); bit.forward()) {</div>
<div class="line">          <span class="keywordflow">if</span> (bit.data()-&gt;unichar_id() == correct_frag_uch_id) {</div>
<div class="line">            <span class="keywordflow">break</span>;  <span class="comment">// the unichar we want to insert is already there</span></div>
<div class="line">          }</div>
<div class="line">          <span class="keywordflow">if</span> (bit.data()-&gt;unichar_id() == uch_id) {</div>
<div class="line">            bit.add_before_then_move(<span class="keyword">new</span> <a class="code" href="a00052.html">BLOB_CHOICE</a>(*(bit.data())));</div>
<div class="line">            bit.data()-&gt;set_unichar_id(correct_frag_uch_id);</div>
<div class="line">            <span class="keywordflow">if</span> (modified_blobs != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) *modified_blobs = <span class="keyword">true</span>;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">          }</div>
<div class="line">        }</div>
<div class="line">        temp_blob_index++;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// Remove current unichar from werd_choice. On the last iteration</span></div>
<div class="line">    <span class="comment">// set the correct replacement unichar instead of removing a unichar.</span></div>
<div class="line">    <span class="keywordflow">if</span> (replaced_count + 1 == wrong_ngram_size) {</div>
<div class="line">      werd_choice-&gt;<a class="code" href="a00395.html#a8238d436806c40b2e01b9659dfab5eb3">set_unichar_id</a>(correct_ngram_id,</div>
<div class="line">          num_blobs_to_replace, 0.0, 0.0, wrong_ngram_begin_index);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      werd_choice-&gt;<a class="code" href="a00395.html#a30ec4e48a346a379ab6900e69f8b12fa">remove_unichar_id</a>(wrong_ngram_begin_index);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 1 &amp;&amp; modified_blobs != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp;</div>
<div class="line">      *modified_blobs &amp;&amp; blob_choices != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">      werd_choice-&gt;<a class="code" href="a00395.html#aa27589343655d5843a6482dbb3731d5a">print</a>(<span class="stringliteral">&quot;ReplaceAmbig() &quot;</span>);</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Modified blob_choices: &quot;</span>);</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; blob_choices-&gt;<a class="code" href="a00175.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>(); ++i) {</div>
<div class="line">        <a class="code" href="a00534.html#a2de5b7d5a020bb9823091dbece4ea36e">print_ratings_list</a>(<span class="stringliteral">&quot;\n&quot;</span>, blob_choices-&gt;<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(i), <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6b7508e4459f295073316fff69a05ee9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::reset_hyphen_vars </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>last_word_on_line</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unless the previous word was the last one on the line, and the current one is not (thus it is the first one on the line), erase hyphen_word_, clear hyphen_active_dawgs_, hyphen_constraints_ update last_word_on_line_. </p>

<p>Definition at line <a class="el" href="a00804_source.html#l00032">32</a> of file <a class="el" href="a00804_source.html">hyphen.cpp</a>.</p>
<div class="fragment"><div class="line">                                                   {</div>
<div class="line">  <span class="keywordflow">if</span> (!(last_word_on_line_ == <span class="keyword">true</span> &amp;&amp; last_word_on_line == <span class="keyword">false</span>)) {</div>
<div class="line">    <span class="keywordflow">if</span> (hyphen_word_ != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">      <span class="keyword">delete</span> hyphen_word_;</div>
<div class="line">      hyphen_word_ = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">      hyphen_active_dawgs_.<a class="code" href="a00125.html#ae6b547bc520864c0b291530cb00d4ca5">clear</a>();</div>
<div class="line">      hyphen_constraints_.<a class="code" href="a00125.html#ae6b547bc520864c0b291530cb00d4ca5">clear</a>();</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#add6604e6b4ce6ffd77c78d58b8a3244a">hyphen_debug_level</a>) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;reset_hyphen_vars: last_word_on_line %d -&gt; %d\n&quot;</span>,</div>
<div class="line">            last_word_on_line_, last_word_on_line);</div>
<div class="line">  }</div>
<div class="line">  last_word_on_line_ = last_word_on_line;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab4147968ed69fe22a5acbebcff3472f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::ResetDocumentDictionary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00478">478</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                 {</div>
<div class="line">    <span class="keywordflow">if</span> (pending_words_ != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">      pending_words_-&gt;<a class="code" href="a00378.html#a344c89fd53c0773ff274848e0cd26e17">clear</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (document_words_ != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">      document_words_-&gt;<a class="code" href="a00378.html#a344c89fd53c0773ff274848e0cd26e17">clear</a>();</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad8bc29be3c9d8ae5bdb7ec972216ad28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::set_hyphen_word </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00125.html">DawgInfoVector</a> &amp;&#160;</td>
          <td class="paramname"><em>active_dawgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00125.html">DawgInfoVector</a> &amp;&#160;</td>
          <td class="paramname"><em>constraints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update hyphen_word_, and copy the given DawgInfoVectors into hyphen_active_dawgs_ and hyphen_constraints_. </p>

<p>Definition at line <a class="el" href="a00804_source.html#l00050">50</a> of file <a class="el" href="a00804_source.html">hyphen.cpp</a>.</p>
<div class="fragment"><div class="line">                                                              {</div>
<div class="line">  <span class="keywordflow">if</span> (hyphen_word_ == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    hyphen_word_ = <span class="keyword">new</span> <a class="code" href="a00395.html">WERD_CHOICE</a>(word.<a class="code" href="a00395.html#a5431f457a3617528f3f1aa6ddc7f34bc">unicharset</a>());</div>
<div class="line">    hyphen_word_-&gt;<a class="code" href="a00395.html#aad71e860a573a615ce8958898b2657fb" title="Set the fields in this choice to be default (bad) values.">make_bad</a>();</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (hyphen_word_-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>() &gt; word.<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>()) {</div>
<div class="line">    *hyphen_word_ = word;</div>
<div class="line">    <span class="comment">// Remove the last unichar id as it is a hyphen, and remove</span></div>
<div class="line">    <span class="comment">// any unichar_string/lengths that are present.</span></div>
<div class="line">    hyphen_word_-&gt;<a class="code" href="a00395.html#a5ae576ce7f7630e64a149fe67b737f4c">remove_last_unichar_id</a>();</div>
<div class="line">    hyphen_active_dawgs_ = active_dawgs;</div>
<div class="line">    hyphen_constraints_ = constraints;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#add6604e6b4ce6ffd77c78d58b8a3244a">hyphen_debug_level</a>) {</div>
<div class="line">    hyphen_word_-&gt;<a class="code" href="a00395.html#aa27589343655d5843a6482dbb3731d5a">print</a>(<span class="stringliteral">&quot;set_hyphen_word: &quot;</span>);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aec7160ce69f6f7d478110b95b729d523"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::SettupStopperPass1 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up stopper variables in preparation for the first pass. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00780">780</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                              {</div>
<div class="line">  reject_offset_ = 0.0;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a29f0c2e6c8a7b5fb44bb39ce47ceef84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::SettupStopperPass2 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up stopper variables in preparation for the second pass. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00784">784</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                              {</div>
<div class="line">  reject_offset_ = <a class="code" href="a00129.html#a73282067f0bb86fcaf689b9202bb6702">stopper_phase2_certainty_rejection_offset</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ed6ea4bcf2cb841fea2fef21ec656d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::SetWordsegRatingAdjustFactor </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set wordseg_rating_adjust_factor_ to the given value. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00726">726</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                    {</div>
<div class="line">    wordseg_rating_adjust_factor_ = <a class="code" href="a00428.html#a469169df397b589e709dc744f1346831">f</a>;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a863f4f02d43f02f85d051d9e632c0c4e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::StopperAmbigThreshold </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>f1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>f2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00322">322</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                     {</div>
<div class="line">    <span class="keywordflow">return</span> (f2 - f1) * <a class="code" href="a00129.html#a646d0403be41d8484d68250136f915f4">stopper_ambiguity_threshold_gain</a> -</div>
<div class="line">        <a class="code" href="a00129.html#a81ce7deec4aee35f855d92f31e3c7463">stopper_ambiguity_threshold_offset</a>;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a88ccbd663564a11a95cf9e592c69e8be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::StringSameAs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>WordChoice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a>&#160;</td>
          <td class="paramname"><em>ViableChoice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compares unichar ids in word_choice to those in viable_choice, returns true if they are the same. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00951">951</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                    {</div>
<div class="line">  <span class="keywordflow">if</span> (WordChoice.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() != ViableChoice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a>) {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line">  <a class="code" href="a00072.html">CHAR_CHOICE</a> *CharChoice;</div>
<div class="line">  <span class="keywordflow">for</span> (i = 0, CharChoice = &amp;(ViableChoice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[0]);</div>
<div class="line">       i &lt; ViableChoice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a>; CharChoice++, i++) {</div>
<div class="line">    <span class="keywordflow">if</span> (CharChoice-&gt;<a class="code" href="a00072.html#afae513ffd1d6fd0167baa1dce1b86c60">Class</a> != WordChoice.<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(i)) {</div>
<div class="line">      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adc54f2cdac1db76e5fa64039add57eea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::StringSameAs </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>String</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>String_lengths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00812.html#a9c7e58acb827910c53c2db3c9d338a7a">VIABLE_CHOICE</a>&#160;</td>
          <td class="paramname"><em>ViableChoice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compares String to ViableChoice and returns true if they are the same. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00967">967</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                    {</div>
<div class="line">  <a class="code" href="a00072.html">CHAR_CHOICE</a> *Char;</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line">  <span class="keywordtype">int</span> current_unichar_length;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (Char = &amp;(ViableChoice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[0]), i = 0;</div>
<div class="line">    i &lt; ViableChoice-&gt;Length;</div>
<div class="line">       String += *(String_lengths++), Char++, i++) {</div>
<div class="line">    current_unichar_length = strlen(<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().id_to_unichar(Char-&gt;<a class="code" href="a00072.html#afae513ffd1d6fd0167baa1dce1b86c60">Class</a>));</div>
<div class="line">  <span class="keywordflow">if</span> (current_unichar_length != *String_lengths ||</div>
<div class="line">      strncmp(String, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().id_to_unichar(Char-&gt;<a class="code" href="a00072.html#afae513ffd1d6fd0167baa1dce1b86c60">Class</a>),</div>
<div class="line">              current_unichar_length) != 0)</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (*String == 0) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a632d8c752369e54bb548e0a35dd7e100"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00395.html">WERD_CHOICE</a> * tesseract::Dict::top_fragments_permute_and_select </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rating_limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>top_fragments_permute_and_select</p>
<p>Creates a copy of character choices list that contain only fragments and the best non-fragmented character choice. Permutes character in this shortened list, builds characters from fragments if possible and returns a better choice if found. </p>

<p>Definition at line <a class="el" href="a00807_source.html#l01367">1367</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                        {</div>
<div class="line">  <span class="keywordflow">if</span> (char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() &lt;= 1 ||</div>
<div class="line">      char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() &gt; <a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a>) {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// See it would be possible to benefit from permuting fragments.</span></div>
<div class="line">  <span class="keywordtype">int</span> x;</div>
<div class="line">  <span class="keywordtype">float</span> min_rating = 0.0;</div>
<div class="line">  BLOB_CHOICE_IT blob_choice_it;</div>
<div class="line">  <span class="keywordflow">for</span> (x = 0; x &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++x) {</div>
<div class="line">    blob_choice_it.set_to_list(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x));</div>
<div class="line">    <span class="keywordflow">if</span> (blob_choice_it.data()) {</div>
<div class="line">      min_rating += blob_choice_it.data()-&gt;rating();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (min_rating &gt;= rating_limit) {</div>
<div class="line">      <span class="keywordflow">return</span> <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#ad5e37470ce50ef6e19c291cd12b0d123">fragments_debug</a> &gt; 1) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;A choice with fragment beats top choice\n&quot;</span>);</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Running fragment permuter...\n&quot;</span>);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Construct a modified choices list that contains (for each position):</span></div>
<div class="line">  <span class="comment">// the best choice, all fragments and at least one choice for</span></div>
<div class="line">  <span class="comment">// a non-fragmented character.</span></div>
<div class="line">  <a class="code" href="a00175.html">BLOB_CHOICE_LIST_VECTOR</a> frag_char_choices(char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>());</div>
<div class="line">  <span class="keywordflow">for</span> (x = 0; x &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++x) {</div>
<div class="line">    <span class="keywordtype">bool</span> need_nonfrag_char = <span class="keyword">true</span>;</div>
<div class="line">    BLOB_CHOICE_LIST *frag_choices = <span class="keyword">new</span> BLOB_CHOICE_LIST();</div>
<div class="line">    BLOB_CHOICE_IT frag_choices_it;</div>
<div class="line">    frag_choices_it.set_to_list(frag_choices);</div>
<div class="line">    blob_choice_it.set_to_list(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x));</div>
<div class="line">    <span class="keywordflow">for</span> (blob_choice_it.mark_cycle_pt(); !blob_choice_it.cycled_list();</div>
<div class="line">         blob_choice_it.forward()) {</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(blob_choice_it.data()-&gt;unichar_id())) {</div>
<div class="line">        frag_choices_it.add_after_then_move(</div>
<div class="line">            <span class="keyword">new</span> <a class="code" href="a00052.html">BLOB_CHOICE</a>(*(blob_choice_it.data())));</div>
<div class="line">      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (need_nonfrag_char) {</div>
<div class="line">        frag_choices_it.add_after_then_move(</div>
<div class="line">            <span class="keyword">new</span> <a class="code" href="a00052.html">BLOB_CHOICE</a>(*(blob_choice_it.data())));</div>
<div class="line">        need_nonfrag_char = <span class="keyword">false</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    frag_char_choices += frag_choices;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> *best_choice = <span class="keyword">new</span> <a class="code" href="a00395.html">WERD_CHOICE</a>(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">  best_choice-&gt;<a class="code" href="a00395.html#aad71e860a573a615ce8958898b2657fb" title="Set the fields in this choice to be default (bad) values.">make_bad</a>();</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> word(&amp;<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>(), <a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a>);</div>
<div class="line">  word.set_permuter(TOP_CHOICE_PERM);</div>
<div class="line">  <span class="keywordtype">float</span> certainties[<a class="code" href="a00808.html#aa99c7d68f51de4afed182cc89cd5fef0">MAX_PERM_LENGTH</a>];</div>
<div class="line">  this-&gt;<a class="code" href="a00129.html#a5f6572f1ce1ce687a367de82aec90557" title="Pointer to go_deeper function that will be modified by various permuters.">go_deeper_fxn_</a> = &amp;<a class="code" href="a00129.html#a12cc7c10929b310dd23baee1ab1e972b">tesseract::Dict::go_deeper_top_fragments_fxn</a>;</div>
<div class="line">  <span class="keywordtype">int</span> attempts_left = <a class="code" href="a00129.html#a724a3890de749e064396026caec31ef7">max_permuter_attempts</a>;</div>
<div class="line">  <a class="code" href="a00129.html#a0ceb12c3a410ba12fdb9a93df11d47e2">permute_choices</a>((<a class="code" href="a00129.html#ad5e37470ce50ef6e19c291cd12b0d123">fragments_debug</a> &gt; 1) ? <span class="stringliteral">&quot;fragments_debug&quot;</span> : <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line">                  frag_char_choices, 0, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;word, certainties,</div>
<div class="line">                  &amp;rating_limit, best_choice, &amp;attempts_left, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"></div>
<div class="line">  frag_char_choices.delete_data_pointers();</div>
<div class="line">  <span class="keywordflow">return</span> best_choice;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a49b7fbfcab4bd2783f9620a35e6a673b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char tesseract::Dict::top_word_chartype </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pos_chartypes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Look up the main chartype for each character position and store it in the given array. Also returns the dominant type from unambiguous top choices. </p>

<p>Definition at line <a class="el" href="a00807_source.html#l00512">512</a> of file <a class="el" href="a00807_source.html">permute.cpp</a>.</p>
<div class="fragment"><div class="line">                                                  {</div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="a00387.html">UNICHARSET</a> &amp;unicharset = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>();</div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">int</span> hist_size = 128;   <span class="comment">// to contain &#39;A&#39;,&#39;a&#39;,&#39;0&#39;,&#39;x&#39;,&#39;p&#39;</span></div>
<div class="line">  <span class="keywordtype">int</span> chprop[hist_size];</div>
<div class="line">  <span class="keywordtype">int</span> x;</div>
<div class="line">  <span class="keywordflow">for</span> (x = 0; x &lt; hist_size; x++) chprop[x] = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (x = 0; x &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++x) {</div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = <a class="code" href="a00995.html#ab822bbc3c0f362dc6b70f7d5363a5e42">get_top_choice_uid</a>(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x));</div>
<div class="line">    <span class="keywordtype">char</span> ctype = unicharset.<a class="code" href="a00387.html#a52f4cf0d6d6e880201f62215770b457f">get_chartype</a>(unichar_id);</div>
<div class="line">    <span class="keywordflow">if</span> (pos_chartypes) pos_chartypes[x] = ctype;</div>
<div class="line">    <span class="keywordflow">if</span> (ctype == 0 || ctype == <span class="charliteral">&#39;p&#39;</span>) <span class="keywordflow">continue</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a4a886a86bc5d0d4405dd9da165b3e1fd">getUnicharAmbigs</a>().OneToOneDefiniteAmbigs(unichar_id) != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) <span class="keywordflow">continue</span>;</div>
<div class="line">    chprop[ctype]++;</div>
<div class="line">    <span class="keywordflow">if</span> (x == 0 &amp;&amp; ctype == <span class="charliteral">&#39;A&#39;</span>)  <span class="comment">// first-cap also counts as lower</span></div>
<div class="line">      chprop[<span class="charliteral">&#39;a&#39;</span>]++;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordtype">int</span> max_prop = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (x = 1; x &lt; hist_size; x++)</div>
<div class="line">    <span class="keywordflow">if</span> (chprop[x] &gt;= chprop[max_prop]) max_prop = x;</div>
<div class="line">  <span class="keywordflow">return</span> (chprop[max_prop] &gt; 0) ? max_prop : 0;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2e14dd61f93ad13fafe4c2e2dae88631"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::UniformCertainties </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>Choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>BestChoice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if the certainty of the BestChoice word is within a reasonable range of the average certainties for the best choices for each character in the segmentation. This test is used to catch words in which one character is much worse than the other characters in the word (i.e. false will be returned in that case). The algorithm computes the mean and std deviation of the certainties in the word with the worst certainty thrown out. </p>

<p>Definition at line <a class="el" href="a00811_source.html#l00986">986</a> of file <a class="el" href="a00811_source.html">stopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                            {</div>
<div class="line">  <span class="keywordtype">float</span> Certainty;</div>
<div class="line">  <span class="keywordtype">float</span> WorstCertainty = <a class="code" href="a00577.html#a9adcee815220ec9db98062213806ed04">MAX_FLOAT32</a>;</div>
<div class="line">  <span class="keywordtype">float</span> CertaintyThreshold;</div>
<div class="line">  <a class="code" href="a00577.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> TotalCertainty;</div>
<div class="line">  <a class="code" href="a00577.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> TotalCertaintySquared;</div>
<div class="line">  <a class="code" href="a00577.html#aa8336782d864ba03efadb73a51260961">FLOAT64</a> Variance;</div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> <a class="code" href="a00628.html#ad99e1235a4e63880ab2f72bfdff26e28">Mean</a>, StdDev;</div>
<div class="line">  <span class="keywordtype">int</span> WordLength;</div>
<div class="line"></div>
<div class="line">  WordLength = Choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (WordLength &lt; 3)</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">  TotalCertainty = TotalCertaintySquared = 0.0;</div>
<div class="line">  BLOB_CHOICE_IT BlobChoiceIt;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; Choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++i) {</div>
<div class="line">    BlobChoiceIt.set_to_list(Choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(i));</div>
<div class="line">    Certainty = BlobChoiceIt.data()-&gt;certainty();</div>
<div class="line">    TotalCertainty += Certainty;</div>
<div class="line">    TotalCertaintySquared += Certainty * Certainty;</div>
<div class="line">    <span class="keywordflow">if</span> (Certainty &lt; WorstCertainty)</div>
<div class="line">      WorstCertainty = Certainty;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Subtract off worst certainty from statistics.</span></div>
<div class="line">  WordLength--;</div>
<div class="line">  TotalCertainty -= WorstCertainty;</div>
<div class="line">  TotalCertaintySquared -= WorstCertainty * WorstCertainty;</div>
<div class="line"></div>
<div class="line">  Mean = TotalCertainty / WordLength;</div>
<div class="line">  Variance = ((WordLength * TotalCertaintySquared -</div>
<div class="line">    TotalCertainty * TotalCertainty) /</div>
<div class="line">    (WordLength * (WordLength - 1)));</div>
<div class="line">  <span class="keywordflow">if</span> (Variance &lt; 0.0)</div>
<div class="line">    Variance = 0.0;</div>
<div class="line">  StdDev = sqrt (Variance);</div>
<div class="line"></div>
<div class="line">  CertaintyThreshold = Mean - <a class="code" href="a00129.html#a105fa57ee5545f36fc0f1baf89d2d3af">stopper_allowable_character_badness</a> * StdDev;</div>
<div class="line">  <span class="keywordflow">if</span> (CertaintyThreshold &gt; <a class="code" href="a00129.html#a793fa27917d4728c9d07b667a039c1e5">stopper_nondict_certainty_base</a>)</div>
<div class="line">    CertaintyThreshold = <a class="code" href="a00129.html#a793fa27917d4728c9d07b667a039c1e5">stopper_nondict_certainty_base</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (BestChoice.<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>() &lt; CertaintyThreshold) {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 1)</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Stopper: Non-uniform certainty = %4.1f&quot;</span></div>
<div class="line">              <span class="stringliteral">&quot; (m=%4.1f, s=%4.1f, t=%4.1f)\n&quot;</span>,</div>
<div class="line">              BestChoice.<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>(), <a class="code" href="a00628.html#ad99e1235a4e63880ab2f72bfdff26e28">Mean</a>, StdDev, CertaintyThreshold);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8aa52c89f34bc5158cc650699520b50b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::update_best_choice </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>best_choice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copies word into best_choice if its rating is smaller than that of best_choice. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00166">166</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                           {</div>
<div class="line">    <span class="keywordflow">if</span> (word.<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>() &lt; best_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>()) *best_choice = word;</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a562ac7b572107d301b4730dca4d89a57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::valid_bigram </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>word1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>word2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00802_source.html#l00849">849</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                                                        {</div>
<div class="line">  <span class="keywordflow">if</span> (bigram_dawg_ == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Extract the core word from the middle of each word with any digits</span></div>
<div class="line">  <span class="comment">//         replaced with question marks.</span></div>
<div class="line">  <span class="keywordtype">int</span> w1start, w1end, w2start, w2end;</div>
<div class="line">  word1.<a class="code" href="a00395.html#a34205ac439b74d2b65e23a885852be3f">punct_stripped</a>(&amp;w1start, &amp;w1end);</div>
<div class="line">  word2.<a class="code" href="a00395.html#a34205ac439b74d2b65e23a885852be3f">punct_stripped</a>(&amp;w2start, &amp;w2end);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// We don&#39;t want to penalize a single guillemet, hyphen, etc.</span></div>
<div class="line">  <span class="comment">// But our bigram list doesn&#39;t have any information about punctuation.</span></div>
<div class="line">  <span class="keywordflow">if</span> (w1start &gt;= w1end) <span class="keywordflow">return</span> word1.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() &lt; 3;</div>
<div class="line">  <span class="keywordflow">if</span> (w2start &gt;= w2end) <span class="keywordflow">return</span> word2.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() &lt; 3;</div>
<div class="line"></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="a00387.html">UNICHARSET</a>&amp; uchset = <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>();</div>
<div class="line">  <a class="code" href="a00319.html">STRING</a> bigram_string;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = w1start; i &lt; w1end; i++) {</div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> ch = <a class="code" href="a00129.html#a57be0143dbad3201d0d2ce002ae9bce8">NormalizeUnicharIdForMatch</a>(word1.<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(i));</div>
<div class="line">    bigram_string += uchset.<a class="code" href="a00387.html#a5951dde3ab90c12c309d776570a10725">get_isdigit</a>(ch) ? <span class="stringliteral">&quot;?&quot;</span> : uchset.<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(ch);</div>
<div class="line">  }</div>
<div class="line">  bigram_string += <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = w2start; i &lt; w2end; i++) {</div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> ch = <a class="code" href="a00129.html#a57be0143dbad3201d0d2ce002ae9bce8">NormalizeUnicharIdForMatch</a>(word2.<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(i));</div>
<div class="line">    bigram_string += uchset.<a class="code" href="a00387.html#a5951dde3ab90c12c309d776570a10725">get_isdigit</a>(ch) ? <span class="stringliteral">&quot;?&quot;</span> : uchset.<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(ch);</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> normalized_word(bigram_string.string(), uchset);</div>
<div class="line">  <span class="keywordflow">return</span> bigram_dawg_-&gt;<a class="code" href="a00122.html#a37e1a2a607ac12c92826247303ebb6d0" title="Returns true if the given word is in the Dawg.">word_in_dawg</a>(normalized_word);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaed3895d9553f4110c693593c89650fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::valid_punctuation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if the word contains a valid punctuation pattern. Note: Since the domains of punctuation symbols and symblos used in numbers are not disjoint, a valid number might contain an invalid punctuation pattern (e.g. .99). </p>

<p>Definition at line <a class="el" href="a00802_source.html#l00879">879</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                                                    {</div>
<div class="line">  <span class="keywordflow">if</span> (word.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() == 0) <span class="keywordflow">return</span> NO_PERM;</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> new_word(word.<a class="code" href="a00395.html#a5431f457a3617528f3f1aa6ddc7f34bc">unicharset</a>());</div>
<div class="line">  <span class="keywordtype">int</span> last_index = word.<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() - 1;</div>
<div class="line">  <span class="keywordtype">int</span> new_len = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt;= last_index; ++i) {</div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = (word.<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(i));</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a57f82c4777d39c923cb9ec27cac9bcb6">get_ispunctuation</a>(unichar_id)) {</div>
<div class="line">      new_word.append_unichar_id(unichar_id, 1, 0.0, 0.0);</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isalpha(unichar_id) &amp;&amp;</div>
<div class="line">               !<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().get_isdigit(unichar_id)) {</div>
<div class="line">      <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// neither punc, nor alpha, nor digit</span></div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((new_len = new_word.length()) == 0 ||</div>
<div class="line">               new_word.unichar_id(new_len-1) != <a class="code" href="a00122.html#af6a39872b9a20f3b02020f237731af87">Dawg::kPatternUnicharID</a>) {</div>
<div class="line">      new_word.append_unichar_id(<a class="code" href="a00122.html#af6a39872b9a20f3b02020f237731af87">Dawg::kPatternUnicharID</a>, 1, 0.0, 0.0);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; dawgs_.<a class="code" href="a00175.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>(); ++i) {</div>
<div class="line">    <span class="keywordflow">if</span> (dawgs_[i] != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp;</div>
<div class="line">        dawgs_[i]-&gt;type() == <a class="code" href="a00995.html#a07c41f251f1782c60df4e626c35d2151aa8e8b65bf32d2884c0bab5fb8223c6eb">DAWG_TYPE_PUNCTUATION</a> &amp;&amp;</div>
<div class="line">        dawgs_[i]-&gt;word_in_dawg(new_word)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a22a45cd03f5d2191d0aeba41e3b4f52f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::valid_word </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>numbers_ok</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00802_source.html#l00807">807</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                   {</div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="a00395.html">WERD_CHOICE</a> *word_ptr = &amp;word;</div>
<div class="line">  <a class="code" href="a00395.html">WERD_CHOICE</a> temp_word(word.<a class="code" href="a00395.html#a5431f457a3617528f3f1aa6ddc7f34bc">unicharset</a>());</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00129.html#aebd1e3d92b2ec23c03807dd7ede45a40" title="Returns true if we&#39;ve recorded the beginning of a hyphenated word.">hyphenated</a>()) {</div>
<div class="line">    <a class="code" href="a00129.html#a673dcd602bce4530c4cc2fe875cbc2a9">copy_hyphen_info</a>(&amp;temp_word);</div>
<div class="line">    temp_word += word;</div>
<div class="line">    word_ptr = &amp;temp_word;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (word_ptr-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() == 0) <span class="keywordflow">return</span> NO_PERM;</div>
<div class="line">  <span class="comment">// Allocate vectors for holding current and updated</span></div>
<div class="line">  <span class="comment">// active_dawgs and constraints and initialize them.</span></div>
<div class="line">  DawgInfoVector *active_dawgs = <span class="keyword">new</span> DawgInfoVector[2];</div>
<div class="line">  DawgInfoVector *constraints = <span class="keyword">new</span> DawgInfoVector[2];</div>
<div class="line">  <a class="code" href="a00129.html#aeb0ba1d301def04d0ca191582f032c78">init_active_dawgs</a>(kAnyWordLength, &amp;(active_dawgs[0]), <span class="keyword">false</span>);</div>
<div class="line">  <a class="code" href="a00129.html#a7e44bdc5e2fe0dbb861dfd1522ef1cec">init_constraints</a>(&amp;(constraints[0]));</div>
<div class="line">  DawgArgs dawg_args(&amp;(active_dawgs[0]), &amp;(constraints[0]),</div>
<div class="line">                     &amp;(active_dawgs[1]), &amp;(constraints[1]),</div>
<div class="line">                     0.0, NO_PERM, kAnyWordLength, 0);</div>
<div class="line">  <span class="keywordtype">int</span> last_index = word_ptr-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() - 1;</div>
<div class="line">  <span class="comment">// Call leter_is_okay for each letter in the word.</span></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = <a class="code" href="a00129.html#a8431d26ec0e13f6d2a77d7ba3b1823ce" title="Size of the base word (the part on the line before) of a hyphenated word.">hyphen_base_size</a>(); i &lt;= last_index; ++i) {</div>
<div class="line">    <span class="keywordflow">if</span> (!((this-&gt;*<a class="code" href="a00129.html#a802de385e07531ace182d16653e35f71">letter_is_okay_</a>)(&amp;dawg_args, word_ptr-&gt;<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(i),</div>
<div class="line">                                   i == last_index))) <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="comment">// Swap active_dawgs, constraints with the corresponding updated vector.</span></div>
<div class="line">    <span class="keywordflow">if</span> (dawg_args.updated_active_dawgs == &amp;(active_dawgs[1])) {</div>
<div class="line">      dawg_args.updated_active_dawgs = &amp;(active_dawgs[0]);</div>
<div class="line">      dawg_args.updated_constraints = &amp;(constraints[0]);</div>
<div class="line">      ++(dawg_args.active_dawgs);</div>
<div class="line">      ++(dawg_args.constraints);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      ++(dawg_args.updated_active_dawgs);</div>
<div class="line">      ++(dawg_args.updated_constraints);</div>
<div class="line">      dawg_args.active_dawgs = &amp;(active_dawgs[0]);</div>
<div class="line">      dawg_args.constraints = &amp;(constraints[0]);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keyword">delete</span>[] active_dawgs;</div>
<div class="line">  <span class="keyword">delete</span>[] constraints;</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="a00129.html#af873650961191c2a844eed47c0829421" title="Check all the DAWGs to see if this word is in any of them.">valid_word_permuter</a>(dawg_args.permuter, numbers_ok) ?</div>
<div class="line">    dawg_args.permuter : NO_PERM;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa62d7c85fe5c5dd756012fdc7a62316a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::valid_word </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00685">685</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="a00129.html#a22a45cd03f5d2191d0aeba41e3b4f52f">valid_word</a>(word, <span class="keyword">false</span>);  <span class="comment">// return NO_PERM for words with digits</span></div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a57bd14dfa9f7fb48e7de2ab463ae9f2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::valid_word </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is used by api/tesseract_cube_combiner.cpp. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00692">692</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                           {</div>
<div class="line">    <a class="code" href="a00395.html">WERD_CHOICE</a> word(<span class="keywordtype">string</span>, <a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="a00129.html#a22a45cd03f5d2191d0aeba41e3b4f52f">valid_word</a>(word);</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa3ae4cee802f176e3dedb3b7231ad5f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::valid_word_or_number </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00688">688</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                          {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="a00129.html#a22a45cd03f5d2191d0aeba41e3b4f52f">valid_word</a>(word, <span class="keyword">true</span>);  <span class="comment">// return NUMBER_PERM for valid numbers</span></div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af873650961191c2a844eed47c0829421"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool tesseract::Dict::valid_word_permuter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a>&#160;</td>
          <td class="paramname"><em>perm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>numbers_ok</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check all the DAWGs to see if this word is in any of them. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00679">679</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>
<div class="fragment"><div class="line">                                                                      {</div>
<div class="line">    <span class="keywordflow">return</span> (perm == SYSTEM_DAWG_PERM || perm == FREQ_DAWG_PERM ||</div>
<div class="line">            perm == DOC_DAWG_PERM || perm == USER_DAWG_PERM ||</div>
<div class="line">            perm == USER_PATTERN_PERM || (numbers_ok &amp;&amp; perm == NUMBER_PERM));</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a21f1ab419db2b1bb8f375bd9b5935ade"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Dict::WriteFixedLengthDawgs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00175.html">GenericVector</a>&lt; <a class="el" href="a00315.html">SquishedDawg</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>dawg_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_dawgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>debug_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>output_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Writes the dawgs in the dawgs_vec to a file. Updates the given table with the indices of dawgs in the dawg_vec for the corresponding word lengths. </p>

<p>Definition at line <a class="el" href="a00802_source.html#l00626">626</a> of file <a class="el" href="a00802_source.html">dict.cpp</a>.</p>
<div class="fragment"><div class="line">                                                       {</div>
<div class="line">  fwrite(&amp;num_dawgs, <span class="keyword">sizeof</span>(<a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>), 1, output_file);</div>
<div class="line">  <span class="keywordflow">if</span> (debug_level) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Writing %d split length dawgs\n&quot;</span>, num_dawgs);</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; dawg_vec.<a class="code" href="a00175.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>(); ++i) {</div>
<div class="line">    <span class="keywordflow">if</span> ((dawg_vec)[i] != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">      fwrite(&amp;i, <span class="keyword">sizeof</span>(<a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>), 1, output_file);</div>
<div class="line">      dawg_vec[i]-&gt;write_squished_dawg(output_file);</div>
<div class="line">      <span class="keywordflow">if</span> (debug_level) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Wrote Dawg with word length %d\n&quot;</span>, i);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a27c6bbd86f1853b57319290a905528c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::bestrate_pruning_factor = 2.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Multiplying factor of" " current best rate to prune other hypotheses" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00874">874</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a054d69744519c2c7a89e7b1159347385"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::certainty_scale = 20.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Certainty scaling factor" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00845">845</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1971c014e816a08c8deaa45fc8d6fff4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::dawg_debug_level = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Set to 1 for general debug info" ", to 2 for more details, to 3 to see all the debug messages" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00839">839</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1ebd30905b234dce37f13b08ab572502"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::doc_dict_certainty_threshold = -2.25</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Worst certainty" " for words that can be inserted into the document dictionary" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00902">902</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a242ba23c00fdfb4680e2e6f45d8b4c68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::doc_dict_enable = 1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Enable Document Dictionary " </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00898">898</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab375bc2c9356d602366a0af9b6bf9415"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::doc_dict_pending_threshold = 0.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Worst certainty for using pending dictionary" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00900">900</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad5e37470ce50ef6e19c291cd12b0d123"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::fragments_debug = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Debug character fragments" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00870">870</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5f6572f1ce1ce687a367de82aec90557"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(Dict::* tesseract::Dict::go_deeper_fxn_)(const char *debug, const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, int char_choice_index, const <a class="el" href="a00075.html">CHAR_FRAGMENT_INFO</a> *prev_char_frag_info, bool word_ending, <a class="el" href="a00395.html">WERD_CHOICE</a> *word, float certainties[], float *limit, <a class="el" href="a00395.html">WERD_CHOICE</a> *best_choice, int *attempts_left, void *void_more_args)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to go_deeper function that will be modified by various permuters. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00308">308</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="add6604e6b4ce6ffd77c78d58b8a3244a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::hyphen_debug_level = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Debug level for hyphenated words." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00840">840</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a802de385e07531ace182d16653e35f71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(Dict::* tesseract::Dict::letter_is_okay_)(void *void_dawg_args, <a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id, bool word_end) const </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00803_source.html#l00560">560</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="adcf2c1a0ac63eb2bd393c57288362f4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::load_bigram_dawg = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Load dawg with special word bigrams." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00811">811</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1d85e18142cb329265eba1aa4b729cc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::load_fixed_length_dawgs = true</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Load fixed length" " dawgs (e.g. for non-space delimited languages)" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00809">809</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a70cf001f370ad12c08ba7e1796d27cae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::load_freq_dawg = true</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Load frequent word dawg." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00803">803</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6d798a7eba3e146a9acae6b307b59d81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::load_number_dawg = true</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Load dawg with number patterns." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00807">807</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3b017913ebeea374f4910f52ef21f8e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::load_punc_dawg = true</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Load dawg with punctuation patterns." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00806">806</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa94c8519d79413969cbf94c9a9efcbd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::load_system_dawg = true</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Load system word dawg." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00802">802</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a73345ee670e9fd3a1ecad89e2fad1367"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::load_unambig_dawg = true</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Load unambiguous word dawg." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00804">804</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a724a3890de749e064396026caec31ef7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::max_permuter_attempts = 10000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Maximum number of different" " character choices to consider during permutation." " This limit is especially useful when user patterns" " are specified, since overly generic patterns can result in" " dawg search exploring an overly large number of options." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00909">909</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a86ce83b9aa78f6f95a83e95bc3f1d1e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::max_viterbi_list_size = 10</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Maximum size of viterbi list." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00841">841</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8ef81325d91ad933e5c2c861c6e1106a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::ngram_permuter_activated = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Activate character-level n-gram-based permuter" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00904">904</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="acae35981fc849d608182db8cfe881b0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* tesseract::Dict::output_ambig_words_file = &quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Output file for ambiguities found in the dictionary" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00837">837</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a697ad2ae7377608dbadd87771dd8a9da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::permute_chartype_word = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Turn on character type (property) consistency permuter" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00890">890</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a02767c3bd2bc4f22b49dacb6d997df28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::permute_debug = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Debug char permutation process" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00872">872</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7605ec60e77ee219fcffbdb2fbef062e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::permute_fixed_length_dawg = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Turn on fixed-length phrasebook search permuter" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00888">888</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="abee65aea72351faabcd1b3fcac562339"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::permute_only_top = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Run only the top choice permuter" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00910">910</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="abd28e5f2cfdfa90d418d0b5fb650f510"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::permute_script_word = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Turn on word script consistency permuter" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00876">876</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7ac1496aaae5e9977a31a2781e7866f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double(Dict::* tesseract::Dict::probability_in_context_)(const char *lang, const char *context, int context_bytes, const char *<a class="el" href="a00670.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>, int character_bytes)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Probability in context function used by the ngram permuter. </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00570">570</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a00bc956997b48bd63a56915d331f8add"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::save_doc_words = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Save Document Words" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00897">897</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0abfd0b48eb83f07ef6db2baf9f189e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::save_raw_choices = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Save all explored raw choices" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00864">864</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac1e26982bb8526a587932aa73efd4ce0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::segment_debug = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Debug the whole segmentation process" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00871">871</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7ba94a461d09ad96991ccdf43b1b53e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::segment_nonalphabetic_script = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Don't use any alphabetic-specific tricks." "Set to true in the traineddata config file for" " scripts that are cursive or inherently fixed-pitch" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00882">882</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3aa39d0dfa6e33481953461fdece4d38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::segment_penalty_dict_case_bad = 1.3125</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Default score multiplier for word matches, which may have " "case issues (lower is better)." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00822">822</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1fa994ce1b5b86d436eb2ab3f2ffbe1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::segment_penalty_dict_case_ok = 1.1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Score multiplier for word matches that have good case " "(lower is better)." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00818">818</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6c5895e0ed2eae93f360b36efd78dfe5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::segment_penalty_dict_frequent_word = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Score multiplier for word matches which have good case and" "are frequent in the given language (lower is better)." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00814">814</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4a192a4266de4fecbf296101d60ace2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::segment_penalty_dict_nonword = 1.25</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Score multiplier for glyph fragment segmentations which " "do not match a dictionary word (lower is better)." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00830">830</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a683a1781be97f4376fa1c01bded08e66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::segment_penalty_garbage = 1.50</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Score multiplier for poorly cased strings that are not in" " the dictionary and generally look like garbage (lower is" " better)." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00835">835</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0469526f34710b7ef0f79584a547919a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::segment_penalty_ngram_best_choice = 1.24</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Multipler to for the best choice from the ngram model." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00826">826</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a07341950953ad8c06d2f85a3628158a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::segment_reward_chartype = 0.97</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Score multipler for char type consistency within a word. " </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00892">892</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac01ea1e9f23e1445ad204c6e2e902edf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::segment_reward_ngram_best_choice = 0.99</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Score multipler for ngram permuter's best choice" " (only used in the Han script path)." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00896">896</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2baa03008eaaaff468c8187a0346f073"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::segment_reward_script = 0.95</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Score multipler for script consistency within a word. " "Being a 'reward' factor, it should be &lt;= 1. " "Smaller value implies bigger reward." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00886">886</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3c252da043a05b0abdf6f7d62cb781cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::segment_segcost_rating = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"incorporate segmentation cost in word rating?" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00878">878</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a105fa57ee5545f36fc0f1baf89d2d3af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::stopper_allowable_character_badness = 3.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Max certaintly variation allowed in a word (in sigma)" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00855">855</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a646d0403be41d8484d68250136f915f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::stopper_ambiguity_threshold_gain = 8.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Gain factor for ambiguity threshold." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00861">861</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a81ce7deec4aee35f855d92f31e3c7463"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::stopper_ambiguity_threshold_offset = 1.5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Certainty offset for ambiguity threshold." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00863">863</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa996712ed754700ede71a883d4211019"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::stopper_certainty_per_char = -0.50</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Certainty to add for each dict char above small word size." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00853">853</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="aae528f9618755dee3ab974f06f1794ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::stopper_debug_level = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Stopper debug level" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00856">856</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a444f71f744f92cfcd58dea0a2255e044"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::stopper_no_acceptable_choices = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Make AcceptableChoice() always return false. Useful" " when there is a need to explore all segmentations" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00859">859</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a793fa27917d4728c9d07b667a039c1e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::stopper_nondict_certainty_base = -2.50</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Certainty threshold for non-dict words" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00847">847</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a73282067f0bb86fcaf689b9202bb6702"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Dict::stopper_phase2_certainty_rejection_offset = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Reject certainty offset" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00849">849</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="af37cc8127c3872088d93aabaf3453e25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::stopper_smallword_size = 2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Size of dict word to be treated as non-dict word" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00851">851</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5b1b181a4638784a6225a508b810dbc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Dict::tessedit_truncate_wordchoice_log = 10</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Max words to keep in list" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00865">865</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa45bac6fe79a370226cf119c66d2fe7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Dict::use_only_first_uft8_step = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Use only the first UTF8 step of the given string" " when computing log probabilities." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00844">844</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a503479ae064fd0f67f2bd71a3a4c3c47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* tesseract::Dict::user_patterns_suffix = &quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"A list of user-provided patterns." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00801">801</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="ada6d04f60ef05aee517f3d24c6d6e9c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* tesseract::Dict::user_words_suffix = &quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Variable members. These have to be declared and initialized after image_ptr_, which contains the pointer to the params vector - the member of its base <a class="el" href="a00070.html">CCUtil</a> class. "A list of user-provided words." </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00799">799</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa858b147d2551976cea6cc174544988e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* tesseract::Dict::word_to_debug = &quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Word for which stopper debug information" " should be printed to stdout" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00867">867</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2fe5a98d91c6d9c8b655780cfa8654a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* tesseract::Dict::word_to_debug_lengths = &quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Lengths of unichars in word_to_debug" </p>

<p>Definition at line <a class="el" href="a00803_source.html#l00869">869</a> of file <a class="el" href="a00803_source.html">dict.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/mnt/data/src/tesseract-ocr/dict/<a class="el" href="a00803_source.html">dict.h</a></li>
<li>/mnt/data/src/tesseract-ocr/dict/<a class="el" href="a00799_source.html">context.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/dict/<a class="el" href="a00802_source.html">dict.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/dict/<a class="el" href="a00804_source.html">hyphen.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/dict/<a class="el" href="a00806_source.html">permdawg.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/dict/<a class="el" href="a00807_source.html">permute.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/dict/<a class="el" href="a00811_source.html">stopper.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a00995.html">tesseract</a></li><li class="navelem"><a class="el" href="a00129.html">Dict</a></li>
    <li class="footer">Generated on Thu Nov 1 2012 20:20:07 for Tesseract by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1 </li>
  </ul>
</div>
</body>
</html>
