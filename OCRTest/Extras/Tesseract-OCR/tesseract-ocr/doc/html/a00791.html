<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tesseract: /mnt/data/src/tesseract-ocr/cutil/oldheap.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tesseract
   &#160;<span id="projectnumber">3.02</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00791.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">oldheap.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="a00792_source.html">oldheap.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00787_source.html">freelist.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00781_source.html">danerror.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00785_source.html">emalloc.h</a>&quot;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
</div>
<p><a href="a00791_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a703930540e0a773b74297490ca88316b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00791.html#a703930540e0a773b74297490ca88316b">FATHER</a>(N)&#160;&#160;&#160;((N)&gt;&gt;1)</td></tr>
<tr class="memitem:a6a30628fa9cd3c38b5b7decf4afc7dea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00791.html#a6a30628fa9cd3c38b5b7decf4afc7dea">LEFTSON</a>(N)&#160;&#160;&#160;((N)&lt;&lt;1)</td></tr>
<tr class="memitem:a1b0e9a91308e0359a7367736527698c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00791.html#a1b0e9a91308e0359a7367736527698c5">RIGHTSON</a>(N)&#160;&#160;&#160;((N)&lt;&lt;1 + 1)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a101bee15b825fee78f29c8679cc00595"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00180.html">HEAP</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00791.html#a101bee15b825fee78f29c8679cc00595">MakeHeap</a> (int Size)</td></tr>
<tr class="memitem:a133a020354d84309c10dfea471f213f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00791.html#a133a020354d84309c10dfea471f213f4">HeapPop</a> (<a class="el" href="a00180.html">HEAP</a> *Heap, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *Key, void *out_ptr)</td></tr>
<tr class="memitem:a3ce0caf83478a579d919e1a510a23d92"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00791.html#a3ce0caf83478a579d919e1a510a23d92">HeapPopWorst</a> (<a class="el" href="a00180.html">HEAP</a> *Heap, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *Key, void *out_ptr)</td></tr>
<tr class="memitem:a21d28375a456d5c0238134a101e0236a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00791.html#a21d28375a456d5c0238134a101e0236a">HeapPushCheckSize</a> (<a class="el" href="a00180.html">HEAP</a> *Heap, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Key, void *Data)</td></tr>
<tr class="memitem:ad66e9a2d1419e6b12501a783fda5d7c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00791.html#ad66e9a2d1419e6b12501a783fda5d7c3">HeapPush</a> (<a class="el" href="a00180.html">HEAP</a> *Heap, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Key, void *Data)</td></tr>
<tr class="memitem:a21a037334c93e1d0e7ae2059203a9cf3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00791.html#a21a037334c93e1d0e7ae2059203a9cf3">HeapStore</a> (<a class="el" href="a00180.html">HEAP</a> *Heap, <a class="el" href="a00181.html">HEAPENTRY</a> *Entry)</td></tr>
<tr class="memitem:aad11f18baf53c82e65a054ff7552d0d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00791.html#aad11f18baf53c82e65a054ff7552d0d1">GetTopOfHeap</a> (<a class="el" href="a00180.html">HEAP</a> *Heap, <a class="el" href="a00181.html">HEAPENTRY</a> *Entry)</td></tr>
<tr class="memitem:a66bcae55ce37fec5afd5fdeb5a879d37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00791.html#a66bcae55ce37fec5afd5fdeb5a879d37">FreeHeapData</a> (<a class="el" href="a00180.html">HEAP</a> *Heap, <a class="el" href="a00777.html#a840df4080fe3d271893f7db1ff27cc90">void_dest</a> destructor)</td></tr>
</table>
<hr/><h2>Macro Definition Documentation</h2>
<a class="anchor" id="a703930540e0a773b74297490ca88316b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FATHER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">N</td><td>)</td>
          <td>&#160;&#160;&#160;((N)&gt;&gt;1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00791_source.html#l00027">27</a> of file <a class="el" href="a00791_source.html">oldheap.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6a30628fa9cd3c38b5b7decf4afc7dea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEFTSON</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">N</td><td>)</td>
          <td>&#160;&#160;&#160;((N)&lt;&lt;1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00791_source.html#l00028">28</a> of file <a class="el" href="a00791_source.html">oldheap.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1b0e9a91308e0359a7367736527698c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RIGHTSON</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">N</td><td>)</td>
          <td>&#160;&#160;&#160;((N)&lt;&lt;1 + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00791_source.html#l00029">29</a> of file <a class="el" href="a00791_source.html">oldheap.cpp</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a66bcae55ce37fec5afd5fdeb5a879d37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FreeHeapData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00180.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>Heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00777.html#a840df4080fe3d271893f7db1ff27cc90">void_dest</a>&#160;</td>
          <td class="paramname"><em>destructor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This routine is similar to FreeHeap in that it deallocates the memory consumed by the heap. However, it also calls Deallocator for each item in the heap so that this data is also deallocated.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">Heap</td><td>heap whose data is to be freed </td></tr>
    <tr><td class="paramname">destructor</td><td>function to be used to deallocate data</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>None</li>
</ul>
<dl class="section note"><dt>Note:</dt><dd>Exceptions: none </dd>
<dd>
History: Tue May 15 08:52:04 1990, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="a00791_source.html#l00327">327</a> of file <a class="el" href="a00791_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><div class="line">                                                    {</div>
<div class="line">  <a class="code" href="a00181.html">HEAPENTRY</a> Entry;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">while</span> (<a class="code" href="a00791.html#aad11f18baf53c82e65a054ff7552d0d1">GetTopOfHeap</a> (Heap, &amp;Entry) != <a class="code" href="a00792.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>)</div>
<div class="line">    destructor (Entry.<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>);</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00792.html#a8631cc3f443c4ea3e99195df1ca1dd8d">FreeHeap</a>(Heap);</div>
<div class="line">}                                <span class="comment">/* FreeHeapData */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aad11f18baf53c82e65a054ff7552d0d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GetTopOfHeap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00180.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>Heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00181.html">HEAPENTRY</a> *&#160;</td>
          <td class="paramname"><em>Entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This routine removes the top item on the heap and copies its contents into Entry.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">Heap</td><td>ptr to heap whose top is to be removed and returned </td></tr>
    <tr><td class="paramname">Entry</td><td>ptr to heap entry to be filled with top entry on Heap</td></tr>
  </table>
  </dd>
</dl>
<p>Globals:</p>
<ul>
<li>None</li>
</ul>
<dl class="section return"><dt>Returns:</dt><dd>OK if top entry returned, EMPTY if heap is empty </dd></dl>
<dl class="section note"><dt>Note:</dt><dd>Exceptions: None </dd>
<dd>
History: 3/13/89, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="a00791_source.html#l00273">273</a> of file <a class="el" href="a00791_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><div class="line">                                               {</div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Hole;</div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> HoleKey;</div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Son;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a> &lt;= 1)</div>
<div class="line">    <span class="keywordflow">return</span> (<a class="code" href="a00792.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>);</div>
<div class="line"></div>
<div class="line">  Entry-&gt;<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[1].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;</div>
<div class="line">  Entry-&gt;<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[1].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;</div>
<div class="line"></div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>--;</div>
<div class="line"></div>
<div class="line">  <span class="comment">/* imagine the hole at the root is filled with the last entry in the heap */</span></div>
<div class="line">  HoleKey = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;</div>
<div class="line">  Hole = 1;</div>
<div class="line"></div>
<div class="line">                                 <span class="comment">/* while hole has 2 sons */</span></div>
<div class="line">  <span class="keywordflow">while</span> ((Son = <a class="code" href="a00791.html#a6a30628fa9cd3c38b5b7decf4afc7dea">LEFTSON</a> (Hole)) &lt; Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>) {</div>
<div class="line">    <span class="comment">/* find the son with the smallest key */</span></div>
<div class="line">    <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> &gt; Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son + 1].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>)</div>
<div class="line">      Son++;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* if key for hole is greater than key for son, sift hole down */</span></div>
<div class="line">    <span class="keywordflow">if</span> (HoleKey &gt; Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>) {</div>
<div class="line">      Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;</div>
<div class="line">      Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;</div>
<div class="line">      Hole = Son;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = HoleKey;</div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;</div>
<div class="line">  <span class="keywordflow">return</span> (<a class="code" href="a00792.html#ae14e7ed9f6b99e7bcf6f27a73f741870">TESS_HEAP_OK</a>);</div>
<div class="line">}                                <span class="comment">/* GetTopOfHeap */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a133a020354d84309c10dfea471f213f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HeapPop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00180.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>Heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *&#160;</td>
          <td class="paramname"><em>Key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>out_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This routine removes the top item on the heap and places its contents into Key and Data.</p>
<p>Globals:</p>
<ul>
<li>None</li>
</ul>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">Heap</td><td>ptr to heap whose top is to be removed and returned </td></tr>
    <tr><td class="paramname">Key</td><td>place to put key of top heap item </td></tr>
    <tr><td class="paramname">out_ptr</td><td>place to put data of top heap item</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>OK if top entry returned, EMPTY if heap is empty </dd></dl>
<dl class="section note"><dt>Note:</dt><dd>Exceptions: None </dd>
<dd>
History: 5/10/91, DSJ, Created (Modified from GetTopOfHeap). </dd></dl>

<p>Definition at line <a class="el" href="a00791_source.html#l00076">76</a> of file <a class="el" href="a00791_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><div class="line">                                                     {</div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Hole;</div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> HoleKey;</div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Son;</div>
<div class="line">  <span class="keywordtype">void</span> **Data = (<span class="keywordtype">void</span> **) out_ptr;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a> &lt;= 1)</div>
<div class="line">    <span class="keywordflow">return</span> (<a class="code" href="a00792.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>);</div>
<div class="line"></div>
<div class="line">  *Key = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[1].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;</div>
<div class="line">  *Data = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[1].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;</div>
<div class="line"></div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>--;</div>
<div class="line"></div>
<div class="line">  <span class="comment">/* imagine the hole at the root is filled with the last entry in the heap */</span></div>
<div class="line">  HoleKey = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;</div>
<div class="line">  Hole = 1;</div>
<div class="line"></div>
<div class="line">                                 <span class="comment">/* while hole has 2 sons */</span></div>
<div class="line">  <span class="keywordflow">while</span> ((Son = <a class="code" href="a00791.html#a6a30628fa9cd3c38b5b7decf4afc7dea">LEFTSON</a> (Hole)) &lt; Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>) {</div>
<div class="line">    <span class="comment">/* find the son with the smallest key */</span></div>
<div class="line">    <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> &gt; Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son + 1].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>)</div>
<div class="line">      Son++;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* if key for hole is greater than key for son, sift hole down */</span></div>
<div class="line">    <span class="keywordflow">if</span> (HoleKey &gt; Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>) {</div>
<div class="line">      Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;</div>
<div class="line">      Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Son].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;</div>
<div class="line">      Hole = Son;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = HoleKey;</div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;</div>
<div class="line">  <span class="keywordflow">return</span> (<a class="code" href="a00792.html#ae14e7ed9f6b99e7bcf6f27a73f741870">TESS_HEAP_OK</a>);</div>
<div class="line">}                                <span class="comment">/* HeapPop */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3ce0caf83478a579d919e1a510a23d92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HeapPopWorst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00180.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>Heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *&#160;</td>
          <td class="paramname"><em>Key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>out_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>HeapPopWorst</p>
<p>Remove the largest item from the heap.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">Heap</td><td>ptr to heap whose top is to be removed and returned </td></tr>
    <tr><td class="paramname">Key</td><td>place to put key of top heap item </td></tr>
    <tr><td class="paramname">out_ptr</td><td>place to put data of top heap item </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00791_source.html#l00124">124</a> of file <a class="el" href="a00791_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><div class="line">                                                          {</div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Index;                   <span class="comment">/*current index */</span></div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Hole;</div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> HoleKey;</div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Father;</div>
<div class="line">  <span class="keywordtype">void</span> *HoleData;</div>
<div class="line">  <span class="keywordtype">void</span> **Data = (<span class="keywordtype">void</span> **) out_ptr;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a> &lt;= 1)</div>
<div class="line">    <span class="keywordflow">return</span> (<a class="code" href="a00792.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>);</div>
<div class="line"></div>
<div class="line">  HoleKey = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[1].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;</div>
<div class="line">  Hole = 1;</div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>--;</div>
<div class="line">  <span class="keywordflow">for</span> (Index = Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>, Father = <a class="code" href="a00791.html#a703930540e0a773b74297490ca88316b">FATHER</a> (Index); Index &gt; Father;</div>
<div class="line">    Index--)</div>
<div class="line">  <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Index].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> &gt; HoleKey) {</div>
<div class="line">                                 <span class="comment">/*find biggest */</span></div>
<div class="line">    HoleKey = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Index].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;</div>
<div class="line">    Hole = Index;</div>
<div class="line">  }</div>
<div class="line">  *Key = HoleKey;</div>
<div class="line">  *Data = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;</div>
<div class="line"></div>
<div class="line">  HoleKey = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;</div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = HoleKey;</div>
<div class="line">  HoleData = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;</div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = HoleData;</div>
<div class="line"></div>
<div class="line">  <span class="comment">/* now sift last entry to its rightful place */</span></div>
<div class="line">  Father = <a class="code" href="a00791.html#a703930540e0a773b74297490ca88316b">FATHER</a> (Hole);        <span class="comment">/*father of hole */</span></div>
<div class="line">  <span class="keywordflow">while</span> (Hole &gt; 1 &amp;&amp; Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> &gt; HoleKey) {</div>
<div class="line">                                 <span class="comment">/*swap entries */</span></div>
<div class="line">    Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;</div>
<div class="line">    Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Hole].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;</div>
<div class="line">    Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = HoleData;</div>
<div class="line">    Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = HoleKey;</div>
<div class="line">    Hole = Father;</div>
<div class="line">    Father = <a class="code" href="a00791.html#a703930540e0a773b74297490ca88316b">FATHER</a> (Hole);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (<a class="code" href="a00792.html#ae14e7ed9f6b99e7bcf6f27a73f741870">TESS_HEAP_OK</a>);</div>
<div class="line">}                                <span class="comment">/* HeapPop */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad66e9a2d1419e6b12501a783fda5d7c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HeapPush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00180.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>Heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This routine stores Data into Heap and associates it with Key. The heap is maintained in such a way that the item with the lowest key is always at the top of the heap.</p>
<p>Globals:</p>
<ul>
<li>None</li>
</ul>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">Heap</td><td>ptr to heap to store new item in </td></tr>
    <tr><td class="paramname">Key</td><td>numeric key associated with new item </td></tr>
    <tr><td class="paramname">Data</td><td>ptr to data contents of new item</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note:</dt><dd>Exceptions:<ul>
<li>HEAPFULL error if heap size is exceeded</li>
</ul>
</dd>
<dd>
History: 5/10/91, DSJ, Created (Modified version of HeapStore). </dd></dl>

<p>Definition at line <a class="el" href="a00791_source.html#l00195">195</a> of file <a class="el" href="a00791_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><div class="line">                                                   {</div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Item;</div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Father;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a> &gt; Heap-&gt;<a class="code" href="a00180.html#ac3df0bda023b1ac82fa5e8f163f9f567">Size</a>)</div>
<div class="line">    <a class="code" href="a00780.html#a480942fa88232bda23e9809e5afa9f25">DoError</a> (<a class="code" href="a00792.html#a3c47feb3b0f0ff2776f40483ae95d84b">HEAPFULL</a>, <span class="stringliteral">&quot;Heap size exceeded&quot;</span>);</div>
<div class="line"></div>
<div class="line">  Item = Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>;</div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>++;</div>
<div class="line">  <span class="keywordflow">while</span> (Item != 1) {</div>
<div class="line">    Father = <a class="code" href="a00791.html#a703930540e0a773b74297490ca88316b">FATHER</a> (Item);</div>
<div class="line">    <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> &gt; Key) {</div>
<div class="line">      Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;</div>
<div class="line">      Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;</div>
<div class="line">      Item = Father;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Key;</div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Data;</div>
<div class="line">}                                <span class="comment">/* HeapPush */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a21d28375a456d5c0238134a101e0236a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HeapPushCheckSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00180.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>Heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>Key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00791_source.html#l00170">170</a> of file <a class="el" href="a00791_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><div class="line">                                                            {</div>
<div class="line">  <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a> &gt; Heap-&gt;<a class="code" href="a00180.html#ac3df0bda023b1ac82fa5e8f163f9f567">Size</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  <a class="code" href="a00791.html#ad66e9a2d1419e6b12501a783fda5d7c3">HeapPush</a>(Heap, Key, Data);</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a21a037334c93e1d0e7ae2059203a9cf3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HeapStore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00180.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>Heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00181.html">HEAPENTRY</a> *&#160;</td>
          <td class="paramname"><em>Entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This routine stores Entry into Heap. The heap is maintained in such a way that the item with the lowest key is always at the top of the heap.</p>
<p>Globals:</p>
<ul>
<li>None</li>
</ul>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">Heap</td><td>ptr to heap to store new item in </td></tr>
    <tr><td class="paramname">Entry</td><td>ptr to item to be stored in Heap </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note:</dt><dd>Exceptions:<ul>
<li>HEAPFULL error if heap size is exceeded </li>
</ul>
</dd>
<dd>
History: 3/13/89, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="a00791_source.html#l00234">234</a> of file <a class="el" href="a00791_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><div class="line">                                             {</div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Item;</div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> Father;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a> &gt; Heap-&gt;<a class="code" href="a00180.html#ac3df0bda023b1ac82fa5e8f163f9f567">Size</a>)</div>
<div class="line">    <a class="code" href="a00780.html#a480942fa88232bda23e9809e5afa9f25">DoError</a> (<a class="code" href="a00792.html#a3c47feb3b0f0ff2776f40483ae95d84b">HEAPFULL</a>, <span class="stringliteral">&quot;Heap size exceeded&quot;</span>);</div>
<div class="line"></div>
<div class="line">  Item = Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>;</div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a>++;</div>
<div class="line">  <span class="keywordflow">while</span> (Item != 1) {</div>
<div class="line">    Father = <a class="code" href="a00791.html#a703930540e0a773b74297490ca88316b">FATHER</a> (Item);</div>
<div class="line">    <span class="keywordflow">if</span> (Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> &gt; Entry-&gt;<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>) {</div>
<div class="line">      Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;</div>
<div class="line">      Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Father].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;</div>
<div class="line">      Item = Father;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = Entry-&gt;<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>;</div>
<div class="line">  Heap-&gt;<a class="code" href="a00180.html#a4eb91fc02a92104ca8c81dbdd2c8a055">Entry</a>[Item].<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = Entry-&gt;<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>;</div>
<div class="line">}                                <span class="comment">/* HeapStore */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a101bee15b825fee78f29c8679cc00595"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00180.html">HEAP</a>* MakeHeap </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This routine creates and initializes a new heap data structure containing Size elements. In actuality, Size + 1 elements are allocated. The first element, element 0, is unused, this makes the index arithmetic easier.</p>
<p>Globals:</p>
<ul>
<li>None</li>
</ul>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">Size</td><td>maximum number of entries in the heap </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Pointer to the new heap. </dd></dl>
<dl class="section note"><dt>Note:</dt><dd>Exceptions: None </dd>
<dd>
History: 3/13/89, DSJ, Created. </dd></dl>

<p>Definition at line <a class="el" href="a00791_source.html#l00049">49</a> of file <a class="el" href="a00791_source.html">oldheap.cpp</a>.</p>
<div class="fragment"><div class="line">                         {</div>
<div class="line">  <a class="code" href="a00180.html">HEAP</a> *NewHeap;</div>
<div class="line"></div>
<div class="line">  NewHeap = (<a class="code" href="a00180.html">HEAP</a> *) <a class="code" href="a00784.html#a55f2088f1a7b3333bb5c7275ab726bba">Emalloc</a> (<span class="keyword">sizeof</span> (<a class="code" href="a00180.html">HEAP</a>) + Size * <span class="keyword">sizeof</span> (<a class="code" href="a00181.html">HEAPENTRY</a>));</div>
<div class="line"></div>
<div class="line">  NewHeap-&gt;<a class="code" href="a00180.html#ac3df0bda023b1ac82fa5e8f163f9f567">Size</a> = Size;</div>
<div class="line">  NewHeap-&gt;<a class="code" href="a00180.html#ab6f67f42d4fc122780b88fdcd08a8839">FirstFree</a> = 1;</div>
<div class="line">  <span class="keywordflow">return</span> (NewHeap);</div>
<div class="line">}                                <span class="comment">/* MakeHeap */</span></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b8d1739202f65d59e58cdec119e32197.html">mnt</a></li><li class="navelem"><a class="el" href="dir_5b13d613d053bd10e358ecb54357a5d6.html">data</a></li><li class="navelem"><a class="el" href="dir_6e8f8c7261375e16fe20bf1b1c7c3b87.html">src</a></li><li class="navelem"><a class="el" href="dir_7829ead854c076361e4bcb285111c733.html">tesseract-ocr</a></li><li class="navelem"><a class="el" href="dir_9f0c433ea5b48d4db3f8420250db2920.html">cutil</a></li><li class="navelem"><a class="el" href="a00791.html">oldheap.cpp</a></li>
    <li class="footer">Generated on Thu Nov 1 2012 20:19:55 for Tesseract by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1 </li>
  </ul>
</div>
</body>
</html>
