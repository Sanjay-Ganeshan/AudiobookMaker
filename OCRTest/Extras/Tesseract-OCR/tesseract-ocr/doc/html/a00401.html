<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Tesseract: tesseract::Wordrec Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tesseract
   &#160;<span id="projectnumber">3.02</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00401.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">tesseract::Wordrec Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="a00987_source.html">wordrec.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for tesseract::Wordrec:</div>
<div class="dyncontent">
 <div class="center">
  <img src="a00401.png" usemap="#tesseract::Wordrec_map" alt=""/>
  <map id="tesseract::Wordrec_map" name="tesseract::Wordrec_map">
<area href="a00091.html" alt="tesseract::Classify" shape="rect" coords="0,168,124,192"/>
<area href="a00069.html" alt="tesseract::CCStruct" shape="rect" coords="0,112,124,136"/>
<area href="a00120.html" alt="tesseract::CUtil" shape="rect" coords="0,56,124,80"/>
<area href="a00070.html" alt="tesseract::CCUtil" shape="rect" coords="0,0,124,24"/>
<area href="a00360.html" alt="tesseract::Tesseract" shape="rect" coords="0,280,124,304"/>
</map>
 </div></div>

<p><a href="a01406.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a05c88ec72e6bc64cc79471145906ab12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a05c88ec72e6bc64cc79471145906ab12">Wordrec</a> ()</td></tr>
<tr class="memitem:acaace271520291eb5c8d5cd02fbe2ed4"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#acaace271520291eb5c8d5cd02fbe2ed4">~Wordrec</a> ()</td></tr>
<tr class="memitem:a6e9f488de12a12cd99ae4c2c55c87bc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a6e9f488de12a12cd99ae4c2c55c87bc6">CopyCharChoices</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;from, <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *to)</td></tr>
<tr class="memitem:ac05db9a605bcb460b6b1abdaf03ee6c4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ac05db9a605bcb460b6b1abdaf03ee6c4">ChoiceIsCorrect</a> (const <a class="el" href="a00387.html">UNICHARSET</a> &amp;uni_set, const <a class="el" href="a00395.html">WERD_CHOICE</a> *choice, const <a class="el" href="a00175.html">GenericVector</a>&lt; <a class="el" href="a00319.html">STRING</a> &gt; &amp;truth_text)</td></tr>
<tr class="memitem:a3e07fc3051cf28bed0511983b8f8b69d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a3e07fc3051cf28bed0511983b8f8b69d">SaveAltChoices</a> (const <a class="el" href="a00407.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> &amp;best_choices, <a class="el" href="a00396.html">WERD_RES</a> *word)</td></tr>
<tr class="memitem:a7b5bc2e6f3a8666f5bcb4a539c29c823"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a7b5bc2e6f3a8666f5bcb4a539c29c823">FillLattice</a> (const <a class="el" href="a00228.html">MATRIX</a> &amp;ratings, const <a class="el" href="a00407.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> &amp;best_choices, const <a class="el" href="a00387.html">UNICHARSET</a> &amp;<a class="el" href="a00070.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr class="memitem:a57cb744b40e142b6cb03de0e8998dafc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a57cb744b40e142b6cb03de0e8998dafc">CallFillLattice</a> (const <a class="el" href="a00228.html">MATRIX</a> &amp;ratings, const <a class="el" href="a00407.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> &amp;best_choices, const <a class="el" href="a00387.html">UNICHARSET</a> &amp;<a class="el" href="a00070.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr class="memitem:a1a00e14baaad0a404bb90ac8fe4663f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a1a00e14baaad0a404bb90ac8fe4663f6">update_ratings</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;new_choices, const <a class="el" href="a00088.html">CHUNKS_RECORD</a> *chunks_record, const <a class="el" href="a00810.html#afeb312869cc56f5a20c6f3dcb65644cc">SEARCH_STATE</a> search_state)</td></tr>
<tr class="memitem:aea3997058b7c1683957d275d17bc20d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#aea3997058b7c1683957d275d17bc20d6">SegSearch</a> (<a class="el" href="a00088.html">CHUNKS_RECORD</a> *chunks_record, <a class="el" href="a00395.html">WERD_CHOICE</a> *best_choice, <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *best_char_choices, <a class="el" href="a00395.html">WERD_CHOICE</a> *raw_choice, <a class="el" href="a00316.html">STATE</a> *output_best_state, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr class="memitem:a488dbf71180ee93aec63ad825be08444"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a488dbf71180ee93aec63ad825be08444">attempt_blob_chop</a> (<a class="el" href="a00381.html">TWERD</a> *word, <a class="el" href="a00346.html">TBLOB</a> *blob, <a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> blob_number, bool italic_blob, <a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a> seam_list)</td></tr>
<tr class="memitem:ab39c4eff1c3255a37a38f5f32956e6c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ab39c4eff1c3255a37a38f5f32956e6c2">chop_numbered_blob</a> (<a class="el" href="a00381.html">TWERD</a> *word, <a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> blob_number, bool italic_blob, <a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a> seam_list)</td></tr>
<tr class="memitem:a60f3ee36bfbef64013dd7b199248cf0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a60f3ee36bfbef64013dd7b199248cf0e">chop_overlapping_blob</a> (const <a class="el" href="a00175.html">GenericVector</a>&lt; <a class="el" href="a00347.html">TBOX</a> &gt; &amp;boxes, <a class="el" href="a00396.html">WERD_RES</a> *word_res, <a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *blob_number, bool italic_blob, <a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a> seam_list)</td></tr>
<tr class="memitem:a5b02ea635cd52437ade4200ed2734941"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a5b02ea635cd52437ade4200ed2734941">junk_worst_seam</a> (<a class="el" href="a00960.html#a0d8a3b6851b93dea4e0b7e7713ccf100">SEAM_QUEUE</a> seams, <a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> *<a class="el" href="a00541.html#ad7bc7a3af5617ff4762369a6aa879ed3">new_seam</a>, float new_priority)</td></tr>
<tr class="memitem:afa230ef31fc03aff58ebd4d2de2df68b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#afa230ef31fc03aff58ebd4d2de2df68b">choose_best_seam</a> (<a class="el" href="a00960.html#a0d8a3b6851b93dea4e0b7e7713ccf100">SEAM_QUEUE</a> seam_queue, <a class="el" href="a00960.html#aead75573de3ab18b80b22a97ca124d99">SEAM_PILE</a> *seam_pile, <a class="el" href="a00543.html#a8caa4994d858ff69cd340ac6f89731cb">SPLIT</a> *split, <a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> priority, <a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> **seam_result, <a class="el" href="a00346.html">TBLOB</a> *blob)</td></tr>
<tr class="memitem:a11c3678047ab91731c5628c49e0b9858"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a11c3678047ab91731c5628c49e0b9858">combine_seam</a> (<a class="el" href="a00960.html#a0d8a3b6851b93dea4e0b7e7713ccf100">SEAM_QUEUE</a> seam_queue, <a class="el" href="a00960.html#aead75573de3ab18b80b22a97ca124d99">SEAM_PILE</a> seam_pile, <a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> *seam)</td></tr>
<tr class="memitem:ab304a891354f890ed124488273b57b19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ab304a891354f890ed124488273b57b19">constrained_split</a> (<a class="el" href="a00543.html#a8caa4994d858ff69cd340ac6f89731cb">SPLIT</a> *split, <a class="el" href="a00346.html">TBLOB</a> *blob)</td></tr>
<tr class="memitem:a15fb0ba7f97dd0ad49f30fb7861717c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a15fb0ba7f97dd0ad49f30fb7861717c4">delete_seam_pile</a> (<a class="el" href="a00960.html#aead75573de3ab18b80b22a97ca124d99">SEAM_PILE</a> seam_pile)</td></tr>
<tr class="memitem:adeb84d8b94a6c87354fc452461de3b39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#adeb84d8b94a6c87354fc452461de3b39">pick_good_seam</a> (<a class="el" href="a00346.html">TBLOB</a> *blob)</td></tr>
<tr class="memitem:a239d08f59bdd41a53ab489ca138fa989"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a239d08f59bdd41a53ab489ca138fa989">seam_priority</a> (<a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> *seam, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> xmin, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> xmax)</td></tr>
<tr class="memitem:afaf3a51721ceaa661e9e1919d4ea48e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#afaf3a51721ceaa661e9e1919d4ea48e7">try_point_pairs</a> (<a class="el" href="a00135.html">EDGEPT</a> *points[<a class="el" href="a00952.html#acddb2ccb7be3d768d16abfd230d468eb">MAX_NUM_POINTS</a>], <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_points, <a class="el" href="a00960.html#a0d8a3b6851b93dea4e0b7e7713ccf100">SEAM_QUEUE</a> seam_queue, <a class="el" href="a00960.html#aead75573de3ab18b80b22a97ca124d99">SEAM_PILE</a> *seam_pile, <a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> **seam, <a class="el" href="a00346.html">TBLOB</a> *blob)</td></tr>
<tr class="memitem:a2f5dad2d83fa6f5b28819f13eabf41ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a2f5dad2d83fa6f5b28819f13eabf41ba">try_vertical_splits</a> (<a class="el" href="a00135.html">EDGEPT</a> *points[<a class="el" href="a00952.html#acddb2ccb7be3d768d16abfd230d468eb">MAX_NUM_POINTS</a>], <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_points, EDGEPT_CLIST *new_points, <a class="el" href="a00960.html#a0d8a3b6851b93dea4e0b7e7713ccf100">SEAM_QUEUE</a> seam_queue, <a class="el" href="a00960.html#aead75573de3ab18b80b22a97ca124d99">SEAM_PILE</a> *seam_pile, <a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> **seam, <a class="el" href="a00346.html">TBLOB</a> *blob)</td></tr>
<tr class="memitem:a409c4fc630ecbc283e3a6aa1b08debf7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a409c4fc630ecbc283e3a6aa1b08debf7">full_split_priority</a> (<a class="el" href="a00543.html#a8caa4994d858ff69cd340ac6f89731cb">SPLIT</a> *split, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> xmin, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> xmax)</td></tr>
<tr class="memitem:abbeec661b51bf52c5dd3ccbb64567690"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#abbeec661b51bf52c5dd3ccbb64567690">grade_center_of_blob</a> (register <a class="el" href="a00962.html#a45f650fd29e2e9bb1c3480d126a955e9">BOUNDS_RECT</a> rect)</td></tr>
<tr class="memitem:a483f88dc4b24f7055448259c42e1867d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a483f88dc4b24f7055448259c42e1867d">grade_overlap</a> (register <a class="el" href="a00962.html#a45f650fd29e2e9bb1c3480d126a955e9">BOUNDS_RECT</a> rect)</td></tr>
<tr class="memitem:a26ed8c156b2be0e7e38bd5437b71c10f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a26ed8c156b2be0e7e38bd5437b71c10f">grade_split_length</a> (register <a class="el" href="a00543.html#a8caa4994d858ff69cd340ac6f89731cb">SPLIT</a> *split)</td></tr>
<tr class="memitem:ab3df13db044c39b2d9aa4e6bf105d309"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ab3df13db044c39b2d9aa4e6bf105d309">grade_sharpness</a> (register <a class="el" href="a00543.html#a8caa4994d858ff69cd340ac6f89731cb">SPLIT</a> *split)</td></tr>
<tr class="memitem:a03ae9b642499f15b4fe4348d9d0ee3c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a03ae9b642499f15b4fe4348d9d0ee3c2">grade_width_change</a> (register <a class="el" href="a00962.html#a45f650fd29e2e9bb1c3480d126a955e9">BOUNDS_RECT</a> rect)</td></tr>
<tr class="memitem:a764fd79db0c80638187f4751626bb12e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a764fd79db0c80638187f4751626bb12e">set_outline_bounds</a> (register <a class="el" href="a00135.html">EDGEPT</a> *point1, register <a class="el" href="a00135.html">EDGEPT</a> *point2, <a class="el" href="a00962.html#a45f650fd29e2e9bb1c3480d126a955e9">BOUNDS_RECT</a> rect)</td></tr>
<tr class="memitem:a6ad6a99cdee8d3a3ceaec40afade8714"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a6ad6a99cdee8d3a3ceaec40afade8714">crosses_outline</a> (<a class="el" href="a00135.html">EDGEPT</a> *p0, <a class="el" href="a00135.html">EDGEPT</a> *p1, <a class="el" href="a00135.html">EDGEPT</a> *outline)</td></tr>
<tr class="memitem:af5466c6b57ff40780c0be86b1330f1cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#af5466c6b57ff40780c0be86b1330f1cf">is_crossed</a> (<a class="el" href="a00375.html">TPOINT</a> a0, <a class="el" href="a00375.html">TPOINT</a> a1, <a class="el" href="a00375.html">TPOINT</a> b0, <a class="el" href="a00375.html">TPOINT</a> b1)</td></tr>
<tr class="memitem:a67574237703ce6757f28d9cdcef7d301"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a67574237703ce6757f28d9cdcef7d301">is_same_edgept</a> (<a class="el" href="a00135.html">EDGEPT</a> *p1, <a class="el" href="a00135.html">EDGEPT</a> *p2)</td></tr>
<tr class="memitem:a746f8a2ed6b50a3669a2fe6dcd053eec"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a746f8a2ed6b50a3669a2fe6dcd053eec">near_point</a> (<a class="el" href="a00135.html">EDGEPT</a> *point, <a class="el" href="a00135.html">EDGEPT</a> *line_pt_0, <a class="el" href="a00135.html">EDGEPT</a> *line_pt_1, <a class="el" href="a00135.html">EDGEPT</a> **near_pt)</td></tr>
<tr class="memitem:ad88a55a41c46135e8173fd81cbeb1751"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ad88a55a41c46135e8173fd81cbeb1751">reverse_outline</a> (<a class="el" href="a00135.html">EDGEPT</a> *outline)</td></tr>
<tr class="memitem:ad59946532b08a90f940ecfa994b06653"><td class="memItemLeft" align="right" valign="top">virtual BLOB_CHOICE_LIST *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ad59946532b08a90f940ecfa994b06653">classify_piece</a> (<a class="el" href="a00346.html">TBLOB</a> *pieces, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a> seams, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> start, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> end, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr class="memitem:a60e821ddb0f98741bb729c5163e1189c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a60e821ddb0f98741bb729c5163e1189c">merge_fragments</a> (<a class="el" href="a00228.html">MATRIX</a> *ratings, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_blobs)</td></tr>
<tr class="memitem:a53e7fd43e3657ffc3bc76a18f4e52291"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a53e7fd43e3657ffc3bc76a18f4e52291">get_fragment_lists</a> (<a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> current_frag, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> current_row, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> start, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_frag_parts, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_blobs, <a class="el" href="a00228.html">MATRIX</a> *ratings, BLOB_CHOICE_LIST *choice_lists)</td></tr>
<tr class="memitem:af657001729e7bc45e381614497adcc19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#af657001729e7bc45e381614497adcc19">merge_and_put_fragment_lists</a> (<a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> row, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> column, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_frag_parts, BLOB_CHOICE_LIST *choice_lists, <a class="el" href="a00228.html">MATRIX</a> *ratings)</td></tr>
<tr class="memitem:a82e3d17abe8744c66fe3aa67fe2ea0f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a82e3d17abe8744c66fe3aa67fe2ea0f3">fill_filtered_fragment_list</a> (BLOB_CHOICE_LIST *choices, int fragment_pos, int num_frag_parts, BLOB_CHOICE_LIST *filtered_choices)</td></tr>
<tr class="memitem:aab16c53ccf9c888874c2e7ae65b6ed04"><td class="memItemLeft" align="right" valign="top">BLOB_CHOICE_LIST *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#aab16c53ccf9c888874c2e7ae65b6ed04">get_piece_rating</a> (<a class="el" href="a00228.html">MATRIX</a> *ratings, <a class="el" href="a00346.html">TBLOB</a> *blobs, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a> seams, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> start, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> end, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr class="memitem:aa635d222f122122d4abad1b883d92fb5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00347.html">TBOX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#aa635d222f122122d4abad1b883d92fb5">record_blob_bounds</a> (<a class="el" href="a00346.html">TBLOB</a> *blobs)</td></tr>
<tr class="memitem:a9f070b021f06de480fda80a61a772d47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00228.html">MATRIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a9f070b021f06de480fda80a61a772d47">record_piece_ratings</a> (<a class="el" href="a00346.html">TBLOB</a> *blobs)</td></tr>
<tr class="memitem:a20332a4dd1d38ef7c6bf04d8dd4a98b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00397.html">WIDTH_RECORD</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a20332a4dd1d38ef7c6bf04d8dd4a98b7">state_char_widths</a> (<a class="el" href="a00397.html">WIDTH_RECORD</a> *chunk_widths, <a class="el" href="a00316.html">STATE</a> *state, int <a class="el" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a>)</td></tr>
<tr class="memitem:ac0868afc87448dc583dad4d67dd8b1a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ac0868afc87448dc583dad4d67dd8b1a8">get_width_variance</a> (<a class="el" href="a00397.html">WIDTH_RECORD</a> *wrec, float norm_height)</td></tr>
<tr class="memitem:ad77b8ca8f655ae0bfe16f352f3d01830"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ad77b8ca8f655ae0bfe16f352f3d01830">get_gap_variance</a> (<a class="el" href="a00397.html">WIDTH_RECORD</a> *wrec, float norm_height)</td></tr>
<tr class="memitem:a5ad58d7dcf5cbe7852aefb3b35a9ce33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a5ad58d7dcf5cbe7852aefb3b35a9ce33">prioritize_state</a> (<a class="el" href="a00088.html">CHUNKS_RECORD</a> *chunks_record, <a class="el" href="a00297.html">SEARCH_RECORD</a> *the_search)</td></tr>
<tr class="memitem:a6e963a2c089d890de52254b85b2c0cac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a6e963a2c089d890de52254b85b2c0cac">width_priority</a> (<a class="el" href="a00088.html">CHUNKS_RECORD</a> *chunks_record, <a class="el" href="a00316.html">STATE</a> *state, int <a class="el" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a>)</td></tr>
<tr class="memitem:aa5fd4729ef162689b68d20f9bdeb0c3e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#aa5fd4729ef162689b68d20f9bdeb0c3e">seamcut_priority</a> (<a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a> seams, <a class="el" href="a00316.html">STATE</a> *state, int <a class="el" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a>)</td></tr>
<tr class="memitem:a1dd426293ba3d6d90f8740285190336f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a1dd426293ba3d6d90f8740285190336f">rating_priority</a> (<a class="el" href="a00088.html">CHUNKS_RECORD</a> *chunks_record, <a class="el" href="a00316.html">STATE</a> *state, int <a class="el" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a>)</td></tr>
<tr><td colspan="2"><div class="groupHeader">program_editup</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Initialize all the things in the program that need to be initialized. init_permute determines whether to initialize the permute functions and <a class="el" href="a00122.html">Dawg</a> models. </p>
</div></td></tr>
<tr class="memitem:a318cffefddd77027079285472c9c54a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a318cffefddd77027079285472c9c54a2">program_editup</a> (const char *textbase, bool init_classifier, bool init_permute)</td></tr>
<tr><td colspan="2"><div class="groupHeader">cc_recog</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Recognize a word. </p>
</div></td></tr>
<tr class="memitem:ad5643a29cad973e306bb84fb843397af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ad5643a29cad973e306bb84fb843397af">cc_recog</a> (<a class="el" href="a00396.html">WERD_RES</a> *word)</td></tr>
<tr><td colspan="2"><div class="groupHeader">program_editdown</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>This function holds any nessessary post processing for the Wise Owl program. </p>
</div></td></tr>
<tr class="memitem:a5b44d020ea7f9d19d2e8f71b4e83113c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a5b44d020ea7f9d19d2e8f71b4e83113c">program_editdown</a> (<a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> elasped_time)</td></tr>
<tr><td colspan="2"><div class="groupHeader">set_pass1</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Get ready to do some pass 1 stuff. </p>
</div></td></tr>
<tr class="memitem:a15740f1d66aa061522c69b948e901e70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a15740f1d66aa061522c69b948e901e70">set_pass1</a> ()</td></tr>
<tr><td colspan="2"><div class="groupHeader">set_pass2</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Get ready to do some pass 2 stuff. </p>
</div></td></tr>
<tr class="memitem:a883211e914cb31146b8dd9ace419c843"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a883211e914cb31146b8dd9ace419c843">set_pass2</a> ()</td></tr>
<tr><td colspan="2"><div class="groupHeader">end_recog</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Cleanup and exit the recog program. </p>
</div></td></tr>
<tr class="memitem:ae0e2f8d5761f19008b20943a6e8ba130"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ae0e2f8d5761f19008b20943a6e8ba130">end_recog</a> ()</td></tr>
<tr><td colspan="2"><div class="groupHeader">call_matcher</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Called from Tess with a blob in tess form. The blob may need rotating to the correct orientation for classification. </p>
</div></td></tr>
<tr class="memitem:a2399813e1c656f6638ce7d09ac3a101b"><td class="memItemLeft" align="right" valign="top">BLOB_CHOICE_LIST *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a2399813e1c656f6638ce7d09ac3a101b">call_matcher</a> (const <a class="el" href="a00126.html">DENORM</a> *denorm, <a class="el" href="a00346.html">TBLOB</a> *blob)</td></tr>
<tr><td colspan="2"><div class="groupHeader">dict_word()</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Test the dictionaries, returning NO_PERM (0) if not found, or one of the PermuterType values if found, according to the dictionary. </p>
</div></td></tr>
<tr class="memitem:a13f2efa710b3a68e30e8bc2f69bee578"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a13f2efa710b3a68e30e8bc2f69bee578">dict_word</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;word)</td></tr>
<tr><td colspan="2"><div class="groupHeader">classify_blob</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="el" href="a00091.html">Classify</a> the this blob if it is not already recorded in the match table. Attempt to recognize this blob as a character. The recognition rating for this blob will be stored as a part of the blob. This value will also be returned to the caller. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">blob</td><td>Current blob </td></tr>
    <tr><td class="paramname">string</td><td>The string to display in <a class="el" href="a00294.html">ScrollView</a> </td></tr>
    <tr><td class="paramname">color</td><td>The colour to use when displayed with <a class="el" href="a00294.html">ScrollView</a> </td></tr>
  </table>
  </dd>
</dl>
</div></td></tr>
<tr class="memitem:a7127d481d5ea12e3253fb3719fd2170c"><td class="memItemLeft" align="right" valign="top">BLOB_CHOICE_LIST *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a7127d481d5ea12e3253fb3719fd2170c">classify_blob</a> (<a class="el" href="a00346.html">TBLOB</a> *blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, const char *string, <a class="el" href="a00774.html#a17bc059e437838f094a5a25c2d5ab88f">C_COL</a> color, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr class="memitem:ae15505acaad8195b1b96de4a393bfc3e"><td class="memItemLeft" align="right" valign="top">BLOB_CHOICE_LIST *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ae15505acaad8195b1b96de4a393bfc3e">fake_classify_blob</a> (<a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> class_id, float rating, float certainty)</td></tr>
<tr><td colspan="2"><div class="groupHeader">update_blob_classifications</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>For each blob in the given word update match_table with the corresponding BLOB_CHOICES_LIST from choices. </p>
</div></td></tr>
<tr class="memitem:a63db9b85fa1350dfccfd4d6e548290d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a63db9b85fa1350dfccfd4d6e548290d4">update_blob_classifications</a> (<a class="el" href="a00381.html">TWERD</a> *word, const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;choices)</td></tr>
<tr><td colspan="2"><div class="groupHeader">best_first_search</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Find the best segmentation by doing a best first search of the solution space. </p>
</div></td></tr>
<tr class="memitem:a17730ff30d62f74a4a14904664bd8656"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a17730ff30d62f74a4a14904664bd8656">evaluate_chunks</a> (<a class="el" href="a00088.html">CHUNKS_RECORD</a> *chunks_record, <a class="el" href="a00810.html#afeb312869cc56f5a20c6f3dcb65644cc">SEARCH_STATE</a> search_state, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr class="memitem:ad717bb181d1b89496be0b042347d9753"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ad717bb181d1b89496be0b042347d9753">best_first_search</a> (<a class="el" href="a00088.html">CHUNKS_RECORD</a> *chunks_record, <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *best_char_choices, <a class="el" href="a00396.html">WERD_RES</a> *word, <a class="el" href="a00316.html">STATE</a> *state, <a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *fixpt, <a class="el" href="a00316.html">STATE</a> *best_state)</td></tr>
<tr class="memitem:a138fe5d0ffacb19535094f221a9e6511"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a138fe5d0ffacb19535094f221a9e6511">delete_search</a> (<a class="el" href="a00297.html">SEARCH_RECORD</a> *the_search)</td></tr>
<tr><td colspan="2"><div class="groupHeader">evaluate_state</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Evaluate the segmentation that is represented by this state in the best first search. Add this state to the "states_seen" list. </p>
</div></td></tr>
<tr class="memitem:ad9eb2175e0e99588f283809bea8cdf2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ad9eb2175e0e99588f283809bea8cdf2b">evaluate_state</a> (<a class="el" href="a00088.html">CHUNKS_RECORD</a> *chunks_record, <a class="el" href="a00297.html">SEARCH_RECORD</a> *the_search, <a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *fixpt, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr class="memitem:a540decbb88b2e701402b80fd7395d03e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a540decbb88b2e701402b80fd7395d03e">rebuild_current_state</a> (<a class="el" href="a00396.html">WERD_RES</a> *word, <a class="el" href="a00316.html">STATE</a> *state, <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *char_choices, <a class="el" href="a00228.html">MATRIX</a> *ratings)</td></tr>
<tr><td colspan="2"><div class="groupHeader">new_search</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Create and initialize a new search record. </p>
</div></td></tr>
<tr class="memitem:a6532056b5f7dcdff1a64898d1c3b6bfc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00297.html">SEARCH_RECORD</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a6532056b5f7dcdff1a64898d1c3b6bfc">new_search</a> (<a class="el" href="a00088.html">CHUNKS_RECORD</a> *chunks_record, int <a class="el" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a>, <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *best_char_choices, <a class="el" href="a00395.html">WERD_CHOICE</a> *best_choice, <a class="el" href="a00395.html">WERD_CHOICE</a> *raw_choice, <a class="el" href="a00316.html">STATE</a> *state)</td></tr>
<tr><td colspan="2"><div class="groupHeader">expand_node</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Create the states that are attached to this one. Check to see that each one has not already been visited. If not add it to the priority queue. </p>
</div></td></tr>
<tr class="memitem:a03931abc6310dd587fdaff3ccf272887"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a03931abc6310dd587fdaff3ccf272887">expand_node</a> (<a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> worst_priority, <a class="el" href="a00088.html">CHUNKS_RECORD</a> *chunks_record, <a class="el" href="a00297.html">SEARCH_RECORD</a> *the_search)</td></tr>
<tr><td colspan="2"><div class="groupHeader">replace_char_widths</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Replace the value of the char_width field in the chunks_record with the updated width measurements from the last_segmentation. </p>
</div></td></tr>
<tr class="memitem:a35746f8e970b19443f459c060a8775c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a35746f8e970b19443f459c060a8775c9">replace_char_widths</a> (<a class="el" href="a00088.html">CHUNKS_RECORD</a> *chunks_record, <a class="el" href="a00810.html#afeb312869cc56f5a20c6f3dcb65644cc">SEARCH_STATE</a> state)</td></tr>
<tr class="memitem:afba032e7e9cea932a806e56424966237"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00052.html">BLOB_CHOICE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#afba032e7e9cea932a806e56424966237">rebuild_fragments</a> (const char *unichar, const char *expanded_fragment_lengths, int choice_index, <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *old_choices)</td></tr>
<tr class="memitem:aad7c820e5bb342d7ea7743269e160a20"><td class="memItemLeft" align="right" valign="top">BLOB_CHOICE_LIST *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#aad7c820e5bb342d7ea7743269e160a20">join_blobs_and_classify</a> (<a class="el" href="a00396.html">WERD_RES</a> *word, int x, int y, int choice_index, <a class="el" href="a00228.html">MATRIX</a> *ratings, <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *old_choices)</td></tr>
<tr><td colspan="2"><div class="groupHeader">pop_queue</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Get this state from the priority queue. It should be the state that has the greatest urgency to be evaluated. </p>
</div></td></tr>
<tr class="memitem:a24a13455e56ef38b4270f672fa639d62"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00316.html">STATE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a24a13455e56ef38b4270f672fa639d62">pop_queue</a> (<a class="el" href="a00180.html">HEAP</a> *queue)</td></tr>
<tr><td colspan="2"><div class="groupHeader">push_queue</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Add this state into the priority queue. </p>
</div></td></tr>
<tr class="memitem:aeec11442b97898cd44ddfe568dd9ee0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#aeec11442b97898cd44ddfe568dd9ee0f">push_queue</a> (<a class="el" href="a00180.html">HEAP</a> *queue, <a class="el" href="a00316.html">STATE</a> *state, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> worst_priority, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> priority, bool debug)</td></tr>
<tr><td colspan="2"><div class="groupHeader">point_priority</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Assign a priority to and edge point that might be used as part of a split. The argument should be of type <a class="el" href="a00135.html">EDGEPT</a>. </p>
</div></td></tr>
<tr class="memitem:adfe6b5aa74fe948a11bf631af18e7494"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#adfe6b5aa74fe948a11bf631af18e7494">point_priority</a> (<a class="el" href="a00135.html">EDGEPT</a> *point)</td></tr>
<tr><td colspan="2"><div class="groupHeader">add_point_to_list</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Add an edge point to a POINT_GROUP containg a list of other points. </p>
</div></td></tr>
<tr class="memitem:a6b73b33a1a883abc117c676b64816c6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a6b73b33a1a883abc117c676b64816c6f">add_point_to_list</a> (<a class="el" href="a00952.html#a55d3249c77c934468c72f606ce08354f">POINT_GROUP</a> point_list, <a class="el" href="a00135.html">EDGEPT</a> *point)</td></tr>
<tr><td colspan="2"><div class="groupHeader">angle_change</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Return the change in angle (degrees) of the line segments between points one and two, and two and three. </p>
</div></td></tr>
<tr class="memitem:a6cad89fa254226bb11cc6eacfd7f0ffa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a6cad89fa254226bb11cc6eacfd7f0ffa">angle_change</a> (<a class="el" href="a00135.html">EDGEPT</a> *point1, <a class="el" href="a00135.html">EDGEPT</a> *point2, <a class="el" href="a00135.html">EDGEPT</a> *point3)</td></tr>
<tr><td colspan="2"><div class="groupHeader">is_little_chunk</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Return TRUE if one of the pieces resulting from this split would less than some number of edge points. </p>
</div></td></tr>
<tr class="memitem:ada66e05fa0ae8dc79b9de78f5f6efadf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ada66e05fa0ae8dc79b9de78f5f6efadf">is_little_chunk</a> (<a class="el" href="a00135.html">EDGEPT</a> *point1, <a class="el" href="a00135.html">EDGEPT</a> *point2)</td></tr>
<tr><td colspan="2"><div class="groupHeader">is_small_area</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Test the area defined by a split accross this outline. </p>
</div></td></tr>
<tr class="memitem:a71c9cce736fd886763722cf34ddd0ab7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a71c9cce736fd886763722cf34ddd0ab7">is_small_area</a> (<a class="el" href="a00135.html">EDGEPT</a> *point1, <a class="el" href="a00135.html">EDGEPT</a> *point2)</td></tr>
<tr><td colspan="2"><div class="groupHeader">pick_close_point</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Choose the edge point that is closest to the critical point. This point may not be exactly vertical from the critical point. </p>
</div></td></tr>
<tr class="memitem:a79aec1d9a1c9c001a24838117585091a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a79aec1d9a1c9c001a24838117585091a">pick_close_point</a> (<a class="el" href="a00135.html">EDGEPT</a> *critical_point, <a class="el" href="a00135.html">EDGEPT</a> *vertical_point, int *best_dist)</td></tr>
<tr><td colspan="2"><div class="groupHeader">prioritize_points</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Find a list of edge points from the outer outline of this blob. For each of these points assign a priority. Sort these points using a heap structure so that they can be visited in order. </p>
</div></td></tr>
<tr class="memitem:a52f6801a630c7418855f469233b3cf38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a52f6801a630c7418855f469233b3cf38">prioritize_points</a> (<a class="el" href="a00365.html">TESSLINE</a> *outline, <a class="el" href="a00952.html#a55d3249c77c934468c72f606ce08354f">POINT_GROUP</a> points)</td></tr>
<tr><td colspan="2"><div class="groupHeader">new_min_point</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Found a new minimum point try to decide whether to save it or not. Return the new value for the local minimum. If a point is saved then the local minimum is reset to NULL. </p>
</div></td></tr>
<tr class="memitem:a597a95a38f3461c79c3f3970c4d69b69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a597a95a38f3461c79c3f3970c4d69b69">new_min_point</a> (<a class="el" href="a00135.html">EDGEPT</a> *local_min, <a class="el" href="a00952.html#a55d3249c77c934468c72f606ce08354f">POINT_GROUP</a> points)</td></tr>
<tr><td colspan="2"><div class="groupHeader">new_max_point</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Found a new minimum point try to decide whether to save it or not. Return the new value for the local minimum. If a point is saved then the local minimum is reset to NULL. </p>
</div></td></tr>
<tr class="memitem:a3d80d69436770f158bcea457afb6c81d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a3d80d69436770f158bcea457afb6c81d">new_max_point</a> (<a class="el" href="a00135.html">EDGEPT</a> *local_max, <a class="el" href="a00952.html#a55d3249c77c934468c72f606ce08354f">POINT_GROUP</a> points)</td></tr>
<tr><td colspan="2"><div class="groupHeader">vertical_projection_point</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>For one point on the outline, find the corresponding point on the other side of the outline that is a likely projection for a split point. This is done by iterating through the edge points until the X value of the point being looked at is greater than the X value of the split point. Ensure that the point being returned is not right next to the split point. Return the edge point in *best_point as a result, and any points that were newly created are also saved on the new_points list. </p>
</div></td></tr>
<tr class="memitem:ac3557f7f8e9b02f6b2fea05e2320cd1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ac3557f7f8e9b02f6b2fea05e2320cd1d">vertical_projection_point</a> (<a class="el" href="a00135.html">EDGEPT</a> *split_point, <a class="el" href="a00135.html">EDGEPT</a> *target_point, <a class="el" href="a00135.html">EDGEPT</a> **best_point, EDGEPT_CLIST *new_points)</td></tr>
<tr><td colspan="2"><div class="groupHeader">improve_one_blob</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Start with the current word of blobs and its classification. Find the worst blobs and try to divide it up to improve the ratings. </p>
</div></td></tr>
<tr class="memitem:acdc368cd46083bdc4c321dd0a42533a0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#acdc368cd46083bdc4c321dd0a42533a0">improve_one_blob</a> (<a class="el" href="a00396.html">WERD_RES</a> *word_res, <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *char_choices, <a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *blob_number, <a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a> *seam_list, <a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *fixpt, bool split_next_to_fragment, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr><td colspan="2"><div class="groupHeader">modify_blob_choice</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Takes a blob and its chop index, converts that chop index to a unichar_id, and stores the chop index in place of the blob's original unichar_id. </p>
</div></td></tr>
<tr class="memitem:a30984c34a31ca6ef5ee363fc5ebfeff4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a30984c34a31ca6ef5ee363fc5ebfeff4">modify_blob_choice</a> (BLOB_CHOICE_LIST *answer, int chop_index)</td></tr>
<tr><td colspan="2"><div class="groupHeader">chop_one_blob</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Start with the current one-blob word and its classification. Find the worst blobs and try to divide it up to improve the ratings. Used for testing chopper. </p>
</div></td></tr>
<tr class="memitem:a3649b7ab00c4d5947904af99716c6b20"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a3649b7ab00c4d5947904af99716c6b20">chop_one_blob</a> (<a class="el" href="a00381.html">TWERD</a> *word, <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *char_choices, <a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *blob_number, <a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a> *seam_list, int *right_chop_index)</td></tr>
<tr class="memitem:adb4cc59f6e9cca86fbba44ad483ab0b1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#adb4cc59f6e9cca86fbba44ad483ab0b1">chop_one_blob2</a> (const <a class="el" href="a00175.html">GenericVector</a>&lt; <a class="el" href="a00347.html">TBOX</a> &gt; &amp;boxes, <a class="el" href="a00396.html">WERD_RES</a> *word_res, <a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a> *seam_list)</td></tr>
<tr><td colspan="2"><div class="groupHeader">chop_word_main</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="el" href="a00091.html">Classify</a> the blobs in this word and permute the results. Find the worst blob in the word and chop it up. Continue this process until a good answer has been found or all the blobs have been chopped up enough. Return the word level ratings. </p>
</div></td></tr>
<tr class="memitem:ae9a055f84d35a4f9752f6c838afa11b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ae9a055f84d35a4f9752f6c838afa11b0">chop_word_main</a> (<a class="el" href="a00396.html">WERD_RES</a> *word)</td></tr>
<tr><td colspan="2"><div class="groupHeader">improve_by_chopping</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Start with the current word of blobs and its classification. Find the worst blobs and try to divide them up to improve the ratings. As long as ratings are produced by the new blob splitting. When all the splitting has been accomplished all the ratings memory is reclaimed. </p>
</div></td></tr>
<tr class="memitem:ad1164fd07a17960ed06585f0c8aadcdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ad1164fd07a17960ed06585f0c8aadcdc">improve_by_chopping</a> (<a class="el" href="a00396.html">WERD_RES</a> *word, <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *char_choices, <a class="el" href="a00316.html">STATE</a> *best_state, <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *best_char_choices, <a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *fixpt, bool *updated_best_choice)</td></tr>
<tr class="memitem:a3581245a7778654f6fd22c4b3721cf06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00228.html">MATRIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a3581245a7778654f6fd22c4b3721cf06">word_associator</a> (bool only_create_ratings_matrtix, <a class="el" href="a00396.html">WERD_RES</a> *word, <a class="el" href="a00316.html">STATE</a> *state, <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *best_char_choices, <a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *fixpt, <a class="el" href="a00316.html">STATE</a> *best_state)</td></tr>
<tr class="memitem:a8fd3e86b711ba9d54c7eb500eb99c1c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a8fd3e86b711ba9d54c7eb500eb99c1c4">select_blob_to_split</a> (const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, float rating_ceiling, bool split_next_to_fragment)</td></tr>
<tr class="memitem:a457f1ea04bad00c6e40883869700defb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a457f1ea04bad00c6e40883869700defb">select_blob_to_split_from_fixpt</a> (<a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *fixpt)</td></tr>
<tr class="memitem:a2ed3fab8407177af31d446a794617149"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a2ed3fab8407177af31d446a794617149">set_chopper_blame</a> (<a class="el" href="a00396.html">WERD_RES</a> *word)</td></tr>
<tr class="inherit_header pub_methods_a00091"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_a00091')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="a00091.html">tesseract::Classify</a></td></tr>
<tr class="memitem:ac4c2dfe9aa3c463964fdc61faec56a67 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ac4c2dfe9aa3c463964fdc61faec56a67">Classify</a> ()</td></tr>
<tr class="memitem:a4a3fe30721c7f945fb4c5ebfe421639c inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a4a3fe30721c7f945fb4c5ebfe421639c">~Classify</a> ()</td></tr>
<tr class="memitem:a83e4207353a1bb07adfaa6a82a74c9ce inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00129.html">Dict</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a> ()</td></tr>
<tr class="memitem:a5d8e80f8bd4a5779921f543c6eef796c inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="a00307.html">ShapeTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a5d8e80f8bd4a5779921f543c6eef796c">shape_table</a> () const </td></tr>
<tr class="memitem:a28ddc270cb5d2613f5f0f24ad53a5a21 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00619.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a28ddc270cb5d2613f5f0f24ad53a5a21">NewAdaptedTemplates</a> (bool InitFromUnicharset)</td></tr>
<tr class="memitem:afae8a55c28ee68de92ab1b1dd37c6905 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#afae8a55c28ee68de92ab1b1dd37c6905">GetFontinfoId</a> (<a class="el" href="a00619.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> Class, <a class="el" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> ConfigId)</td></tr>
<tr class="memitem:af60b52006bbea0cc1727d543c3fcd1ad inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#af60b52006bbea0cc1727d543c3fcd1ad">PruneClasses</a> (const <a class="el" href="a00200.html">INT_TEMPLATES_STRUCT</a> *int_templates, int num_features, const <a class="el" href="a00196.html">INT_FEATURE_STRUCT</a> *features, const <a class="el" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *normalization_factors, const <a class="el" href="a00577.html#acb2dfad543247740dab87d31bb49dfff">uinT16</a> *expected_num_features, <a class="el" href="a00108.html">CP_RESULT_STRUCT</a> *results)</td></tr>
<tr class="memitem:a49a37c1ce02f5e114f0d57e49871b802 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a49a37c1ce02f5e114f0d57e49871b802">ReadNewCutoffs</a> (FILE *CutoffFile, bool swap, <a class="el" href="a00577.html#ac53c9cafaf7fe16f985994c49f6b0964">inT64</a> end_offset, <a class="el" href="a00633.html#a5f54131664d48951e46f5e4952350582">CLASS_CUTOFF_ARRAY</a> Cutoffs)</td></tr>
<tr class="memitem:a15d6951abc586793270de0825bdb7dd7 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a15d6951abc586793270de0825bdb7dd7">PrintAdaptedTemplates</a> (FILE *File, <a class="el" href="a00619.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> Templates)</td></tr>
<tr class="memitem:a1718afe45a09c6631f11ae224e6d5db6 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a1718afe45a09c6631f11ae224e6d5db6">WriteAdaptedTemplates</a> (FILE *File, <a class="el" href="a00619.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> Templates)</td></tr>
<tr class="memitem:aa74ebd96d85efc39d71c37985e50c8aa inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00619.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#aa74ebd96d85efc39d71c37985e50c8aa">ReadAdaptedTemplates</a> (FILE *File)</td></tr>
<tr class="memitem:a3205427bd0f3abae31ab6c3092ca0662 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a3205427bd0f3abae31ab6c3092ca0662">ComputeNormMatch</a> (<a class="el" href="a00805.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId, const <a class="el" href="a00155.html">FEATURE_STRUCT</a> &amp;feature, <a class="el" href="a00577.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> DebugMatch)</td></tr>
<tr class="memitem:ab6e270cecf7e7c62e1319e7889caf716 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ab6e270cecf7e7c62e1319e7889caf716">FreeNormProtos</a> ()</td></tr>
<tr class="memitem:aabd742c09ff530922005e015a9e8bc2b inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00240.html">NORM_PROTOS</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#aabd742c09ff530922005e015a9e8bc2b">ReadNormProtos</a> (FILE *File, <a class="el" href="a00577.html#ac53c9cafaf7fe16f985994c49f6b0964">inT64</a> end_offset)</td></tr>
<tr class="memitem:af27d604585502bd447d52bf5daf15d0d inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#af27d604585502bd447d52bf5daf15d0d">ConvertProto</a> (<a class="el" href="a00684.html#a04b1cd7341d318ccc4e679aec5cfad0e">PROTO</a> Proto, int ProtoId, <a class="el" href="a00660.html#a8c3e30dcc19d515ce47bc6db3b02cf84">INT_CLASS</a> Class)</td></tr>
<tr class="memitem:af3d15c15c9f2dce72a400233d4bf366f inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00660.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#af3d15c15c9f2dce72a400233d4bf366f">CreateIntTemplates</a> (<a class="el" href="a00684.html#ad299b5cb6e6ab5713fce00dbd6a787ed">CLASSES</a> FloatProtos, const <a class="el" href="a00387.html">UNICHARSET</a> &amp;target_unicharset)</td></tr>
<tr class="memitem:abbbd86871758c036d7ba2af682abb45f inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#abbbd86871758c036d7ba2af682abb45f">LearnWord</a> (const char *filename, const char *rejmap, <a class="el" href="a00396.html">WERD_RES</a> *word)</td></tr>
<tr class="memitem:a0a6455e61097b98b01d180cd0b2748c9 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a0a6455e61097b98b01d180cd0b2748c9">LearnPieces</a> (const char *filename, int start, int length, float threshold, <a class="el" href="a00995.html#afe12112c1ca56d41c919d0f18dfdf240">CharSegmentationType</a> segmentation, const char *correct_text, <a class="el" href="a00396.html">WERD_RES</a> *word)</td></tr>
<tr class="memitem:a2f9389a2d855d2a59e7892d3ba884887 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a2f9389a2d855d2a59e7892d3ba884887">InitAdaptiveClassifier</a> (bool load_pre_trained_templates)</td></tr>
<tr class="memitem:aee9e5bd336bf1a37a7a1f3b712eb045d inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#aee9e5bd336bf1a37a7a1f3b712eb045d">InitAdaptedClass</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00805.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId, int FontinfoId, <a class="el" href="a00619.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> Class, <a class="el" href="a00619.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> Templates)</td></tr>
<tr class="memitem:a7d9076164677e7e5a863a8a5d265b957 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a7d9076164677e7e5a863a8a5d265b957">AdaptToPunc</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00805.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId, int FontinfoId, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Threshold)</td></tr>
<tr class="memitem:ac7501f294525f6dd7fca4a3512ae0dcf inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ac7501f294525f6dd7fca4a3512ae0dcf">AmbigClassifier</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00660.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> Templates, <a class="el" href="a00619.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> *Classes, <a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> *Ambiguities, <a class="el" href="a00032.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr class="memitem:a9df3ff8623acd0ab30286ace7362045c inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a9df3ff8623acd0ab30286ace7362045c">MasterMatcher</a> (<a class="el" href="a00660.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> templates, <a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_features, const <a class="el" href="a00196.html">INT_FEATURE_STRUCT</a> *features, const <a class="el" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *norm_factors, <a class="el" href="a00619.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> *classes, int debug, int num_classes, const <a class="el" href="a00347.html">TBOX</a> &amp;blob_box, <a class="el" href="a00658.html#aad58739a624ab51ab180aac3342c6efc">CLASS_PRUNER_RESULTS</a> results, <a class="el" href="a00032.html">ADAPT_RESULTS</a> *final_results)</td></tr>
<tr class="memitem:a7d663f1e02d6e7b2d1783fdca6154a4d inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a7d663f1e02d6e7b2d1783fdca6154a4d">ExpandShapesAndApplyCorrections</a> (<a class="el" href="a00619.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> *classes, bool debug, int class_id, int bottom, int top, float cp_rating, int blob_length, const <a class="el" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *cn_factors, <a class="el" href="a00199.html">INT_RESULT_STRUCT</a> &amp;int_result, <a class="el" href="a00032.html">ADAPT_RESULTS</a> *final_results)</td></tr>
<tr class="memitem:a7c6031863d4dafb400551cc4f151f3b5 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a7c6031863d4dafb400551cc4f151f3b5">ComputeCorrectedRating</a> (bool debug, int unichar_id, double cp_rating, double im_rating, int feature_misses, int bottom, int top, int blob_length, const <a class="el" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *cn_factors)</td></tr>
<tr class="memitem:af1f1f794092ce44dff7c242822b6cf68 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#af1f1f794092ce44dff7c242822b6cf68">ConvertMatchesToChoices</a> (const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, const <a class="el" href="a00347.html">TBOX</a> &amp;box, <a class="el" href="a00032.html">ADAPT_RESULTS</a> *Results, BLOB_CHOICE_LIST *Choices)</td></tr>
<tr class="memitem:a3681915077046082b4d99532a3f3da61 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a3681915077046082b4d99532a3f3da61">AddNewResult</a> (<a class="el" href="a00032.html">ADAPT_RESULTS</a> *results, <a class="el" href="a00805.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> class_id, int shape_id, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> rating, bool adapted, int config, int fontinfo_id, int fontinfo_id2)</td></tr>
<tr class="memitem:a1f21b989c93ff1d297b5bde442fc430c inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a1f21b989c93ff1d297b5bde442fc430c">GetAdaptiveFeatures</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob, <a class="el" href="a00660.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> IntFeatures, <a class="el" href="a00678.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a> *FloatFeatures)</td></tr>
<tr class="memitem:af9a9def4a6b3bb1a2e36bceff2976c2c inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#af9a9def4a6b3bb1a2e36bceff2976c2c">DebugAdaptiveClassifier</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00032.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr class="memitem:a57d34f380d093913f3c3e74f7a7a9840 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a57d34f380d093913f3c3e74f7a7a9840">GetAdaptThresholds</a> (<a class="el" href="a00381.html">TWERD</a> *Word, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;BestChoice, const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;BestRawChoice, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Thresholds[])</td></tr>
<tr class="memitem:adc0facdf672d23f65612b56b4a5f523a inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00805.html#ac80a5d84c2805bfd10ac129d949f8b80">PROTO_ID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#adc0facdf672d23f65612b56b4a5f523a">MakeNewTempProtos</a> (<a class="el" href="a00678.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a> Features, int NumBadFeat, <a class="el" href="a00805.html#a2223404e7ad809dd36193cc195377f56">FEATURE_ID</a> BadFeat[], <a class="el" href="a00660.html#a8c3e30dcc19d515ce47bc6db3b02cf84">INT_CLASS</a> IClass, <a class="el" href="a00619.html#a1e42b7a7460500ee9e8b3d09a1f0330d">ADAPT_CLASS</a> Class, <a class="el" href="a00772.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a> <a class="el" href="a00091.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a>)</td></tr>
<tr class="memitem:a59900939784eac1e2e6ebfec1f82bb58 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a59900939784eac1e2e6ebfec1f82bb58">MakeNewTemporaryConfig</a> (<a class="el" href="a00619.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> Templates, <a class="el" href="a00805.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId, int FontinfoId, int NumFeatures, <a class="el" href="a00660.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> Features, <a class="el" href="a00678.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a> FloatFeatures)</td></tr>
<tr class="memitem:aefb0cfe284dd67601798f7ae510b787f inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#aefb0cfe284dd67601798f7ae510b787f">MakePermanent</a> (<a class="el" href="a00619.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> Templates, <a class="el" href="a00805.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId, int ConfigId, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00346.html">TBLOB</a> *Blob)</td></tr>
<tr class="memitem:aad46f714847619694546e9ea2784402c inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#aad46f714847619694546e9ea2784402c">PrintAdaptiveMatchResults</a> (FILE *File, <a class="el" href="a00032.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr class="memitem:af15e83a02b369b820d40c8920b4275e8 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#af15e83a02b369b820d40c8920b4275e8">RemoveExtraPuncs</a> (<a class="el" href="a00032.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr class="memitem:a0e35029ac0c77ad18d35f08c27c99d15 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a0e35029ac0c77ad18d35f08c27c99d15">RemoveBadMatches</a> (<a class="el" href="a00032.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr class="memitem:a5a3045639a3db979a8d1eb6dc4343e3b inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a5a3045639a3db979a8d1eb6dc4343e3b">SetAdaptiveThreshold</a> (<a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Threshold)</td></tr>
<tr class="memitem:abf81bc54d31591d9da5f95529583b99d inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#abf81bc54d31591d9da5f95529583b99d">ShowBestMatchFor</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00805.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId, int shape_id, <a class="el" href="a00577.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> AdaptiveOn, <a class="el" href="a00577.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> PreTrainedOn, <a class="el" href="a00032.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr class="memitem:a6fc9e3752efb2fe0d74920e082a59bd7 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00319.html">STRING</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a6fc9e3752efb2fe0d74920e082a59bd7">ClassIDToDebugStr</a> (const <a class="el" href="a00200.html">INT_TEMPLATES_STRUCT</a> *templates, int class_id, int config_id) const </td></tr>
<tr class="memitem:a1002c7f80352c6ceac4af82ee35e5e06 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a1002c7f80352c6ceac4af82ee35e5e06">ClassAndConfigIDToFontOrShapeID</a> (int class_id, int int_result_config) const </td></tr>
<tr class="memitem:a319cfe59c8e82e697375a351e3c604b3 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a319cfe59c8e82e697375a351e3c604b3">ShapeIDToClassID</a> (int shape_id) const </td></tr>
<tr class="memitem:ab7022031939236cac2fe6b661e6f657b inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ab7022031939236cac2fe6b661e6f657b">BaselineClassifier</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00619.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a> Templates, <a class="el" href="a00032.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr class="memitem:a0e552819a03cc6f169e18a58b16696a6 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a0e552819a03cc6f169e18a58b16696a6">CharNormClassifier</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00660.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> Templates, <a class="el" href="a00032.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr class="memitem:aa3907b770bdeb45e652e0ab122568cf4 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#aa3907b770bdeb45e652e0ab122568cf4">CharNormTrainingSample</a> (bool pruner_only, const <a class="el" href="a00376.html">TrainingSample</a> &amp;<a class="el" href="a00288.html">sample</a>, <a class="el" href="a00175.html">GenericVector</a>&lt; <a class="el" href="a00306.html">ShapeRating</a> &gt; *results)</td></tr>
<tr class="memitem:af4c186f6ec1019d17912d2cf36326f1f inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#af4c186f6ec1019d17912d2cf36326f1f">GetAmbiguities</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00805.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> CorrectClass)</td></tr>
<tr class="memitem:a8575af5f97d4037d4fdd2e21b477dd38 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a8575af5f97d4037d4fdd2e21b477dd38">DoAdaptiveMatch</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00032.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr class="memitem:a53629ef3f5562677ae096bbce864e5ab inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a53629ef3f5562677ae096bbce864e5ab">AdaptToChar</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00805.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> ClassId, int FontinfoId, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Threshold)</td></tr>
<tr class="memitem:aaa7b4a01a6f9bd1f088982a4011274e5 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#aaa7b4a01a6f9bd1f088982a4011274e5">DisplayAdaptedChar</a> (<a class="el" href="a00346.html">TBLOB</a> *blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00195.html">INT_CLASS_STRUCT</a> *int_class)</td></tr>
<tr class="memitem:ac1f369f9a59739a588a4d84f60bac6c1 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ac1f369f9a59739a588a4d84f60bac6c1">AdaptableWord</a> (<a class="el" href="a00381.html">TWERD</a> *Word, const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;BestChoiceWord, const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;RawChoiceWord)</td></tr>
<tr class="memitem:ae5e4880c5acc91b77308fbd6ab706b13 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ae5e4880c5acc91b77308fbd6ab706b13">EndAdaptiveClassifier</a> ()</td></tr>
<tr class="memitem:a8c350afec3f633660d20eb98226a40d1 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a8c350afec3f633660d20eb98226a40d1">PrintAdaptiveStatistics</a> (FILE *File)</td></tr>
<tr class="memitem:ae66827073cdeea6a59dd16fd7cf5d297 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ae66827073cdeea6a59dd16fd7cf5d297">SettupPass1</a> ()</td></tr>
<tr class="memitem:a5ad207ab75e8a69c35c225313268788b inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a5ad207ab75e8a69c35c225313268788b">SettupPass2</a> ()</td></tr>
<tr class="memitem:a1f058451e32538b4dc2c853b82bc6600 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a1f058451e32538b4dc2c853b82bc6600">AdaptiveClassifier</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, BLOB_CHOICE_LIST *Choices, <a class="el" href="a00658.html#aad58739a624ab51ab180aac3342c6efc">CLASS_PRUNER_RESULTS</a> cp_results)</td></tr>
<tr class="memitem:a8a68035cfc5ee866f2d39360072ab77c inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a8a68035cfc5ee866f2d39360072ab77c">ClassifyAsNoise</a> (<a class="el" href="a00032.html">ADAPT_RESULTS</a> *Results)</td></tr>
<tr class="memitem:a350f6cb6e7ce9f53ae468908a91c6148 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a350f6cb6e7ce9f53ae468908a91c6148">ResetAdaptiveClassifierInternal</a> ()</td></tr>
<tr class="memitem:a4bf0e47e0ae00a0cec215a887cef8c65 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a4bf0e47e0ae00a0cec215a887cef8c65">GetBaselineFeatures</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00660.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> Templates, <a class="el" href="a00660.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> IntFeatures, <a class="el" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *CharNormArray, <a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *BlobLength)</td></tr>
<tr class="memitem:a1076d5d08686e48d39ef3eb07e711fb6 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a1076d5d08686e48d39ef3eb07e711fb6">GetCharNormFeatures</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00660.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> Templates, <a class="el" href="a00660.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> IntFeatures, <a class="el" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *PrunerNormArray, <a class="el" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *CharNormArray, <a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *BlobLength, <a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *FeatureOutlineIndex)</td></tr>
<tr class="memitem:a8f49de2f8da7b066bd8ece0641edcca1 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a8f49de2f8da7b066bd8ece0641edcca1">ComputeCharNormArrays</a> (<a class="el" href="a00155.html">FEATURE_STRUCT</a> *norm_feature, <a class="el" href="a00200.html">INT_TEMPLATES_STRUCT</a> *templates, <a class="el" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *char_norm_array, <a class="el" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *pruner_array)</td></tr>
<tr class="memitem:a786c5f6e2a5cd8aac2ed4dd89af84fea inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a786c5f6e2a5cd8aac2ed4dd89af84fea">TempConfigReliable</a> (<a class="el" href="a00805.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> class_id, const <a class="el" href="a00619.html#a844d69e71035a4a60207cedab3521f9e">TEMP_CONFIG</a> &amp;config)</td></tr>
<tr class="memitem:a954c9085f840572567462c9e0ff3551a inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a954c9085f840572567462c9e0ff3551a">UpdateAmbigsGroup</a> (<a class="el" href="a00805.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a> class_id, const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00346.html">TBLOB</a> *Blob)</td></tr>
<tr class="memitem:a62ffff7932680b25784bfca5079ce347 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a62ffff7932680b25784bfca5079ce347">ResetFeaturesHaveBeenExtracted</a> ()</td></tr>
<tr class="memitem:aa2f1ff296efea11aabd476cba49a39c5 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#aa2f1ff296efea11aabd476cba49a39c5">AdaptiveClassifierIsFull</a> ()</td></tr>
<tr class="memitem:ab72f687048a2e1eba44b8ae2cfb07fa9 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ab72f687048a2e1eba44b8ae2cfb07fa9">LooksLikeGarbage</a> (const <a class="el" href="a00126.html">DENORM</a> &amp;denorm, <a class="el" href="a00346.html">TBLOB</a> *blob)</td></tr>
<tr class="memitem:a6e36e01c8147d95bbd64c6609e1b8f45 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a6e36e01c8147d95bbd64c6609e1b8f45">RefreshDebugWindow</a> (<a class="el" href="a00294.html">ScrollView</a> **win, const char *msg, int y_offset, const <a class="el" href="a00347.html">TBOX</a> &amp;wbox)</td></tr>
<tr class="memitem:ac0de90c99552cdc286f934d344790085 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ac0de90c99552cdc286f934d344790085">ClearCharNormArray</a> (<a class="el" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *char_norm_array)</td></tr>
<tr class="memitem:a3abc0b280fe8a88d57a35d2d578ef47a inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a3abc0b280fe8a88d57a35d2d578ef47a">ComputeIntCharNormArray</a> (const <a class="el" href="a00155.html">FEATURE_STRUCT</a> &amp;norm_feature, <a class="el" href="a00577.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> *char_norm_array)</td></tr>
<tr class="memitem:ae1f3fc88bf28a4a169273bcf2515610e inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ae1f3fc88bf28a4a169273bcf2515610e">ComputeIntFeatures</a> (<a class="el" href="a00678.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a> Features, <a class="el" href="a00660.html#a544a6c7d78d215e9a4da202daecfeb52">INT_FEATURE_ARRAY</a> IntFeatures)</td></tr>
<tr class="memitem:a98459996e5e6ab1dc1de71411fd32b89 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00660.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a98459996e5e6ab1dc1de71411fd32b89">ReadIntTemplates</a> (FILE *File)</td></tr>
<tr class="memitem:a81e8a5e5adfc60146ea3eb5b60936dd9 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a81e8a5e5adfc60146ea3eb5b60936dd9">WriteIntTemplates</a> (FILE *File, <a class="el" href="a00660.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a> Templates, const <a class="el" href="a00387.html">UNICHARSET</a> &amp;target_unicharset)</td></tr>
<tr class="memitem:a76f4e180bcab3a7cd2da75d42b524eba inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00805.html#afdabe64d68192a21409dd58c119709f8">CLASS_ID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a76f4e180bcab3a7cd2da75d42b524eba">GetClassToDebug</a> (const char *Prompt, bool *adaptive_on, bool *pretrained_on, int *shape_id)</td></tr>
<tr class="memitem:a44e1b8840fb841e621b902f3abdd8522 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a44e1b8840fb841e621b902f3abdd8522">ShowMatchDisplay</a> ()</td></tr>
<tr class="memitem:a62597f182a5e23c3b8a030c06e699e99 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00388.html">UnicityTable</a>&lt; <a class="el" href="a00163.html">FontInfo</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a62597f182a5e23c3b8a030c06e699e99">get_fontinfo_table</a> ()</td></tr>
<tr class="memitem:a84d0021ef7ddbc98196801f9808fa33d inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00388.html">UnicityTable</a>&lt; <a class="el" href="a00165.html">FontSet</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a84d0021ef7ddbc98196801f9808fa33d">get_fontset_table</a> ()</td></tr>
<tr class="memitem:a8cbc3c255f888cc49c713c0a7408d2ad inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a8cbc3c255f888cc49c713c0a7408d2ad">NormalizeOutlines</a> (<a class="el" href="a00407.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> Outlines, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *XScale, <a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> *YScale)</td></tr>
<tr class="memitem:af1ef43f77139dc879d27a510adcb4bb3 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00678.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#af1ef43f77139dc879d27a510adcb4bb3">ExtractOutlineFeatures</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob)</td></tr>
<tr class="memitem:ad6d1f9f29655ffe18fab3832b113e00b inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00678.html#ac0c2f756ba2c7f34a21efbe13a49ac39">FEATURE_SET</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ad6d1f9f29655ffe18fab3832b113e00b">ExtractPicoFeatures</a> (<a class="el" href="a00346.html">TBLOB</a> *Blob)</td></tr>
<tr class="memitem:a3cc9d5fe19f6d641fdfb133179ea70a4 inherit pub_methods_a00091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a3cc9d5fe19f6d641fdfb133179ea70a4">ReadClassFile</a> ()</td></tr>
<tr class="inherit_header pub_methods_a00069"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_a00069')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="a00069.html">tesseract::CCStruct</a></td></tr>
<tr class="memitem:a1623ce99161fc99916a04260cf25ccd8 inherit pub_methods_a00069"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00069.html#a1623ce99161fc99916a04260cf25ccd8">CCStruct</a> ()</td></tr>
<tr class="memitem:aee94dd326def50877bc7fb76ba5277c9 inherit pub_methods_a00069"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00069.html#aee94dd326def50877bc7fb76ba5277c9">~CCStruct</a> ()</td></tr>
<tr class="inherit_header pub_methods_a00120"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_a00120')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="a00120.html">tesseract::CUtil</a></td></tr>
<tr class="memitem:a2c90e0e7fb8ec596ecb98e096eb7c418 inherit pub_methods_a00120"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00120.html#a2c90e0e7fb8ec596ecb98e096eb7c418">CUtil</a> ()</td></tr>
<tr class="memitem:af7acf39fa169851db30363d8b06a77b6 inherit pub_methods_a00120"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00120.html#af7acf39fa169851db30363d8b06a77b6">~CUtil</a> ()</td></tr>
<tr class="memitem:a4fc3c25333d98fa5d7d8b899724bb8ab inherit pub_methods_a00120"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00120.html#a4fc3c25333d98fa5d7d8b899724bb8ab">read_variables</a> (const char *filename, bool global_only)</td></tr>
<tr class="inherit_header pub_methods_a00070"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_a00070')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="a00070.html">tesseract::CCUtil</a></td></tr>
<tr class="memitem:af688e380af69364e79fddf43c3197e3c inherit pub_methods_a00070"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00070.html#af688e380af69364e79fddf43c3197e3c">CCUtil</a> ()</td></tr>
<tr class="memitem:adeaf195d61d6a5eaab4bcbb27a6f1af5 inherit pub_methods_a00070"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00070.html#adeaf195d61d6a5eaab4bcbb27a6f1af5">~CCUtil</a> ()</td></tr>
<tr class="memitem:ac50cd898d98a54cec02689858f515728 inherit pub_methods_a00070"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00070.html#ac50cd898d98a54cec02689858f515728">main_setup</a> (const char *argv0, const char *basename)</td></tr>
<tr class="memitem:ac993425386ae1f73762107299ee8a114 inherit pub_methods_a00070"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00260.html">ParamsVectors</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a0dcc862e7e80e66c451e8e98b534ca46"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a0dcc862e7e80e66c451e8e98b534ca46">merge_fragments_in_matrix</a> = <a class="el" href="a00777.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td></tr>
<tr class="memitem:a1d72dac6cc8ddbff1ba7c911d7d2d0bb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a1d72dac6cc8ddbff1ba7c911d7d2d0bb">wordrec_no_block</a> = <a class="el" href="a00777.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memitem:aba19336c1e635f22b3c27024afd07fed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#aba19336c1e635f22b3c27024afd07fed">wordrec_enable_assoc</a> = <a class="el" href="a00777.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td></tr>
<tr class="memitem:a447f3fa5c50ca545e0a49887ee669ff8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a447f3fa5c50ca545e0a49887ee669ff8">force_word_assoc</a> = <a class="el" href="a00777.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memitem:a57c3675d967208936be65a14e5b64c7d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a57c3675d967208936be65a14e5b64c7d">wordrec_num_seg_states</a> = 30</td></tr>
<tr class="memitem:abbb36fc5e6f3b89797c155cfce0b0841"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#abbb36fc5e6f3b89797c155cfce0b0841">wordrec_worst_state</a> = 1</td></tr>
<tr class="memitem:a62f9bd7c796160d6fad61ba616e67ead"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a62f9bd7c796160d6fad61ba616e67ead">fragments_guide_chopper</a> = <a class="el" href="a00777.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memitem:a34abe5c1b41feff68500d1b83a1f891d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a34abe5c1b41feff68500d1b83a1f891d">repair_unchopped_blobs</a> = 1</td></tr>
<tr class="memitem:a57ae3e0529a624fd3677f96d5b43fcc8"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a57ae3e0529a624fd3677f96d5b43fcc8">tessedit_certainty_threshold</a> = -2.25</td></tr>
<tr class="memitem:a3f1c04cfbc1650eae6fc981984717248"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a> = 0</td></tr>
<tr class="memitem:adcf4728e9f36b1c55a024165a31ca2e4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#adcf4728e9f36b1c55a024165a31ca2e4">chop_enable</a> = 1</td></tr>
<tr class="memitem:a8914016a85c92a468b1d1da3eda53695"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a8914016a85c92a468b1d1da3eda53695">chop_vertical_creep</a> = 0</td></tr>
<tr class="memitem:a14ec030cc0189e71e05ea6630a1abbf5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a14ec030cc0189e71e05ea6630a1abbf5">chop_split_length</a> = 10000</td></tr>
<tr class="memitem:a542ce310766b22a01d277a0751c6986e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a542ce310766b22a01d277a0751c6986e">chop_same_distance</a> = 2</td></tr>
<tr class="memitem:ad9e49481be94c7fd0fb0a1a3f38ea605"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ad9e49481be94c7fd0fb0a1a3f38ea605">chop_min_outline_points</a> = 6</td></tr>
<tr class="memitem:ab6afc69fe3401fb2ffd2ab64a19c8824"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ab6afc69fe3401fb2ffd2ab64a19c8824">chop_inside_angle</a> = -50</td></tr>
<tr class="memitem:aa87cc41f196b1779bec5e1040c4f857e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#aa87cc41f196b1779bec5e1040c4f857e">chop_min_outline_area</a> = 2000</td></tr>
<tr class="memitem:aefabcf9d889b0465eb484fff5a09e93a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#aefabcf9d889b0465eb484fff5a09e93a">chop_split_dist_knob</a> = 0.5</td></tr>
<tr class="memitem:ad362b437458be7cc17aa39e01d36c17e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ad362b437458be7cc17aa39e01d36c17e">chop_overlap_knob</a> = 0.9</td></tr>
<tr class="memitem:a7b115ea8fffc0f54152d294c71da964d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a7b115ea8fffc0f54152d294c71da964d">chop_center_knob</a> = 0.15</td></tr>
<tr class="memitem:a1e5af8d3ffa2cc52de487e7556a8fdf0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a1e5af8d3ffa2cc52de487e7556a8fdf0">chop_sharpness_knob</a> = 0.06</td></tr>
<tr class="memitem:aa63e4f7808cf2b9a60a11012cb7aee01"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#aa63e4f7808cf2b9a60a11012cb7aee01">chop_width_change_knob</a> = 5.0</td></tr>
<tr class="memitem:ac696a875283d1ce3e888e1b63fd52d9f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ac696a875283d1ce3e888e1b63fd52d9f">chop_ok_split</a> = 100.0</td></tr>
<tr class="memitem:ad18f0e1c62f90e2be42190a720158862"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ad18f0e1c62f90e2be42190a720158862">chop_good_split</a> = 50.0</td></tr>
<tr class="memitem:a0db358c94208627661f5f1cf44ff9d28"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a0db358c94208627661f5f1cf44ff9d28">chop_x_y_weight</a> = 3</td></tr>
<tr class="memitem:a2d79e213378c782ac3de5e92ae2ee41c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a2d79e213378c782ac3de5e92ae2ee41c">segment_adjust_debug</a> = 0</td></tr>
<tr class="memitem:a613a7dc22729f2cb084bc7093a0a4088"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a613a7dc22729f2cb084bc7093a0a4088">assume_fixed_pitch_char_segment</a> = <a class="el" href="a00777.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memitem:ab5afccbd096fe5f2ce5e3a7ada77a698"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ab5afccbd096fe5f2ce5e3a7ada77a698">use_new_state_cost</a> = <a class="el" href="a00777.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memitem:a48537af11d756181ab3c13d14154ec3f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a48537af11d756181ab3c13d14154ec3f">heuristic_segcost_rating_base</a> = 1.25</td></tr>
<tr class="memitem:a6db610e3739b7660036de4498efd0cc4"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a6db610e3739b7660036de4498efd0cc4">heuristic_weight_rating</a> = 1</td></tr>
<tr class="memitem:ae123123f79f4caa864aa437e93872551"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ae123123f79f4caa864aa437e93872551">heuristic_weight_width</a> = 0</td></tr>
<tr class="memitem:a5305fb44c26a61863bb5f7b646fc5bd9"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a5305fb44c26a61863bb5f7b646fc5bd9">heuristic_weight_seamcut</a> = 0</td></tr>
<tr class="memitem:a3083609f8ad7c4895647674956163c04"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a3083609f8ad7c4895647674956163c04">heuristic_max_char_wh_ratio</a> = 2.0</td></tr>
<tr class="memitem:a15e6789d11062602e044c699bbd9b3aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> = 0</td></tr>
<tr class="memitem:a76e95cb7cbfe636ab00ec46150b5524d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a76e95cb7cbfe636ab00ec46150b5524d">wordrec_debug_blamer</a> = false</td></tr>
<tr class="memitem:a5f360cd76704a08b03a4738a97e8457b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a5f360cd76704a08b03a4738a97e8457b">wordrec_run_blamer</a> = false</td></tr>
<tr class="memitem:ae9c39326c0ed2eaf67c30939714616ba"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ae9c39326c0ed2eaf67c30939714616ba">enable_new_segsearch</a> = false</td></tr>
<tr class="memitem:a30bd78320448ef425666157d2ff672db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a30bd78320448ef425666157d2ff672db">segsearch_debug_level</a> = 0</td></tr>
<tr class="memitem:a0a0cfc9fb11d9ecf6961d0cc655f9070"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a0a0cfc9fb11d9ecf6961d0cc655f9070">segsearch_max_pain_points</a> = 2000</td></tr>
<tr class="memitem:a7d7641f6361f78664fb541f5ce33fe1b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a7d7641f6361f78664fb541f5ce33fe1b">segsearch_max_futile_classifications</a> = 10</td></tr>
<tr class="memitem:a8fa843163c3e8785a957e422b9256d35"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a8fa843163c3e8785a957e422b9256d35">segsearch_max_char_wh_ratio</a> = 2.0</td></tr>
<tr class="memitem:acb3f291e547f6019e53c8eb0f3b48e70"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#acb3f291e547f6019e53c8eb0f3b48e70">segsearch_max_fixed_pitch_char_wh_ratio</a> = 2.0</td></tr>
<tr class="memitem:acb91792cc7855324b0a6f495defe3218"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#acb91792cc7855324b0a6f495defe3218">save_alt_choices</a> = false</td></tr>
<tr class="memitem:a3d9fc3b086e0f174a2cd602ea8f421c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00214.html">LanguageModel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a></td></tr>
<tr class="memitem:a671c4b102b976c600adc3bf60ee44323"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a671c4b102b976c600adc3bf60ee44323">pass2_ok_split</a></td></tr>
<tr class="memitem:ade3cecfe9b377045db0abe2d06762c1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ade3cecfe9b377045db0abe2d06762c1e">pass2_seg_states</a></td></tr>
<tr class="memitem:a488e4047c19dcd34c6ce55fa08731565"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a></td></tr>
<tr class="memitem:af285813a72895f9b09f4e0f3021e721c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#af285813a72895f9b09f4e0f3021e721c">num_pushed</a></td></tr>
<tr class="memitem:abc8f5ea0bc5278f6a3ba1f91b3e797e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#abc8f5ea0bc5278f6a3ba1f91b3e797e3">num_popped</a></td></tr>
<tr class="memitem:a7518e041a8ddab1d1a2b7e609553b8e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00054.html">BlobMatchTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a7518e041a8ddab1d1a2b7e609553b8e3">blob_match_table</a></td></tr>
<tr class="memitem:af7a36436e7e7fd0691bc093814fc2b62"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00948.html#ab48ca2435a6b02cde81b7554ce0160e3">EVALUATION_ARRAY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#af7a36436e7e7fd0691bc093814fc2b62">last_segmentation</a></td></tr>
<tr class="memitem:a143608f482c6c0c4f312740e6a5f5fd9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a143608f482c6c0c4f312740e6a5f5fd9">prev_word_best_choice_</a></td></tr>
<tr class="memitem:acd86faf2d9076330828b3738d39c6ecd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00175.html">GenericVector</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#acd86faf2d9076330828b3738d39c6ecd">blame_reasons_</a></td></tr>
<tr class="memitem:a7a4f5e2cb7957a5decbc91eb2d31f87c"><td class="memItemLeft" align="right" valign="top">void(Wordrec::*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a7a4f5e2cb7957a5decbc91eb2d31f87c">fill_lattice_</a> )(const <a class="el" href="a00228.html">MATRIX</a> &amp;ratings, const <a class="el" href="a00407.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> &amp;best_choices, const <a class="el" href="a00387.html">UNICHARSET</a> &amp;<a class="el" href="a00070.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr class="inherit_header pub_attribs_a00091"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_a00091')"><img src="closed.png" alt="-"/>&nbsp;Public Attributes inherited from <a class="el" href="a00091.html">tesseract::Classify</a></td></tr>
<tr class="memitem:a22717c4d299d3a52683ad90114b20200 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a22717c4d299d3a52683ad90114b20200">prioritize_division</a> = <a class="el" href="a00777.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memitem:a96f1213af9f43f2ec0ab9e22f32da3b6 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a96f1213af9f43f2ec0ab9e22f32da3b6">tessedit_single_match</a> = <a class="el" href="a00777.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memitem:a7691700e9742ecdc10e0f8ee75682991 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a7691700e9742ecdc10e0f8ee75682991">classify_enable_learning</a> = true</td></tr>
<tr class="memitem:a0f934f0b39cb869d2a4973269fb696cf inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a0f934f0b39cb869d2a4973269fb696cf">classify_debug_level</a> = 0</td></tr>
<tr class="memitem:aa92ef2f6a1f0e726d576a59644c3cc63 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#aa92ef2f6a1f0e726d576a59644c3cc63">classify_norm_method</a> = <a class="el" href="a00670.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a></td></tr>
<tr class="memitem:a7bef23fa815b3c02261800ca82b05911 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a7bef23fa815b3c02261800ca82b05911">classify_char_norm_range</a> = 0.2</td></tr>
<tr class="memitem:a8ffda27cc071fa6c63c406fe9749f276 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a8ffda27cc071fa6c63c406fe9749f276">classify_min_norm_scale_x</a> = 0.0</td></tr>
<tr class="memitem:a3f89a54fbee53fa65e3d2c2947dab449 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a3f89a54fbee53fa65e3d2c2947dab449">classify_max_norm_scale_x</a> = 0.325</td></tr>
<tr class="memitem:a0d1928e7dac3c17776220d35f08a48ec inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a0d1928e7dac3c17776220d35f08a48ec">classify_min_norm_scale_y</a> = 0.0</td></tr>
<tr class="memitem:addf6334cb29c021e52587f20ac5b30b2 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#addf6334cb29c021e52587f20ac5b30b2">classify_max_norm_scale_y</a> = 0.325</td></tr>
<tr class="memitem:a746dbbd1c99e99f3d213077cceedf80e inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a746dbbd1c99e99f3d213077cceedf80e">tess_cn_matching</a> = 0</td></tr>
<tr class="memitem:a85fcc9966cddbc38adf1014dd0cd778c inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a85fcc9966cddbc38adf1014dd0cd778c">tess_bn_matching</a> = 0</td></tr>
<tr class="memitem:adaa9bf9e188634ffa99c83204be2129f inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#adaa9bf9e188634ffa99c83204be2129f">classify_enable_adaptive_matcher</a> = 1</td></tr>
<tr class="memitem:a52c6bf81f09a61859f999707e37c47f0 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a52c6bf81f09a61859f999707e37c47f0">classify_use_pre_adapted_templates</a> = 0</td></tr>
<tr class="memitem:a27fe54e49f64e61f40b4e50e8ff4084c inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a27fe54e49f64e61f40b4e50e8ff4084c">classify_save_adapted_templates</a> = 0</td></tr>
<tr class="memitem:a2420bb00ab392215cbc8b5f72d9cf81a inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a2420bb00ab392215cbc8b5f72d9cf81a">classify_enable_adaptive_debugger</a> = 0</td></tr>
<tr class="memitem:a59d2ce9a817ab97d37a459ca2459cf8e inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a59d2ce9a817ab97d37a459ca2459cf8e">matcher_debug_level</a> = 0</td></tr>
<tr class="memitem:a3bfadb1d56669868fe7d18e12a7716dc inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a3bfadb1d56669868fe7d18e12a7716dc">matcher_debug_flags</a> = 0</td></tr>
<tr class="memitem:af9e34f61db55f7f312f8e1531b2368bc inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#af9e34f61db55f7f312f8e1531b2368bc">classify_learning_debug_level</a> = 0</td></tr>
<tr class="memitem:adc3a809a1a219f741a9e45a32e0d11bc inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#adc3a809a1a219f741a9e45a32e0d11bc">matcher_good_threshold</a> = 0.125</td></tr>
<tr class="memitem:a8f17cd68516b18d7a0aaba311585a8ab inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a8f17cd68516b18d7a0aaba311585a8ab">matcher_great_threshold</a> = 0.0</td></tr>
<tr class="memitem:a3d9ace4f4ae0ddf01942ced19410adbe inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a3d9ace4f4ae0ddf01942ced19410adbe">matcher_perfect_threshold</a> = 0.02</td></tr>
<tr class="memitem:a10595e84248f68a98f8e73bcdb6ae89a inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a10595e84248f68a98f8e73bcdb6ae89a">matcher_bad_match_pad</a> = 0.15</td></tr>
<tr class="memitem:a7940573dfb85992433c6f51965a9fea5 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a7940573dfb85992433c6f51965a9fea5">matcher_rating_margin</a> = 0.1</td></tr>
<tr class="memitem:a9723b1f4a341f42ddfc68d2f531c7dd3 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a9723b1f4a341f42ddfc68d2f531c7dd3">matcher_avg_noise_size</a> = 12.0</td></tr>
<tr class="memitem:a727f2429705dabdd078d6748f0e81c42 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a727f2429705dabdd078d6748f0e81c42">matcher_permanent_classes_min</a> = 1</td></tr>
<tr class="memitem:a33bc8d687ec0504c697ac0e1ace5567d inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a33bc8d687ec0504c697ac0e1ace5567d">matcher_min_examples_for_prototyping</a> = 3</td></tr>
<tr class="memitem:ad47099cfac2701d8fe3a24dd12eab0e1 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ad47099cfac2701d8fe3a24dd12eab0e1">matcher_sufficient_examples_for_prototyping</a> = 5</td></tr>
<tr class="memitem:a76bc2aed534982a6b67afe8a6653b04f inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a76bc2aed534982a6b67afe8a6653b04f">matcher_clustering_max_angle_delta</a> = 0.015</td></tr>
<tr class="memitem:a67a98c273b9c1b7cc951fcb20e376bf3 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a67a98c273b9c1b7cc951fcb20e376bf3">classify_misfit_junk_penalty</a> = 0.0</td></tr>
<tr class="memitem:ab2ed08d2587e66a131f7fcd229102566 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ab2ed08d2587e66a131f7fcd229102566">rating_scale</a> = 1.5</td></tr>
<tr class="memitem:aa220c70c7e0b0f7b0276d421c95feedd inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#aa220c70c7e0b0f7b0276d421c95feedd">certainty_scale</a> = 20.0</td></tr>
<tr class="memitem:a0be36efceb5fcf41dfbc032516af2ace inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a0be36efceb5fcf41dfbc032516af2ace">tessedit_class_miss_scale</a> = 0.00390625</td></tr>
<tr class="memitem:a3d74369343952e81efa5ac8858d5e9d1 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a3d74369343952e81efa5ac8858d5e9d1">classify_adapt_proto_threshold</a> = 230</td></tr>
<tr class="memitem:af722952ac0ab0339ade3abbbe10f8b6b inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#af722952ac0ab0339ade3abbbe10f8b6b">classify_adapt_feature_threshold</a> = 230</td></tr>
<tr class="memitem:ab9c25bf0ebc01c57728e19b2bbc980ef inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ab9c25bf0ebc01c57728e19b2bbc980ef">disable_character_fragments</a> = <a class="el" href="a00777.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td></tr>
<tr class="memitem:a342dfc4f244244bd1bc211ea910e2b12 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a342dfc4f244244bd1bc211ea910e2b12">classify_character_fragments_garbage_certainty_threshold</a> = -3.0</td></tr>
<tr class="memitem:a0c8e4bf5e3032c6468b909b6aca7f416 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a0c8e4bf5e3032c6468b909b6aca7f416">classify_debug_character_fragments</a> = <a class="el" href="a00777.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memitem:a08873fa3ea379656484c07f606f8a09c inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a08873fa3ea379656484c07f606f8a09c">matcher_debug_separate_windows</a> = <a class="el" href="a00777.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memitem:abdd8831d44ce5ea36f7bbee1ed9c4e8a inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#abdd8831d44ce5ea36f7bbee1ed9c4e8a">classify_learn_debug_str</a> = &quot;&quot;</td></tr>
<tr class="memitem:a6e0102d0d21b6151893a199cc84a6e93 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a6e0102d0d21b6151893a199cc84a6e93">classify_class_pruner_threshold</a> = 229</td></tr>
<tr class="memitem:a406c1644ce61dfb376ae9975f89c54ba inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a406c1644ce61dfb376ae9975f89c54ba">classify_class_pruner_multiplier</a> = 30</td></tr>
<tr class="memitem:a2f3faf7d282a1b58b10b3866693a4f08 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a2f3faf7d282a1b58b10b3866693a4f08">classify_cp_cutoff_strength</a> = 7</td></tr>
<tr class="memitem:acab8de2f560b04b48191f60099e4244b inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#acab8de2f560b04b48191f60099e4244b">classify_integer_matcher_multiplier</a> = 14</td></tr>
<tr class="memitem:a64383806f917e682c4a644efdd71d530 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00660.html#ab59629800b7869803b0af0f2f5db1627">INT_TEMPLATES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a64383806f917e682c4a644efdd71d530">PreTrainedTemplates</a></td></tr>
<tr class="memitem:a49c2bec2694a12cb6518001d8193d58d inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00619.html#a41c6dcad3fe69d675809c177e5537812">ADAPT_TEMPLATES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a49c2bec2694a12cb6518001d8193d58d">AdaptedTemplates</a></td></tr>
<tr class="memitem:a08295fdeacbf1d536337f542320e86e2 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00772.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a08295fdeacbf1d536337f542320e86e2">AllProtosOn</a></td></tr>
<tr class="memitem:a3306f7dc2f0df8c08a9933493262a2c9 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00772.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a3306f7dc2f0df8c08a9933493262a2c9">PrunedProtos</a></td></tr>
<tr class="memitem:ada1ef7ff613927daa2838ba41eaa055f inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00772.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ada1ef7ff613927daa2838ba41eaa055f">AllConfigsOn</a></td></tr>
<tr class="memitem:a04608dab39f896c0358b42c228a7ef32 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00772.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a04608dab39f896c0358b42c228a7ef32">AllProtosOff</a></td></tr>
<tr class="memitem:a974e5b3b4ee8b184a3af4ba782750dd7 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00772.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a974e5b3b4ee8b184a3af4ba782750dd7">AllConfigsOff</a></td></tr>
<tr class="memitem:a26b1c76382f418bf5a78bad15b23b8ad inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00772.html#a584fa1e33e36d105f97bc7e7288fb259">BIT_VECTOR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a26b1c76382f418bf5a78bad15b23b8ad">TempProtoMask</a></td></tr>
<tr class="memitem:a7d0ccfd06421346d8cda0f1b76fd8516 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a7d0ccfd06421346d8cda0f1b76fd8516">EnableLearning</a></td></tr>
<tr class="memitem:ad4c94be5d5738afb4115a12cad2e3efa inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00240.html">NORM_PROTOS</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ad4c94be5d5738afb4115a12cad2e3efa">NormProtos</a></td></tr>
<tr class="memitem:ae6dea981b2f591921d798ea83b0fa455 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00388.html">UnicityTable</a>&lt; <a class="el" href="a00163.html">FontInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#ae6dea981b2f591921d798ea83b0fa455">fontinfo_table_</a></td></tr>
<tr class="memitem:a74a007a46ac907d2c8f61e9885143465 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00388.html">UnicityTable</a>&lt; <a class="el" href="a00165.html">FontSet</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a74a007a46ac907d2c8f61e9885143465">fontset_table_</a></td></tr>
<tr class="memitem:a048eceaa95452969dc6cc5d29d97e5cf inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a048eceaa95452969dc6cc5d29d97e5cf">il1_adaption_test</a> = 0</td></tr>
<tr class="memitem:a57e449d38b255fe82e61d88ded8b0020 inherit pub_attribs_a00091"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a57e449d38b255fe82e61d88ded8b0020">classify_bln_numeric_mode</a> = 0</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a904762fe91430c5094ccecb7e690e0e5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a904762fe91430c5094ccecb7e690e0e5">SegSearchDone</a> (int num_futile_classifications)</td></tr>
<tr class="memitem:a6bac0a6462577e2e1057057f03901a33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a6bac0a6462577e2e1057057f03901a33">UpdateSegSearchNodes</a> (int starting_col, SEG_SEARCH_PENDING_LIST *pending[], <a class="el" href="a00046.html">BestPathByColumn</a> *best_path_by_column[], <a class="el" href="a00088.html">CHUNKS_RECORD</a> *chunks_record, <a class="el" href="a00180.html">HEAP</a> *pain_points, <a class="el" href="a00045.html">BestChoiceBundle</a> *best_choice_bundle, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr class="memitem:ab9f95be1d701222b62b7f8920f5cb9e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#ab9f95be1d701222b62b7f8920f5cb9e5">ProcessSegSearchPainPoint</a> (float pain_point_priority, const <a class="el" href="a00230.html">MATRIX_COORD</a> &amp;pain_point, const <a class="el" href="a00395.html">WERD_CHOICE</a> *best_choice, SEG_SEARCH_PENDING_LIST *pending[], <a class="el" href="a00088.html">CHUNKS_RECORD</a> *chunks_record, <a class="el" href="a00180.html">HEAP</a> *pain_points, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr class="memitem:a8580282cf87b0e054ac1410cf4ffa0e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#a8580282cf87b0e054ac1410cf4ffa0e2">InitBlamerForSegSearch</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> *best_choice, <a class="el" href="a00088.html">CHUNKS_RECORD</a> *chunks_record, <a class="el" href="a00180.html">HEAP</a> *pain_points, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle, <a class="el" href="a00319.html">STRING</a> *blamer_debug)</td></tr>
<tr class="memitem:abbb02091c23e7be9370055704526102f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00401.html#abbb02091c23e7be9370055704526102f">FinishBlamerForSegSearch</a> (const <a class="el" href="a00395.html">WERD_CHOICE</a> *best_choice, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle, <a class="el" href="a00319.html">STRING</a> *blamer_debug)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_a00091"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_a00091')"><img src="closed.png" alt="-"/>&nbsp;Protected Attributes inherited from <a class="el" href="a00091.html">tesseract::Classify</a></td></tr>
<tr class="memitem:a093af2c004819e86bfff80ad88f10c37 inherit pro_attribs_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00201.html">IntegerMatcher</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a093af2c004819e86bfff80ad88f10c37">im_</a></td></tr>
<tr class="memitem:a6ebcfd2968c704f99efd40075ecdb138 inherit pro_attribs_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00151.html">FEATURE_DEFS_STRUCT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a6ebcfd2968c704f99efd40075ecdb138">feature_defs_</a></td></tr>
<tr class="memitem:a471b3e8f03ddc5281c167b37d8ddc5b5 inherit pro_attribs_a00091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00307.html">ShapeTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html#a471b3e8f03ddc5281c167b37d8ddc5b5">shape_table_</a></td></tr>
<tr class="inherit_header pro_attribs_a00069"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_a00069')"><img src="closed.png" alt="-"/>&nbsp;Protected Attributes inherited from <a class="el" href="a00069.html">tesseract::CCStruct</a></td></tr>
<tr class="memitem:af0134325da282ba2dacbb034cf59dde0 inherit pro_attribs_a00069"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00186.html">Image</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00069.html#af0134325da282ba2dacbb034cf59dde0">image_</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="a00987_source.html#l00091">91</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a05c88ec72e6bc64cc79471145906ab12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tesseract::Wordrec::Wordrec </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00986_source.html#l00026">26</a> of file <a class="el" href="a00986_source.html">wordrec.cpp</a>.</p>
<div class="fragment"><div class="line">                 :</div>
<div class="line">  <span class="comment">// control parameters</span></div>
<div class="line">  <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00401.html#a0dcc862e7e80e66c451e8e98b534ca46">merge_fragments_in_matrix</a>, <a class="code" href="a00409.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,</div>
<div class="line">              <span class="stringliteral">&quot;Merge the fragments in the ratings matrix and delete them&quot;</span></div>
<div class="line">              <span class="stringliteral">&quot; after merging&quot;</span>, <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00401.html#a1d72dac6cc8ddbff1ba7c911d7d2d0bb">wordrec_no_block</a>, <a class="code" href="a00409.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <span class="stringliteral">&quot;Don&#39;t output block information&quot;</span>,</div>
<div class="line">              <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00401.html#aba19336c1e635f22b3c27024afd07fed">wordrec_enable_assoc</a>, <a class="code" href="a00409.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <span class="stringliteral">&quot;Associator Enable&quot;</span>,</div>
<div class="line">              <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00401.html#a447f3fa5c50ca545e0a49887ee669ff8">force_word_assoc</a>, <a class="code" href="a00409.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,</div>
<div class="line">              <span class="stringliteral">&quot;force associator to run regardless of what enable_assoc is.&quot;</span></div>
<div class="line">              <span class="stringliteral">&quot;This is used for CJK where component grouping is necessary.&quot;</span>,</div>
<div class="line">              <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">CCUtil::params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00401.html#a57c3675d967208936be65a14e5b64c7d">wordrec_num_seg_states</a>, 30, <span class="stringliteral">&quot;Segmentation states&quot;</span>,</div>
<div class="line">             <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">CCUtil::params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#abbb36fc5e6f3b89797c155cfce0b0841">wordrec_worst_state</a>, 1.0, <span class="stringliteral">&quot;Worst segmentation state&quot;</span>,</div>
<div class="line">                <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00401.html#a62f9bd7c796160d6fad61ba616e67ead">fragments_guide_chopper</a>, <a class="code" href="a00409.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,</div>
<div class="line">              <span class="stringliteral">&quot;Use information from fragments to guide chopping process&quot;</span>,</div>
<div class="line">              <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00401.html#a34abe5c1b41feff68500d1b83a1f891d">repair_unchopped_blobs</a>, 1, <span class="stringliteral">&quot;Fix blobs that aren&#39;t chopped&quot;</span>,</div>
<div class="line">             <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#a57ae3e0529a624fd3677f96d5b43fcc8">tessedit_certainty_threshold</a>, -2.25, <span class="stringliteral">&quot;Good blob limit&quot;</span>,</div>
<div class="line">                <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a>, 0, <span class="stringliteral">&quot;Chop debug&quot;</span>,</div>
<div class="line">             <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00401.html#adcf4728e9f36b1c55a024165a31ca2e4">chop_enable</a>, 1, <span class="stringliteral">&quot;Chop enable&quot;</span>,</div>
<div class="line">              <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00401.html#a8914016a85c92a468b1d1da3eda53695">chop_vertical_creep</a>, 0, <span class="stringliteral">&quot;Vertical creep&quot;</span>,</div>
<div class="line">            <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00401.html#a14ec030cc0189e71e05ea6630a1abbf5">chop_split_length</a>, 10000, <span class="stringliteral">&quot;Split Length&quot;</span>,</div>
<div class="line">             <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00401.html#a542ce310766b22a01d277a0751c6986e">chop_same_distance</a>, 2, <span class="stringliteral">&quot;Same distance&quot;</span>,</div>
<div class="line">             <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00401.html#ad9e49481be94c7fd0fb0a1a3f38ea605">chop_min_outline_points</a>, 6, <span class="stringliteral">&quot;Min Number of Points on Outline&quot;</span>,</div>
<div class="line">             <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00401.html#ab6afc69fe3401fb2ffd2ab64a19c8824">chop_inside_angle</a>, -50, <span class="stringliteral">&quot;Min Inside Angle Bend&quot;</span>,</div>
<div class="line">             <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00401.html#aa87cc41f196b1779bec5e1040c4f857e">chop_min_outline_area</a>, 2000, <span class="stringliteral">&quot;Min Outline Area&quot;</span>,</div>
<div class="line">             <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#aefabcf9d889b0465eb484fff5a09e93a">chop_split_dist_knob</a>, 0.5, <span class="stringliteral">&quot;Split length adjustment&quot;</span>,</div>
<div class="line">                <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#ad362b437458be7cc17aa39e01d36c17e">chop_overlap_knob</a>, 0.9, <span class="stringliteral">&quot;Split overlap adjustment&quot;</span>,</div>
<div class="line">                <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#a7b115ea8fffc0f54152d294c71da964d">chop_center_knob</a>, 0.15, <span class="stringliteral">&quot;Split center adjustment&quot;</span>,</div>
<div class="line">                <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#a1e5af8d3ffa2cc52de487e7556a8fdf0">chop_sharpness_knob</a>, 0.06, <span class="stringliteral">&quot;Split sharpness adjustment&quot;</span>,</div>
<div class="line">                <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#aa63e4f7808cf2b9a60a11012cb7aee01">chop_width_change_knob</a>, 5.0, <span class="stringliteral">&quot;Width change adjustment&quot;</span>,</div>
<div class="line">                <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#ac696a875283d1ce3e888e1b63fd52d9f">chop_ok_split</a>, 100.0, <span class="stringliteral">&quot;OK split limit&quot;</span>,</div>
<div class="line">                <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#ad18f0e1c62f90e2be42190a720158862">chop_good_split</a>, 50.0, <span class="stringliteral">&quot;Good split limit&quot;</span>,</div>
<div class="line">                <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00401.html#a0db358c94208627661f5f1cf44ff9d28">chop_x_y_weight</a>, 3, <span class="stringliteral">&quot;X / Y  length weight&quot;</span>,</div>
<div class="line">             <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00401.html#a2d79e213378c782ac3de5e92ae2ee41c">segment_adjust_debug</a>, 0, <span class="stringliteral">&quot;Segmentation adjustment debug&quot;</span>,</div>
<div class="line">             <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00401.html#a613a7dc22729f2cb084bc7093a0a4088">assume_fixed_pitch_char_segment</a>, <a class="code" href="a00409.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,</div>
<div class="line">              <span class="stringliteral">&quot;include fixed-pitch heuristics in char segmentation&quot;</span>,</div>
<div class="line">              <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00401.html#ab5afccbd096fe5f2ce5e3a7ada77a698">use_new_state_cost</a>, <a class="code" href="a00409.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,</div>
<div class="line">              <span class="stringliteral">&quot;use new state cost heuristics for segmentation state evaluation&quot;</span>,</div>
<div class="line">              <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#a48537af11d756181ab3c13d14154ec3f">heuristic_segcost_rating_base</a>, 1.25,</div>
<div class="line">                <span class="stringliteral">&quot;base factor for adding segmentation cost into word rating.&quot;</span></div>
<div class="line">                <span class="stringliteral">&quot;It&#39;s a multiplying factor, the larger the value above 1, &quot;</span></div>
<div class="line">                <span class="stringliteral">&quot;the bigger the effect of segmentation cost.&quot;</span>,</div>
<div class="line">                <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#a6db610e3739b7660036de4498efd0cc4">heuristic_weight_rating</a>, 1.0,</div>
<div class="line">                <span class="stringliteral">&quot;weight associated with char rating in combined cost of state&quot;</span>,</div>
<div class="line">                <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#ae123123f79f4caa864aa437e93872551">heuristic_weight_width</a>, 1000.0,</div>
<div class="line">                <span class="stringliteral">&quot;weight associated with width evidence in combined cost of&quot;</span></div>
<div class="line">                <span class="stringliteral">&quot; state&quot;</span>, <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#a5305fb44c26a61863bb5f7b646fc5bd9">heuristic_weight_seamcut</a>, 0.0,</div>
<div class="line">                <span class="stringliteral">&quot;weight associated with seam cut in combined cost of state&quot;</span>,</div>
<div class="line">                <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#a3083609f8ad7c4895647674956163c04">heuristic_max_char_wh_ratio</a>, 2.0,</div>
<div class="line">                <span class="stringliteral">&quot;max char width-to-height ratio allowed in segmentation&quot;</span>,</div>
<div class="line">                <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a>, 0,</div>
<div class="line">             <span class="stringliteral">&quot;Debug level for wordrec&quot;</span>, <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00401.html#a76e95cb7cbfe636ab00ec46150b5524d">wordrec_debug_blamer</a>, <span class="keyword">false</span>,</div>
<div class="line">              <span class="stringliteral">&quot;Print blamer debug messages&quot;</span>, <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00401.html#a5f360cd76704a08b03a4738a97e8457b">wordrec_run_blamer</a>, <span class="keyword">false</span>,</div>
<div class="line">              <span class="stringliteral">&quot;Try to set the blame for errors&quot;</span>, <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00401.html#ae9c39326c0ed2eaf67c30939714616ba">enable_new_segsearch</a>, <span class="keyword">true</span>,</div>
<div class="line">                   <span class="stringliteral">&quot;Enable new segmentation search path.&quot;</span>, <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00401.html#a30bd78320448ef425666157d2ff672db">segsearch_debug_level</a>, 0,</div>
<div class="line">             <span class="stringliteral">&quot;SegSearch debug level&quot;</span>, <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00401.html#a0a0cfc9fb11d9ecf6961d0cc655f9070">segsearch_max_pain_points</a>, 2000,</div>
<div class="line">             <span class="stringliteral">&quot;Maximum number of pain points stored in the queue&quot;</span>,</div>
<div class="line">             <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a00401.html#a7d7641f6361f78664fb541f5ce33fe1b">segsearch_max_futile_classifications</a>, 10,</div>
<div class="line">             <span class="stringliteral">&quot;Maximum number of pain point classifications per word that&quot;</span></div>
<div class="line">             <span class="stringliteral">&quot;did not result in finding a better word choice.&quot;</span>,</div>
<div class="line">             <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#a8fa843163c3e8785a957e422b9256d35">segsearch_max_char_wh_ratio</a>, 2.0,</div>
<div class="line">                <span class="stringliteral">&quot;Maximum character width-to-height ratio&quot;</span>, <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a00401.html#acb3f291e547f6019e53c8eb0f3b48e70">segsearch_max_fixed_pitch_char_wh_ratio</a>, 2.0,</div>
<div class="line">                <span class="stringliteral">&quot;Maximum character width-to-height ratio for&quot;</span></div>
<div class="line">                <span class="stringliteral">&quot; fixed-pitch fonts&quot;</span>,</div>
<div class="line">                <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()),</div>
<div class="line">  <a class="code" href="a00592.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a00401.html#acb91792cc7855324b0a6f495defe3218">save_alt_choices</a>, <span class="keyword">false</span>,</div>
<div class="line">              <span class="stringliteral">&quot;Save alternative paths found during chopping&quot;</span></div>
<div class="line">              <span class="stringliteral">&quot; and segmentation search&quot;</span>,</div>
<div class="line">              <a class="code" href="a00070.html#ac993425386ae1f73762107299ee8a114">params</a>()) {</div>
<div class="line">  <a class="code" href="a00401.html#a143608f482c6c0c4f312740e6a5f5fd9">prev_word_best_choice_</a> = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a> = <span class="keyword">new</span> LanguageModel(&amp;<a class="code" href="a00091.html#a62597f182a5e23c3b8a030c06e699e99">get_fontinfo_table</a>(),</div>
<div class="line">                                      &amp;(<a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>()));</div>
<div class="line">  <a class="code" href="a00401.html#ade3cecfe9b377045db0abe2d06762c1e">pass2_seg_states</a> = 0;</div>
<div class="line">  <a class="code" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a> = 0;</div>
<div class="line">  <a class="code" href="a00401.html#af285813a72895f9b09f4e0f3021e721c">num_pushed</a> = 0;</div>
<div class="line">  <a class="code" href="a00401.html#abc8f5ea0bc5278f6a3ba1f91b3e797e3">num_popped</a> = 0;</div>
<div class="line">  <a class="code" href="a00401.html#a7a4f5e2cb7957a5decbc91eb2d31f87c">fill_lattice_</a> = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acaace271520291eb5c8d5cd02fbe2ed4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tesseract::Wordrec::~Wordrec </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00986_source.html#l00144">144</a> of file <a class="el" href="a00986_source.html">wordrec.cpp</a>.</p>
<div class="fragment"><div class="line">                  {</div>
<div class="line">  <span class="keyword">delete</span> <a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6b73b33a1a883abc117c676b64816c6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::add_point_to_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00952.html#a55d3249c77c934468c72f606ce08354f">POINT_GROUP</a>&#160;</td>
          <td class="paramname"><em>point_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>point</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00951_source.html#l00065">65</a> of file <a class="el" href="a00951_source.html">chop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                     {</div>
<div class="line">  <a class="code" href="a00181.html">HEAPENTRY</a> data;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00792.html#adef5e73cd09ccb5b785927a8b7499873">SizeOfHeap</a> (point_list) &lt; <a class="code" href="a00952.html#acddb2ccb7be3d768d16abfd230d468eb">MAX_NUM_POINTS</a> - 2) {</div>
<div class="line">    data.<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = (<span class="keywordtype">char</span> *) point;</div>
<div class="line">    data.<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = <a class="code" href="a00401.html#adfe6b5aa74fe948a11bf631af18e7494">point_priority</a> (point);</div>
<div class="line">    <a class="code" href="a00791.html#a21a037334c93e1d0e7ae2059203a9cf3">HeapStore</a>(point_list, &amp;data);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef GRAPHICS_DISABLED</span></div>
<div class="line"><span class="preprocessor"></span>  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a> &gt; 2)</div>
<div class="line">    <a class="code" href="a00976.html#a58186147d8297e9600d4176629dc4765">mark_outline</a>(point);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6cad89fa254226bb11cc6eacfd7f0ffa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::angle_change </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>point1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>point2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>point3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00951_source.html#l00087">87</a> of file <a class="el" href="a00951_source.html">chop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                        {</div>
<div class="line">  <a class="code" href="a00375.html">VECTOR</a> vector1;</div>
<div class="line">  <a class="code" href="a00375.html">VECTOR</a> vector2;</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">int</span> angle;</div>
<div class="line">  <span class="keywordtype">float</span> length;</div>
<div class="line"></div>
<div class="line">  <span class="comment">/* Compute angle */</span></div>
<div class="line">  vector1.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> = point2-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> - point1-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>;</div>
<div class="line">  vector1.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> = point2-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> - point1-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">  vector2.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> = point3-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> - point2-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>;</div>
<div class="line">  vector2.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> = point3-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> - point2-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">  <span class="comment">/* Use cross product */</span></div>
<div class="line">  length = (float)sqrt((<span class="keywordtype">float</span>)<a class="code" href="a00549.html#ad0e13d94164219be2d5bbd4d65e71d1e">LENGTH</a>(vector1) * <a class="code" href="a00549.html#ad0e13d94164219be2d5bbd4d65e71d1e">LENGTH</a>(vector2));</div>
<div class="line">  <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>) length == 0)</div>
<div class="line">    <span class="keywordflow">return</span> (0);</div>
<div class="line">  angle = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(floor(asin(<a class="code" href="a00549.html#aec4dedcf89534ed10f6107bf9c6418f3">CROSS</a> (vector1, vector2) /</div>
<div class="line">                                      length) / <a class="code" href="a00775.html#a598a3330b3c21701223ee0ca14316eca">PI</a> * 180.0 + 0.5));</div>
<div class="line"></div>
<div class="line">  <span class="comment">/* Use dot product */</span></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00549.html#aa9c4c0cbfeda43da7c0c28c7a8e836ed">SCALAR</a> (vector1, vector2) &lt; 0)</div>
<div class="line">    angle = 180 - angle;</div>
<div class="line">  <span class="comment">/* Adjust angle */</span></div>
<div class="line">  <span class="keywordflow">if</span> (angle &gt; 180)</div>
<div class="line">    angle -= 360;</div>
<div class="line">  <span class="keywordflow">if</span> (angle &lt;= -180)</div>
<div class="line">    angle += 360;</div>
<div class="line">  <span class="keywordflow">return</span> (angle);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a488dbf71180ee93aec63ad825be08444"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> * tesseract::Wordrec::attempt_blob_chop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00381.html">TWERD</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00346.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td>
          <td class="paramname"><em>blob_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>italic_blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a>&#160;</td>
          <td class="paramname"><em>seam_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00953_source.html#l00146">146</a> of file <a class="el" href="a00953_source.html">chopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                    {</div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a> *next_blob = blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>;</div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a> *other_blob;</div>
<div class="line">  <a class="code" href="a00296.html">SEAM</a> *seam;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a34abe5c1b41feff68500d1b83a1f891d">repair_unchopped_blobs</a>)</div>
<div class="line">    <a class="code" href="a00953.html#af2a51913c75408354ffd6e5344c30389">preserve_outline_tree</a> (blob-&gt;<a class="code" href="a00346.html#a3c9282cad4102157d214bcc6311cda07">outlines</a>);</div>
<div class="line">  other_blob = <span class="keyword">new</span> <a class="code" href="a00346.html">TBLOB</a>;       <span class="comment">/* Make new blob */</span></div>
<div class="line">  other_blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a> = blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>;</div>
<div class="line">  other_blob-&gt;<a class="code" href="a00346.html#a3c9282cad4102157d214bcc6311cda07">outlines</a> = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a> = other_blob;</div>
<div class="line"></div>
<div class="line">  seam = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00091.html#a22717c4d299d3a52683ad90114b20200">prioritize_division</a>) {</div>
<div class="line">    <a class="code" href="a00375.html">TPOINT</a> location;</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00475.html#aa87284f5696fb5dd745dafa85539d760">divisible_blob</a>(blob, italic_blob, &amp;location)) {</div>
<div class="line">      seam = <a class="code" href="a00540.html#ad7bc7a3af5617ff4762369a6aa879ed3">new_seam</a>(0.0<a class="code" href="a00428.html#a469169df397b589e709dc744f1346831">f</a>, location, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (seam == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">    seam = <a class="code" href="a00401.html#adeb84d8b94a6c87354fc452461de3b39">pick_good_seam</a>(blob);</div>
<div class="line">  <span class="keywordflow">if</span> (seam == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; word-&gt;<a class="code" href="a00381.html#a408678da3281eb77874487aceb44b95c">latin_script</a>) {</div>
<div class="line">    <span class="comment">// If the blob can simply be divided into outlines, then do that.</span></div>
<div class="line">    <a class="code" href="a00375.html">TPOINT</a> location;</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00475.html#aa87284f5696fb5dd745dafa85539d760">divisible_blob</a>(blob, italic_blob, &amp;location)) {</div>
<div class="line">      seam = <a class="code" href="a00540.html#ad7bc7a3af5617ff4762369a6aa879ed3">new_seam</a>(0.0<a class="code" href="a00428.html#a469169df397b589e709dc744f1346831">f</a>, location, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a>) {</div>
<div class="line">    <span class="keywordflow">if</span> (seam != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">      <a class="code" href="a00540.html#a2168b2b29d8981405d068256c2b61e3b">print_seam</a> (<span class="stringliteral">&quot;Good seam picked=&quot;</span>, seam);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;\n** no seam picked *** \n&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (seam) {</div>
<div class="line">    <a class="code" href="a00966.html#a0ead1c1a4df9b2c0861e9da84f4c3079">apply_seam</a>(blob, other_blob, italic_blob, seam);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> ((seam == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||</div>
<div class="line">    (blob-&gt;<a class="code" href="a00346.html#a3c9282cad4102157d214bcc6311cda07">outlines</a> == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||</div>
<div class="line">    (other_blob-&gt;<a class="code" href="a00346.html#a3c9282cad4102157d214bcc6311cda07">outlines</a> == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||</div>
<div class="line">    <a class="code" href="a00953.html#a8e8e9f6cb587b621054e6ff626a46a23">total_containment</a> (blob, other_blob) ||</div>
<div class="line">    <a class="code" href="a00953.html#adde6889c67dfb8661a9911b56bc05c96">check_blob</a> (other_blob) ||</div>
<div class="line">    !(<a class="code" href="a00953.html#a5b0b5e54a6dabe1f874383318ad2b172">check_seam_order</a> (blob, seam) &amp;&amp;</div>
<div class="line">    <a class="code" href="a00953.html#a5b0b5e54a6dabe1f874383318ad2b172">check_seam_order</a> (other_blob, seam)) ||</div>
<div class="line">    <a class="code" href="a00953.html#a0f48320009f85ee2503203c12f7f18f3">any_shared_split_points</a> (seam_list, seam) ||</div>
<div class="line">    !<a class="code" href="a00540.html#ad5c40a87abe7dd3af10a13614f321be4">test_insert_seam</a>(seam_list, blob_number, blob, word-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>)) {</div>
<div class="line"></div>
<div class="line">    blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a> = next_blob;</div>
<div class="line">    <span class="keywordflow">if</span> (seam) {</div>
<div class="line">      <a class="code" href="a00966.html#aa6a78540c9d1b2be89f28016c2aa408f">undo_seam</a>(blob, other_blob, seam);</div>
<div class="line">      <a class="code" href="a00540.html#abe1c472bf676a613f555cee9d29f7c3d">delete_seam</a>(seam);</div>
<div class="line"><span class="preprocessor">#ifndef GRAPHICS_DISABLED</span></div>
<div class="line"><span class="preprocessor"></span>      <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a>) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a> &gt;2)</div>
<div class="line">          <a class="code" href="a00980.html#a2b56bf58c648ddd5efa02b1be0438659">display_blob</a>(blob, <a class="code" href="a00774.html#a17bc059e437838f094a5a25c2d5ab88fad3163c1fcda01965b692ec2c3122b743">Red</a>);</div>
<div class="line">        <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;\n** seam being removed ** \n&quot;</span>);</div>
<div class="line">      }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>    } <span class="keywordflow">else</span> {</div>
<div class="line">      <span class="keyword">delete</span> other_blob;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a34abe5c1b41feff68500d1b83a1f891d">repair_unchopped_blobs</a>)</div>
<div class="line">      <a class="code" href="a00953.html#a426bc9c96107b36d173f86d8a74f9e8c">restore_outline_tree</a> (blob-&gt;<a class="code" href="a00346.html#a3c9282cad4102157d214bcc6311cda07">outlines</a>);</div>
<div class="line">    <span class="keywordflow">return</span> (<a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (seam);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad717bb181d1b89496be0b042347d9753"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::best_first_search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00088.html">CHUNKS_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunks_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>best_char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00396.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00316.html">STATE</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *&#160;</td>
          <td class="paramname"><em>fixpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00316.html">STATE</a> *&#160;</td>
          <td class="paramname"><em>best_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00949_source.html#l00088">88</a> of file <a class="el" href="a00949_source.html">bestfirst.cpp</a>.</p>
<div class="fragment"><div class="line">                                                   {</div>
<div class="line">  <a class="code" href="a00297.html">SEARCH_RECORD</a> *the_search;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> keep_going;</div>
<div class="line">  <a class="code" href="a00316.html">STATE</a> guided_state;   <span class="comment">// not used</span></div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">int</span> <a class="code" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a> = chunks_record-&gt;<a class="code" href="a00088.html#a0b28a4ba4a1c931ed994847db83e0ef5">ratings</a>-&gt;<a class="code" href="a00174.html#acaa00626e03fae7b31f5f08f7f48005b">dimension</a>() - 1;</div>
<div class="line">  the_search = <a class="code" href="a00401.html#a6532056b5f7dcdff1a64898d1c3b6bfc">new_search</a>(chunks_record, num_joints, best_char_choices,</div>
<div class="line">                          word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>, word-&gt;<a class="code" href="a00396.html#ab4d02a7548dab0a4522f02ed90e48100">raw_choice</a>, state);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// The default state is initialized as the best choice.  In order to apply</span></div>
<div class="line">  <span class="comment">// segmentation adjustment, or any other contextual processing in permute,</span></div>
<div class="line">  <span class="comment">// we give the best choice a poor rating to force the processed raw choice</span></div>
<div class="line">  <span class="comment">// to be promoted to best choice.</span></div>
<div class="line">  the_search-&gt;<a class="code" href="a00297.html#a468657e9c9b8df182c4890544c530f87">best_choice</a>-&gt;<a class="code" href="a00395.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(<a class="code" href="a00395.html#aa831918b1d217afd4dc547033f642990">WERD_CHOICE::kBadRating</a>);</div>
<div class="line">  <a class="code" href="a00401.html#ad9eb2175e0e99588f283809bea8cdf2b">evaluate_state</a>(chunks_record, the_search, fixpt, word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>);</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\n\n\n =========== BestFirstSearch ==============\n&quot;</span>);</div>
<div class="line">    word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="a00395.html#aa27589343655d5843a6482dbb3731d5a">print</a>(<span class="stringliteral">&quot;**Initial BestChoice**&quot;</span>);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> worst_priority = 2.0f * <a class="code" href="a00401.html#a5ad58d7dcf5cbe7852aefb3b35a9ce33">prioritize_state</a>(chunks_record, the_search);</div>
<div class="line">  <span class="keywordflow">if</span> (worst_priority &lt; <a class="code" href="a00401.html#abbb36fc5e6f3b89797c155cfce0b0841">wordrec_worst_state</a>)</div>
<div class="line">    worst_priority = <a class="code" href="a00401.html#abbb36fc5e6f3b89797c155cfce0b0841">wordrec_worst_state</a>;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1) {</div>
<div class="line">    log_state(<span class="stringliteral">&quot;BestFirstSearch&quot;</span>, num_joints, best_state);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  guided_state = *state;</div>
<div class="line">  <span class="keywordflow">do</span> {</div>
<div class="line">                                 <span class="comment">/* Look for answer */</span></div>
<div class="line">    <a class="code" href="a00316.html">STATE</a> orig_state = *the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>;</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="a00955.html#af42fdf0836fd4f40c478a4c46f4148c5">hash_lookup</a> (the_search-&gt;<a class="code" href="a00297.html#add2a2c40e476a2a080bf10bd18d393bb">closed_states</a>, the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>)) {</div>
<div class="line">      guided_state = *(the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>);</div>
<div class="line">      keep_going = <a class="code" href="a00401.html#ad9eb2175e0e99588f283809bea8cdf2b">evaluate_state</a>(chunks_record, the_search, fixpt,</div>
<div class="line">                                  word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>);</div>
<div class="line">      <a class="code" href="a00955.html#ab1be117d24d6b3f8e426fd172588c274">hash_add</a> (the_search-&gt;<a class="code" href="a00297.html#add2a2c40e476a2a080bf10bd18d393bb">closed_states</a>, the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>);</div>
<div class="line"></div>
<div class="line">      <span class="keywordflow">if</span> (!keep_going ||</div>
<div class="line">          (the_search-&gt;<a class="code" href="a00297.html#a0a90b0a8729b436739b6019c7355301c">num_states</a> &gt; <a class="code" href="a00401.html#a57c3675d967208936be65a14e5b64c7d">wordrec_num_seg_states</a>)) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1)</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Breaking best_first_search on keep_going %s numstates %d\n&quot;</span>,</div>
<div class="line">                  ((keep_going) ? <span class="stringliteral">&quot;T&quot;</span> :<span class="stringliteral">&quot;F&quot;</span>), the_search-&gt;<a class="code" href="a00297.html#a0a90b0a8729b436739b6019c7355301c">num_states</a>);</div>
<div class="line">        <a class="code" href="a00810.html#a4f83f140c72e5495f16b40be3dae3b42">free_state</a> (the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">      <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> new_worst_priority = 2.0f * <a class="code" href="a00401.html#a5ad58d7dcf5cbe7852aefb3b35a9ce33">prioritize_state</a>(chunks_record,</div>
<div class="line">                                                           the_search);</div>
<div class="line">      <span class="keywordflow">if</span> (new_worst_priority &lt; worst_priority) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1)</div>
<div class="line">          <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Lowering WorstPriority %f --&gt; %f\n&quot;</span>,</div>
<div class="line">                  worst_priority, new_worst_priority);</div>
<div class="line">        <span class="comment">// Tighten the threshold for admitting new paths as better search</span></div>
<div class="line">        <span class="comment">// candidates are found.  After lowering this threshold, we can safely</span></div>
<div class="line">        <span class="comment">// popout everything that is worse than this score also.</span></div>
<div class="line">        worst_priority = new_worst_priority;</div>
<div class="line">      }</div>
<div class="line">      <a class="code" href="a00401.html#a03931abc6310dd587fdaff3ccf272887">expand_node</a>(worst_priority, chunks_record, the_search);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1) {</div>
<div class="line">      log_state(<span class="stringliteral">&quot;Done with&quot;</span>, the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a>, &amp;orig_state);</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="a00810.html#a4f83f140c72e5495f16b40be3dae3b42">free_state</a> (the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>);</div>
<div class="line">    <a class="code" href="a00401.html#abc8f5ea0bc5278f6a3ba1f91b3e797e3">num_popped</a>++;</div>
<div class="line">    the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a> = <a class="code" href="a00401.html#a24a13455e56ef38b4270f672fa639d62">pop_queue</a> (the_search-&gt;<a class="code" href="a00297.html#adee178f3348481683069a38f4185c27a">open_states</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1 &amp;&amp; !the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>)</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;No more states to evalaute after %d evals&quot;</span>, <a class="code" href="a00401.html#abc8f5ea0bc5278f6a3ba1f91b3e797e3">num_popped</a>);</div>
<div class="line">  } <span class="keywordflow">while</span> (the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>);</div>
<div class="line"></div>
<div class="line">  state-&gt;<a class="code" href="a00316.html#a2099a72d99d2ba5f828ad8538d328f4b">part1</a> = the_search-&gt;<a class="code" href="a00297.html#a466df91ecf19a56dac83d4654c454e19">best_state</a>-&gt;<a class="code" href="a00316.html#a2099a72d99d2ba5f828ad8538d328f4b">part1</a>;</div>
<div class="line">  state-&gt;<a class="code" href="a00316.html#aa75ceb95132aecb5a8ae1e594a19733a">part2</a> = the_search-&gt;<a class="code" href="a00297.html#a466df91ecf19a56dac83d4654c454e19">best_state</a>-&gt;<a class="code" href="a00316.html#aa75ceb95132aecb5a8ae1e594a19733a">part2</a>;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\n\n\n =========== BestFirstSearch ==============\n&quot;</span>);</div>
<div class="line">            <span class="comment">// best_choice-&gt;debug_string().string());</span></div>
<div class="line">    word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="a00395.html#aa27589343655d5843a6482dbb3731d5a">print</a>(<span class="stringliteral">&quot;**Final BestChoice**&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// save the best_state stats</span></div>
<div class="line">  <a class="code" href="a00401.html#a138fe5d0ffacb19535094f221a9e6511">delete_search</a>(the_search);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2399813e1c656f6638ce7d09ac3a101b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BLOB_CHOICE_LIST * tesseract::Wordrec::call_matcher </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00126.html">DENORM</a> *&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00346.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00983_source.html#l00143">143</a> of file <a class="el" href="a00983_source.html">tface.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                             {</div>
<div class="line">  <span class="comment">// Rotate the blob for classification if necessary.</span></div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a>* rotated_blob = tessblob-&gt;<a class="code" href="a00346.html#a01a7a878b92170eaa04d65435b0ef4cc">ClassifyNormalizeIfNeeded</a>(&amp;denorm);</div>
<div class="line">  <span class="keywordflow">if</span> (rotated_blob == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    rotated_blob = tessblob;</div>
<div class="line">  }</div>
<div class="line">  BLOB_CHOICE_LIST *ratings = <span class="keyword">new</span> BLOB_CHOICE_LIST();  <span class="comment">// matcher result</span></div>
<div class="line">  <a class="code" href="a00091.html#a1f058451e32538b4dc2c853b82bc6600">AdaptiveClassifier</a>(rotated_blob, *denorm, ratings, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">  <span class="keywordflow">if</span> (rotated_blob != tessblob) {</div>
<div class="line">    <span class="keyword">delete</span> rotated_blob;</div>
<div class="line">    <span class="keyword">delete</span> denorm;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> ratings;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a57cb744b40e142b6cb03de0e8998dafc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::CallFillLattice </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00228.html">MATRIX</a> &amp;&#160;</td>
          <td class="paramname"><em>ratings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00407.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> &amp;&#160;</td>
          <td class="paramname"><em>best_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00387.html">UNICHARSET</a> &amp;&#160;</td>
          <td class="paramname"><em>unicharset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00050.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00987_source.html#l00183">183</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>
<div class="fragment"><div class="line">                                                                                  {</div>
<div class="line">    (this-&gt;*<a class="code" href="a00401.html#a7a4f5e2cb7957a5decbc91eb2d31f87c">fill_lattice_</a>)(ratings, best_choices, unicharset, blamer_bundle);</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad5643a29cad973e306bb84fb843397af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> * tesseract::Wordrec::cc_recog </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00396.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00983_source.html#l00117">117</a> of file <a class="el" href="a00983_source.html">tface.cpp</a>.</p>
<div class="fragment"><div class="line">                                                         {</div>
<div class="line">  <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a13fed9e3e317b901d4728a77f3396907">InitChoiceAccum</a>();</div>
<div class="line">  <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a6b7508e4459f295073316fff69a05ee9">reset_hyphen_vars</a>(word-&gt;<a class="code" href="a00396.html#afc15fa7c1b5ad55d6772dea0d6865df1">word</a>-&gt;<a class="code" href="a00394.html#a81edde8597a3d9fd8a664d703d332c41">flag</a>(<a class="code" href="a00551.html#ad6968adbf8f2cc44adf333ec96efb0bea62efb985a62d85e014ee5ab039dd50ce">W_EOL</a>));</div>
<div class="line">  <a class="code" href="a00401.html#a7518e041a8ddab1d1a2b7e609553b8e3">blob_match_table</a>.<a class="code" href="a00054.html#adccd291f7c70303e621e950c289be897">init_match_table</a>();</div>
<div class="line">  <a class="code" href="a00175.html">BLOB_CHOICE_LIST_VECTOR</a> *results = <a class="code" href="a00401.html#ae9a055f84d35a4f9752f6c838afa11b0">chop_word_main</a>(word);</div>
<div class="line">  <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#ac3fda452853da426de36eecfe03d00bc" title="Prints the current choices for this word to stdout.">DebugWordChoices</a>();</div>
<div class="line">  <span class="keywordflow">return</span> results;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac05db9a605bcb460b6b1abdaf03ee6c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::ChoiceIsCorrect </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00387.html">UNICHARSET</a> &amp;&#160;</td>
          <td class="paramname"><em>uni_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00175.html">GenericVector</a>&lt; <a class="el" href="a00319.html">STRING</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>truth_text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00986_source.html#l00159">159</a> of file <a class="el" href="a00986_source.html">wordrec.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                       {</div>
<div class="line">  <span class="keywordflow">if</span> (choice == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line">  <a class="code" href="a00319.html">STRING</a> truth_str;</div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; truth_text.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++i) truth_str += truth_text[i];</div>
<div class="line">  <a class="code" href="a00319.html">STRING</a> normed_choice_str;</div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; choice-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>(); ++i) {</div>
<div class="line">    normed_choice_str += uni_set.<a class="code" href="a00387.html#a1c9099b44ba61ade75d2a5c6d782f146">get_normed_unichar</a>(choice-&gt;<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(i));</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (truth_str == normed_choice_str);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afa230ef31fc03aff58ebd4d2de2df68b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::choose_best_seam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00960.html#a0d8a3b6851b93dea4e0b7e7713ccf100">SEAM_QUEUE</a>&#160;</td>
          <td class="paramname"><em>seam_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00960.html#aead75573de3ab18b80b22a97ca124d99">SEAM_PILE</a> *&#160;</td>
          <td class="paramname"><em>seam_pile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00543.html#a8caa4994d858ff69cd340ac6f89731cb">SPLIT</a> *&#160;</td>
          <td class="paramname"><em>split</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a>&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> **&#160;</td>
          <td class="paramname"><em>seam_result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00346.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00959_source.html#l00178">178</a> of file <a class="el" href="a00959_source.html">findseam.cpp</a>.</p>
<div class="fragment"><div class="line">                                            {</div>
<div class="line">  <a class="code" href="a00296.html">SEAM</a> *seam;</div>
<div class="line">  <span class="keywordtype">char</span> str[80];</div>
<div class="line">  <span class="keywordtype">float</span> my_priority;</div>
<div class="line">  <span class="comment">/* Add seam of split */</span></div>
<div class="line">  my_priority = priority;</div>
<div class="line">  <span class="keywordflow">if</span> (split != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    <a class="code" href="a00375.html">TPOINT</a> split_point = split-&gt;<a class="code" href="a00314.html#a2451170e7785bb495c0dd3d96fc71167">point1</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>;</div>
<div class="line">    split_point += split-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>;</div>
<div class="line">    split_point /= 2;</div>
<div class="line">    seam = <a class="code" href="a00540.html#ad7bc7a3af5617ff4762369a6aa879ed3">new_seam</a>(my_priority, split_point, split, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a> &gt; 1)</div>
<div class="line">      <a class="code" href="a00540.html#a2168b2b29d8981405d068256c2b61e3b">print_seam</a> (<span class="stringliteral">&quot;Partial priority    &quot;</span>, seam);</div>
<div class="line">    <a class="code" href="a00959.html#abed03e7c5b2ef922010b6f56a968ba4d">add_seam_to_queue</a> (seam_queue, seam, (<span class="keywordtype">float</span>) my_priority);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (my_priority &gt; <a class="code" href="a00401.html#ad18f0e1c62f90e2be42190a720158862">chop_good_split</a>)</div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00347.html">TBOX</a> bbox = blob-&gt;<a class="code" href="a00346.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>();</div>
<div class="line">  <span class="comment">/* Queue loop */</span></div>
<div class="line">  <span class="keywordflow">while</span> (<a class="code" href="a00959.html#aa7dcabd6f7d0085a7f1674e0257dfdbd">pop_next_seam</a> (seam_queue, seam, my_priority)) {</div>
<div class="line">    <span class="comment">/* Set full priority */</span></div>
<div class="line">    my_priority = <a class="code" href="a00401.html#a239d08f59bdd41a53ab489ca138fa989">seam_priority</a> (seam, bbox.<a class="code" href="a00347.html#a724fabf566586b663577dfa944ffbc61">left</a>(), bbox.<a class="code" href="a00347.html#a8703081c1a1c26db3a4dddaca1028e34">right</a>());</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a>) {</div>
<div class="line">      sprintf (str, <span class="stringliteral">&quot;Full my_priority %0.0f,  &quot;</span>, my_priority);</div>
<div class="line">      <a class="code" href="a00540.html#a2168b2b29d8981405d068256c2b61e3b">print_seam</a>(str, seam);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ((*seam_result == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || <span class="comment">/* Replace answer */</span></div>
<div class="line">    (*seam_result)-&gt;priority &gt; my_priority) &amp;&amp; my_priority &lt; <a class="code" href="a00401.html#ac696a875283d1ce3e888e1b63fd52d9f">chop_ok_split</a>) {</div>
<div class="line">      <span class="comment">/* No crossing */</span></div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00401.html#ab304a891354f890ed124488273b57b19">constrained_split</a> (seam-&gt;<a class="code" href="a00296.html#a4161a1874921a7854bdd3d7a9f930729">split1</a>, blob)) {</div>
<div class="line">        <a class="code" href="a00540.html#abe1c472bf676a613f555cee9d29f7c3d">delete_seam</a>(*seam_result);</div>
<div class="line">        <a class="code" href="a00541.html#a8c9377a3d389d1f95639e33ef74ff0f2">clone_seam</a>(*seam_result, seam);</div>
<div class="line">        (*seam_result)-&gt;priority = my_priority;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">else</span> {</div>
<div class="line">        <a class="code" href="a00540.html#abe1c472bf676a613f555cee9d29f7c3d">delete_seam</a>(seam);</div>
<div class="line">        seam = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">        my_priority = <a class="code" href="a00959.html#a3fd320d93290a64ff24687ec596f1f61">BAD_PRIORITY</a>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (my_priority &lt; <a class="code" href="a00401.html#ad18f0e1c62f90e2be42190a720158862">chop_good_split</a>) {</div>
<div class="line">      <span class="keywordflow">if</span> (seam)</div>
<div class="line">        <a class="code" href="a00540.html#abe1c472bf676a613f555cee9d29f7c3d">delete_seam</a>(seam);</div>
<div class="line">      <span class="keywordflow">return</span>;                    <span class="comment">/* Made good answer */</span></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (seam) {</div>
<div class="line">                                 <span class="comment">/* Combine with others */</span></div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00798.html#a89ee8010120771c8612dc7058b327f84">array_count</a> (*seam_pile) &lt; <a class="code" href="a00959.html#aec46796fda71456341a9591d1b42b5f8">MAX_NUM_SEAMS</a></div>
<div class="line">      <span class="comment">/*|| tessedit_truncate_chopper==0 */</span> ) {</div>
<div class="line">        <a class="code" href="a00401.html#a11c3678047ab91731c5628c49e0b9858">combine_seam</a>(seam_queue, *seam_pile, seam);</div>
<div class="line">        *seam_pile = <a class="code" href="a00797.html#ab13e09dec91158c58e0f2427f1d18e07">array_push</a> (*seam_pile, seam);</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">else</span></div>
<div class="line">        <a class="code" href="a00540.html#abe1c472bf676a613f555cee9d29f7c3d">delete_seam</a>(seam);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    my_priority = <a class="code" href="a00959.html#ab77f2a62fbd55a0b602d878f7937a1eb">best_seam_priority</a> (seam_queue);</div>
<div class="line">    <span class="keywordflow">if</span> ((my_priority &gt; <a class="code" href="a00401.html#ac696a875283d1ce3e888e1b63fd52d9f">chop_ok_split</a>) ||</div>
<div class="line">      (my_priority &gt; <a class="code" href="a00401.html#ad18f0e1c62f90e2be42190a720158862">chop_good_split</a> &amp;&amp; split))</div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab39c4eff1c3255a37a38f5f32956e6c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> * tesseract::Wordrec::chop_numbered_blob </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00381.html">TWERD</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td>
          <td class="paramname"><em>blob_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>italic_blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a>&#160;</td>
          <td class="paramname"><em>seam_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00953_source.html#l00219">219</a> of file <a class="el" href="a00953_source.html">chopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                     {</div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a> *blob;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> x;</div>
<div class="line"></div>
<div class="line">  blob = word-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>;</div>
<div class="line">  <span class="keywordflow">for</span> (x = 0; x &lt; blob_number; x++)</div>
<div class="line">    blob = blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="a00401.html#a488dbf71180ee93aec63ad825be08444">attempt_blob_chop</a>(word, blob, blob_number,</div>
<div class="line">                           italic_blob, seam_list);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3649b7ab00c4d5947904af99716c6b20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::chop_one_blob </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00381.html">TWERD</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *&#160;</td>
          <td class="paramname"><em>blob_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a> *&#160;</td>
          <td class="paramname"><em>seam_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>right_chop_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00953_source.html#l00441">441</a> of file <a class="el" href="a00953_source.html">chopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                   {</div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a> *blob;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> x = 0;</div>
<div class="line">  <span class="keywordtype">float</span> rating_ceiling = <a class="code" href="a00577.html#a9adcee815220ec9db98062213806ed04">MAX_FLOAT32</a>;</div>
<div class="line">  BLOB_CHOICE_LIST *answer;</div>
<div class="line">  BLOB_CHOICE_IT answer_it;</div>
<div class="line">  <a class="code" href="a00296.html">SEAM</a> *seam;</div>
<div class="line">  <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = 0;</div>
<div class="line">  <span class="keywordtype">int</span> left_chop_index = 0;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">do</span> {</div>
<div class="line">    *blob_number = <a class="code" href="a00401.html#a8fd3e86b711ba9d54c7eb500eb99c1c4">select_blob_to_split</a>(*char_choices, rating_ceiling, <span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a>)</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;blob_number = %d\n&quot;</span>, *blob_number);</div>
<div class="line">    <span class="keywordflow">if</span> (*blob_number == -1)</div>
<div class="line">      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    seam = <a class="code" href="a00401.html#ab39c4eff1c3255a37a38f5f32956e6c2">chop_numbered_blob</a>(word, *blob_number, <span class="keyword">true</span>, *seam_list);</div>
<div class="line">    <span class="keywordflow">if</span> (seam != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="comment">/* Must split null blobs */</span></div>
<div class="line">    answer = char_choices-&gt;<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(*blob_number);</div>
<div class="line">    <span class="keywordflow">if</span> (answer == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    answer_it.set_to_list(answer);</div>
<div class="line">    rating_ceiling = answer_it.data()-&gt;rating();  <span class="comment">// try a different blob</span></div>
<div class="line">  } <span class="keywordflow">while</span> (<span class="keyword">true</span>);</div>
<div class="line">  <span class="comment">/* Split OK */</span></div>
<div class="line">  <span class="keywordflow">for</span> (blob = word-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>; x &lt; *blob_number; x++) {</div>
<div class="line">    blob = blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a>) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Chop made blob1:&quot;</span>);</div>
<div class="line">    blob-&gt;<a class="code" href="a00346.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="a00347.html#a2e753aa9943276301d68e9f9cad99620">print</a>();</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;and blob2:&quot;</span>);</div>
<div class="line">    blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>-&gt;<a class="code" href="a00346.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="a00347.html#a2e753aa9943276301d68e9f9cad99620">print</a>();</div>
<div class="line">  }</div>
<div class="line">  *seam_list = <a class="code" href="a00540.html#abb7a3f834120eb2357b71b09405a2ec6">insert_seam</a>(*seam_list, *blob_number, seam, blob, word-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>);</div>
<div class="line"></div>
<div class="line">  answer = char_choices-&gt;<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(*blob_number);</div>
<div class="line">  answer_it.set_to_list(answer);</div>
<div class="line">  unichar_id = answer_it.data()-&gt;unichar_id();</div>
<div class="line">  <span class="keywordtype">float</span> rating = answer_it.data()-&gt;rating() / exp(1.0);</div>
<div class="line">  left_chop_index = atoi(<a class="code" href="a00070.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(unichar_id));</div>
<div class="line"></div>
<div class="line">  <span class="keyword">delete</span> char_choices-&gt;<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(*blob_number);</div>
<div class="line">  <span class="comment">// combine confidence w/ serial #</span></div>
<div class="line">  answer = <a class="code" href="a00401.html#ae15505acaad8195b1b96de4a393bfc3e">fake_classify_blob</a>(0, rating, -rating);</div>
<div class="line">  <a class="code" href="a00401.html#a30984c34a31ca6ef5ee363fc5ebfeff4">modify_blob_choice</a>(answer, left_chop_index);</div>
<div class="line">  char_choices-&gt;<a class="code" href="a00175.html#a57ca5259541548a97bcfd4d0925a27ff">insert</a>(answer, *blob_number);</div>
<div class="line"></div>
<div class="line">  answer = <a class="code" href="a00401.html#ae15505acaad8195b1b96de4a393bfc3e">fake_classify_blob</a>(0, rating - 0.125<a class="code" href="a00428.html#a469169df397b589e709dc744f1346831">f</a>, -rating);</div>
<div class="line">  <a class="code" href="a00401.html#a30984c34a31ca6ef5ee363fc5ebfeff4">modify_blob_choice</a>(answer, ++*right_chop_index);</div>
<div class="line">  char_choices-&gt;<a class="code" href="a00175.html#a067b7833ee66238b7b5e230404525fcb">set</a>(answer, *blob_number + 1);</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adb4cc59f6e9cca86fbba44ad483ab0b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::chop_one_blob2 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00175.html">GenericVector</a>&lt; <a class="el" href="a00347.html">TBOX</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>boxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00396.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a> *&#160;</td>
          <td class="paramname"><em>seam_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00953_source.html#l00502">502</a> of file <a class="el" href="a00953_source.html">chopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                               {</div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> blob_number;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> x = 0;</div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a> *blob;</div>
<div class="line">  <a class="code" href="a00296.html">SEAM</a> *seam;</div>
<div class="line"></div>
<div class="line">  seam = <a class="code" href="a00401.html#a60f3ee36bfbef64013dd7b199248cf0e">chop_overlapping_blob</a>(boxes, word_res, &amp;blob_number,</div>
<div class="line">                               <span class="keyword">true</span>, *seam_list);</div>
<div class="line">  <span class="keywordflow">if</span> (seam == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">/* Split OK */</span></div>
<div class="line">  <span class="keywordflow">for</span> (blob = word_res-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>; x &lt; blob_number; x++) {</div>
<div class="line">    blob = blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a>) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Chop made blob1:&quot;</span>);</div>
<div class="line">    blob-&gt;<a class="code" href="a00346.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="a00347.html#a2e753aa9943276301d68e9f9cad99620">print</a>();</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;and blob2:&quot;</span>);</div>
<div class="line">    blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>-&gt;<a class="code" href="a00346.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="a00347.html#a2e753aa9943276301d68e9f9cad99620">print</a>();</div>
<div class="line">  }</div>
<div class="line">  *seam_list = <a class="code" href="a00540.html#abb7a3f834120eb2357b71b09405a2ec6">insert_seam</a>(*seam_list, blob_number, seam, blob,</div>
<div class="line">                           word_res-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>);</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a60f3ee36bfbef64013dd7b199248cf0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> * tesseract::Wordrec::chop_overlapping_blob </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00175.html">GenericVector</a>&lt; <a class="el" href="a00347.html">TBOX</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>boxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00396.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *&#160;</td>
          <td class="paramname"><em>blob_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>italic_blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a>&#160;</td>
          <td class="paramname"><em>seam_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00953_source.html#l00233">233</a> of file <a class="el" href="a00953_source.html">chopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                        {</div>
<div class="line">  <a class="code" href="a00381.html">TWERD</a> *word = word_res-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>;</div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a> *blob;</div>
<div class="line"></div>
<div class="line">  *blob_number = 0;</div>
<div class="line">  blob = word-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>;</div>
<div class="line">  <span class="keywordflow">while</span> (blob != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    <a class="code" href="a00375.html">TPOINT</a> topleft, botright;</div>
<div class="line">    topleft.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> = blob-&gt;<a class="code" href="a00346.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="a00347.html#a724fabf566586b663577dfa944ffbc61">left</a>();</div>
<div class="line">    topleft.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> = blob-&gt;<a class="code" href="a00346.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="a00347.html#adf92e9fdac1bdf11c10d1c4d1178791a">top</a>();</div>
<div class="line">    botright.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> = blob-&gt;<a class="code" href="a00346.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="a00347.html#a8703081c1a1c26db3a4dddaca1028e34">right</a>();</div>
<div class="line">    botright.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> = blob-&gt;<a class="code" href="a00346.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="a00347.html#a4451d237f1cd18c4982d63fe36a11fc3">bottom</a>();</div>
<div class="line"></div>
<div class="line">    <a class="code" href="a00375.html">TPOINT</a> original_topleft, original_botright;</div>
<div class="line">    word_res-&gt;<a class="code" href="a00396.html#a202d9d5d2a462d84012011c689e16605">denorm</a>.<a class="code" href="a00126.html#a7f208ca46e4fc576432c16bf16a504f0">DenormTransform</a>(topleft, &amp;original_topleft);</div>
<div class="line">    word_res-&gt;<a class="code" href="a00396.html#a202d9d5d2a462d84012011c689e16605">denorm</a>.<a class="code" href="a00126.html#a7f208ca46e4fc576432c16bf16a504f0">DenormTransform</a>(botright, &amp;original_botright);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="a00347.html">TBOX</a> original_box = <a class="code" href="a00347.html">TBOX</a>(original_topleft.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>, original_botright.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>,</div>
<div class="line">                             original_botright.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>, original_topleft.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">bool</span> almost_equal_box = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">int</span> num_overlap = 0;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; boxes.<a class="code" href="a00175.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>(); i++) {</div>
<div class="line">      <span class="keywordflow">if</span> (original_box.<a class="code" href="a00347.html#a9e8d88530048135be86afb906ff9dd74">overlap_fraction</a>(boxes[i]) &gt; 0.125)</div>
<div class="line">        num_overlap++;</div>
<div class="line">      <span class="keywordflow">if</span> (original_box.<a class="code" href="a00347.html#a0f7a028a3ad0355f38e17db45c737384">almost_equal</a>(boxes[i], 3))</div>
<div class="line">        almost_equal_box = <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="a00375.html">TPOINT</a> location;</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00475.html#aa87284f5696fb5dd745dafa85539d760">divisible_blob</a>(blob, italic_blob, &amp;location) ||</div>
<div class="line">        (!almost_equal_box &amp;&amp; num_overlap &gt; 1)) {</div>
<div class="line">      <a class="code" href="a00296.html">SEAM</a> *seam = <a class="code" href="a00401.html#a488dbf71180ee93aec63ad825be08444">attempt_blob_chop</a>(word, blob, *blob_number,</div>
<div class="line">                                     italic_blob, seam_list);</div>
<div class="line">      <span class="keywordflow">if</span> (seam != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">        <span class="keywordflow">return</span> seam;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    *blob_number = *blob_number + 1;</div>
<div class="line">    blob = blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  *blob_number = -1;</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae9a055f84d35a4f9752f6c838afa11b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> * tesseract::Wordrec::chop_word_main </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00396.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00953_source.html#l00583">583</a> of file <a class="el" href="a00953_source.html">chopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                               {</div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a> *blob;</div>
<div class="line">  <span class="keywordtype">int</span> index;</div>
<div class="line">  <span class="keywordtype">int</span> did_chopping;</div>
<div class="line">  <a class="code" href="a00316.html">STATE</a> state;</div>
<div class="line">  BLOB_CHOICE_LIST *match_result;</div>
<div class="line">  <a class="code" href="a00228.html">MATRIX</a> *ratings = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <a class="code" href="a00175.html">DANGERR</a> fixpt;                 <span class="comment">/*dangerous ambig */</span></div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> bit_count;               <span class="comment">//no of bits</span></div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00175.html">BLOB_CHOICE_LIST_VECTOR</a> *char_choices = <span class="keyword">new</span> <a class="code" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a>();</div>
<div class="line">  <a class="code" href="a00175.html">BLOB_CHOICE_LIST_VECTOR</a> *best_char_choices = <span class="keyword">new</span> <a class="code" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a>();</div>
<div class="line"></div>
<div class="line">  did_chopping = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (blob = word-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>, index = 0;</div>
<div class="line">       blob != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; blob = blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>, index++) {</div>
<div class="line">    match_result = <a class="code" href="a00401.html#a7127d481d5ea12e3253fb3719fd2170c">classify_blob</a>(blob, word-&gt;<a class="code" href="a00396.html#a202d9d5d2a462d84012011c689e16605">denorm</a>, <span class="stringliteral">&quot;chop_word:&quot;</span>, <a class="code" href="a00774.html#a17bc059e437838f094a5a25c2d5ab88fad0784a3f969fe736e8b271a5a161d106">Green</a>,</div>
<div class="line">                                 word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (match_result == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;Null classifier output!\n&quot;</span>);</div>
<div class="line">    *char_choices += match_result;</div>
<div class="line">  }</div>
<div class="line">  bit_count = index - 1;</div>
<div class="line">  <a class="code" href="a00809.html#a4d7464b9adab39859eca306e1a41ba7e">set_n_ones</a>(&amp;state, char_choices-&gt;<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() - 1);</div>
<div class="line">  <span class="keywordtype">bool</span> acceptable = <span class="keyword">false</span>;</div>
<div class="line">  <span class="keywordtype">bool</span> replaced = <span class="keyword">false</span>;</div>
<div class="line">  <span class="keywordtype">bool</span> best_choice_updated =</div>
<div class="line">    <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#ab9c442c6c541ea1be7a0a132aea3af51">permute_characters</a>(*char_choices, word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>,</div>
<div class="line">                                 word-&gt;<a class="code" href="a00396.html#ab4d02a7548dab0a4522f02ed90e48100">raw_choice</a>);</div>
<div class="line">  <span class="keywordflow">if</span> (best_choice_updated &amp;&amp;</div>
<div class="line">      <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().AcceptableChoice(char_choices, word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>, &amp;fixpt,</div>
<div class="line">                                 <a class="code" href="a00812.html#a1902ef46a46c64df98f9a99f6368e4f6a84325e771bcf9b3b1187d3e91455ca26">CHOPPER_CALLER</a>, &amp;replaced)) {</div>
<div class="line">    acceptable = <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (replaced)</div>
<div class="line">    <a class="code" href="a00401.html#a63db9b85fa1350dfccfd4d6e548290d4">update_blob_classifications</a>(word-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>, *char_choices);</div>
<div class="line">  <a class="code" href="a00401.html#a6e9f488de12a12cd99ae4c2c55c87bc6">CopyCharChoices</a>(*char_choices, best_char_choices);</div>
<div class="line">  <span class="keywordflow">if</span> (!acceptable) {  <span class="comment">// do more work to find a better choice</span></div>
<div class="line">    did_chopping = 1;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">bool</span> best_choice_acceptable = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#adcf4728e9f36b1c55a024165a31ca2e4">chop_enable</a>)</div>
<div class="line">      <a class="code" href="a00401.html#ad1164fd07a17960ed06585f0c8aadcdc">improve_by_chopping</a>(word,</div>
<div class="line">                          char_choices,</div>
<div class="line">                          &amp;state,</div>
<div class="line">                          best_char_choices,</div>
<div class="line">                          &amp;fixpt,</div>
<div class="line">                          &amp;best_choice_acceptable);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a>)</div>
<div class="line">      <a class="code" href="a00540.html#abb1ad769b4318ae71f1a36294d29f5af">print_seams</a> (<span class="stringliteral">&quot;Final seam list:&quot;</span>, word-&gt;<a class="code" href="a00396.html#adefe2273d7f4b36fcbe7ae420bfd077a">seam_array</a>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a> != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp;</div>
<div class="line">        !<a class="code" href="a00401.html#ac05db9a605bcb460b6b1abdaf03ee6c4">ChoiceIsCorrect</a>(*word-&gt;<a class="code" href="a00396.html#a053a2aeeddc26a93a41a04fa08dd688a">uch_set</a>, word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>,</div>
<div class="line">                         word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>-&gt;<a class="code" href="a00050.html#acdff6c1914bf9d06c9461cba0cee1c34">truth_text</a>)) {</div>
<div class="line">      <a class="code" href="a00401.html#a2ed3fab8407177af31d446a794617149">set_chopper_blame</a>(word);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// The force_word_assoc is almost redundant to enable_assoc.  However,</span></div>
<div class="line">    <span class="comment">// it is not conditioned on the dict behavior.  For CJK, we need to force</span></div>
<div class="line">    <span class="comment">// the associator to be invoked.  When we figure out the exact behavior</span></div>
<div class="line">    <span class="comment">// of dict on CJK, we can remove the flag if it turns out to be redundant.</span></div>
<div class="line">    <span class="keywordflow">if</span> ((<a class="code" href="a00401.html#aba19336c1e635f22b3c27024afd07fed">wordrec_enable_assoc</a> &amp;&amp; !best_choice_acceptable) || <a class="code" href="a00401.html#a447f3fa5c50ca545e0a49887ee669ff8">force_word_assoc</a>) {</div>
<div class="line">      ratings = <a class="code" href="a00401.html#a3581245a7778654f6fd22c4b3721cf06">word_associator</a>(<span class="keyword">false</span>, word, &amp;state, best_char_choices,</div>
<div class="line">                                &amp;fixpt, &amp;state);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  best_char_choices = <a class="code" href="a00401.html#a540decbb88b2e701402b80fd7395d03e">rebuild_current_state</a>(word, &amp;state, best_char_choices,</div>
<div class="line">                                            ratings);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// If after running only the chopper best_choice is incorrect and no blame</span></div>
<div class="line">  <span class="comment">// has been yet set, blame the classifier if best_choice is classifier&#39;s</span></div>
<div class="line">  <span class="comment">// top choice and is a dictionary word (i.e. language model could not have</span></div>
<div class="line">  <span class="comment">// helped). Otherwise blame the tradeoff between the classifier and</span></div>
<div class="line">  <span class="comment">// the old language model (permuters).</span></div>
<div class="line">  <span class="keywordflow">if</span> (word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a> != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp;</div>
<div class="line">      word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>-&gt;<a class="code" href="a00050.html#a2c84b31d55ab290a9247201cdb46752c">incorrect_result_reason</a> == <a class="code" href="a00516.html#a8faf52e106c04bfdc9898ffa90b821e1a4f5ff200b61e6226eb6d74aec188e769">IRR_CORRECT</a> &amp;&amp;</div>
<div class="line">      ratings == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp;  <span class="comment">// only the chopper was run</span></div>
<div class="line">      !<a class="code" href="a00401.html#ac05db9a605bcb460b6b1abdaf03ee6c4">ChoiceIsCorrect</a>(*word-&gt;<a class="code" href="a00396.html#a053a2aeeddc26a93a41a04fa08dd688a">uch_set</a>, word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>,</div>
<div class="line">                       word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>-&gt;<a class="code" href="a00050.html#acdff6c1914bf9d06c9461cba0cee1c34">truth_text</a>)) {</div>
<div class="line">    <span class="keywordflow">if</span> (word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a> != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp;</div>
<div class="line">        <a class="code" href="a00129.html#af873650961191c2a844eed47c0829421" title="Check all the DAWGs to see if this word is in any of them.">Dict::valid_word_permuter</a>(word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="a00395.html#a161ac137df2d063a6421728e6aa08fcb">permuter</a>(), <span class="keyword">false</span>)) {</div>
<div class="line">      <span class="comment">// Find out whether best choice is a top choice.</span></div>
<div class="line">      word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>-&gt;<a class="code" href="a00050.html#a16968ea622a20067f95506256929ed4b">best_choice_is_dict_and_top_choice</a> = <span class="keyword">true</span>;</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>(); ++i) {</div>
<div class="line">        BLOB_CHOICE_IT blob_choice_it(best_char_choices-&gt;<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(i));</div>
<div class="line">        <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(!blob_choice_it.empty());</div>
<div class="line">        <a class="code" href="a00052.html">BLOB_CHOICE</a> *first_choice = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">        <span class="keywordflow">for</span> (blob_choice_it.mark_cycle_pt(); !blob_choice_it.cycled_list();</div>
<div class="line">             blob_choice_it.forward()) {  <span class="comment">// find first non-fragment choice</span></div>
<div class="line">          <span class="keywordflow">if</span> (!(<a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset().get_fragment(</div>
<div class="line">                blob_choice_it.data()-&gt;unichar_id()))) {</div>
<div class="line">            first_choice = blob_choice_it.data();</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">          }</div>
<div class="line">        }</div>
<div class="line">        <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(first_choice != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">        <span class="keywordflow">if</span> (first_choice-&gt;unichar_id() != word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="a00395.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(i)) {</div>
<div class="line">          word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>-&gt;<a class="code" href="a00050.html#a16968ea622a20067f95506256929ed4b">best_choice_is_dict_and_top_choice</a> = <span class="keyword">false</span>;</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="a00319.html">STRING</a> debug;</div>
<div class="line">    <span class="keywordflow">if</span> (word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>-&gt;<a class="code" href="a00050.html#a16968ea622a20067f95506256929ed4b">best_choice_is_dict_and_top_choice</a>) {</div>
<div class="line">      debug = <span class="stringliteral">&quot;Best choice is: incorrect, top choice, dictionary word&quot;</span>;</div>
<div class="line">      debug += <span class="stringliteral">&quot; with permuter &quot;</span>;</div>
<div class="line">      debug += word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="a00395.html#a4a50ea8f60def206dca0053556e2df5f">permuter_name</a>();</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      debug = <span class="stringliteral">&quot;Classifier/Old LM tradeoff is to blame&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>-&gt;<a class="code" href="a00050.html#a51b9a55eb8acc439f5ade8e97c92da8f">SetBlame</a>(</div>
<div class="line">        word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>-&gt;<a class="code" href="a00050.html#a16968ea622a20067f95506256929ed4b">best_choice_is_dict_and_top_choice</a> ?</div>
<div class="line">            <a class="code" href="a00516.html#a8faf52e106c04bfdc9898ffa90b821e1a9b70b64836694fc6dc4a7a6035b2dad8">IRR_CLASSIFIER</a> : <a class="code" href="a00516.html#a8faf52e106c04bfdc9898ffa90b821e1aec8f086813191f1f038ad3a6e6aa1d04">IRR_CLASS_OLD_LM_TRADEOFF</a>,</div>
<div class="line">        debug, word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>, <a class="code" href="a00401.html#a76e95cb7cbfe636ab00ec46150b5524d">wordrec_debug_blamer</a>);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a> != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; this-&gt;fill_lattice_ != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    <span class="keywordflow">if</span> (ratings == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">      ratings = <a class="code" href="a00401.html#a3581245a7778654f6fd22c4b3721cf06">word_associator</a>(<span class="keyword">true</span>, word, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="a00401.html#a57cb744b40e142b6cb03de0e8998dafc">CallFillLattice</a>(*ratings, <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getBestChoices(),</div>
<div class="line">                    *word-&gt;<a class="code" href="a00396.html#a053a2aeeddc26a93a41a04fa08dd688a">uch_set</a>, word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (ratings != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 0) {</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Final Ratings Matrix:\n&quot;</span>);</div>
<div class="line">      ratings-&gt;<a class="code" href="a00228.html#ae0f2489acb8b15666cb306f82ad2c6de">print</a>(<a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset());</div>
<div class="line">    }</div>
<div class="line">    ratings-&gt;<a class="code" href="a00173.html#a165f54b8c3cbafeaecac991f315be843">delete_matrix_pointers</a>();</div>
<div class="line">    <span class="keyword">delete</span> ratings;</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a9ac3719475ad0a39d464307e1bd74ae3">FilterWordChoices</a>();</div>
<div class="line">  <span class="comment">// TODO(antonova, eger): check that FilterWordChoices() does not filter</span></div>
<div class="line">  <span class="comment">// out anything useful for word bigram or phrase search.</span></div>
<div class="line">  <span class="comment">// TODO(antonova, eger): when implementing word bigram and phrase search</span></div>
<div class="line">  <span class="comment">// we will need to think carefully about how to replace a word with its</span></div>
<div class="line">  <span class="comment">// alternative choice.</span></div>
<div class="line">  <span class="comment">// In particular it might be required to save the segmentation state</span></div>
<div class="line">  <span class="comment">// associated with the word, so that best_char_choices could be updated</span></div>
<div class="line">  <span class="comment">// by rebuild_current_state() correctly.</span></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#acb91792cc7855324b0a6f495defe3218">save_alt_choices</a>) <a class="code" href="a00401.html#a3e07fc3051cf28bed0511983b8f8b69d">SaveAltChoices</a>(<a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getBestChoices(), word);</div>
<div class="line">  char_choices-&gt;<a class="code" href="a00175.html#a98f62dccd75224a60437c2761bd215cd">delete_data_pointers</a>();</div>
<div class="line">  <span class="keyword">delete</span> char_choices;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> best_char_choices;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7127d481d5ea12e3253fb3719fd2170c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BLOB_CHOICE_LIST * tesseract::Wordrec::classify_blob </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00346.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00126.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00774.html#a17bc059e437838f094a5a25c2d5ab88f">C_COL</a>&#160;</td>
          <td class="paramname"><em>color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00050.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00984_source.html#l00062">62</a> of file <a class="el" href="a00984_source.html">wordclass.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                      {</div>
<div class="line">  fflush(stdout);</div>
<div class="line">  BLOB_CHOICE_LIST *choices = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="preprocessor">#ifndef GRAPHICS_DISABLED</span></div>
<div class="line"><span class="preprocessor"></span>  <span class="keywordflow">if</span> (<a class="code" href="a00980.html#a12a5464318b34c3d019270c0954f85e0">wordrec_display_all_blobs</a>)</div>
<div class="line">    <a class="code" href="a00980.html#a2b56bf58c648ddd5efa02b1be0438659">display_blob</a>(blob, color);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>  choices = <a class="code" href="a00401.html#a7518e041a8ddab1d1a2b7e609553b8e3">blob_match_table</a>.<a class="code" href="a00054.html#a2748789f84786ee7c3edf96e6e88a63f">get_match</a>(blob);</div>
<div class="line">  <span class="keywordflow">if</span> (choices == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    choices = <a class="code" href="a00401.html#a2399813e1c656f6638ce7d09ac3a101b">call_matcher</a>(&amp;denorm, blob);</div>
<div class="line">    <a class="code" href="a00401.html#a7518e041a8ddab1d1a2b7e609553b8e3">blob_match_table</a>.<a class="code" href="a00054.html#a347bdac464ebf52e72e01993a4133c9a">put_match</a>(blob, choices);</div>
<div class="line">    <span class="comment">// If a blob with the same bounding box as one of the truth character</span></div>
<div class="line">    <span class="comment">// bounding boxes is not classified as the corresponding truth character</span></div>
<div class="line">    <span class="comment">// blame character classifier for incorrect answer.</span></div>
<div class="line">    <span class="keywordflow">if</span> (blamer_bundle != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; blamer_bundle-&gt;<a class="code" href="a00050.html#ad7dc9029fe6de5f5554046773cb15854">truth_has_char_boxes</a> &amp;&amp;</div>
<div class="line">        blamer_bundle-&gt;<a class="code" href="a00050.html#a2c84b31d55ab290a9247201cdb46752c">incorrect_result_reason</a> == <a class="code" href="a00516.html#a8faf52e106c04bfdc9898ffa90b821e1a4f5ff200b61e6226eb6d74aec188e769">IRR_CORRECT</a>) {</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b = 0; b &lt; blamer_bundle-&gt;<a class="code" href="a00050.html#a0fac62f7f13e3e684c5ef433bfcf3158">norm_truth_word</a>.<a class="code" href="a00062.html#afe001fe8fb7f2d3725b2ac2f542e9878">length</a>(); ++b) {</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="a00347.html">TBOX</a> &amp;truth_box = blamer_bundle-&gt;<a class="code" href="a00050.html#a0fac62f7f13e3e684c5ef433bfcf3158">norm_truth_word</a>.<a class="code" href="a00062.html#a022cfe52a644e9e800595f014b1fbcf5">BlobBox</a>(b);</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="a00347.html">TBOX</a> &amp;blob_box = blob-&gt;<a class="code" href="a00346.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>();</div>
<div class="line">        <span class="comment">// Note that we are more strict on the bounding box boundaries here</span></div>
<div class="line">        <span class="comment">// than in other places (chopper, segmentation search), since we do</span></div>
<div class="line">        <span class="comment">// not have the ability to check the previous and next bounding box.</span></div>
<div class="line">        <span class="keywordflow">if</span> (blob_box.<a class="code" href="a00347.html#ae75357efb10b9c990eaa4a5cf954722c">x_almost_equal</a>(truth_box,</div>
<div class="line">                                    blamer_bundle-&gt;<a class="code" href="a00050.html#a4df5a4ea5a4ba6f973b3c987c95a8a39">norm_box_tolerance</a>/2)) {</div>
<div class="line">          BLOB_CHOICE_IT choices_it(choices);</div>
<div class="line">          <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line">          <span class="keywordtype">bool</span> incorrect_adapted = <span class="keyword">false</span>;</div>
<div class="line">          <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> incorrect_adapted_id = INVALID_UNICHAR_ID;</div>
<div class="line">          <span class="keyword">const</span> <span class="keywordtype">char</span> *truth_str = blamer_bundle-&gt;<a class="code" href="a00050.html#acdff6c1914bf9d06c9461cba0cee1c34">truth_text</a>[b].string();</div>
<div class="line">          <span class="keywordflow">for</span> (choices_it.mark_cycle_pt(); !choices_it.cycled_list();</div>
<div class="line">              choices_it.forward()) {</div>
<div class="line">            <span class="keywordflow">if</span> (strcmp(truth_str, <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset().get_normed_unichar(</div>
<div class="line">                choices_it.data()-&gt;unichar_id())) == 0) {</div>
<div class="line">              found = <span class="keyword">true</span>;</div>
<div class="line">              <span class="keywordflow">break</span>;</div>
<div class="line">            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (choices_it.data()-&gt;adapted()) {</div>
<div class="line">              incorrect_adapted = <span class="keyword">true</span>;</div>
<div class="line">              incorrect_adapted_id = choices_it.data()-&gt;unichar_id();</div>
<div class="line">            }</div>
<div class="line">          }  <span class="comment">// end choices_it for loop</span></div>
<div class="line">          <span class="keywordflow">if</span> (!found) {</div>
<div class="line">            <a class="code" href="a00319.html">STRING</a> debug = <span class="stringliteral">&quot;unichar &quot;</span>;</div>
<div class="line">            debug += truth_str;</div>
<div class="line">            debug += <span class="stringliteral">&quot; not found in classification list&quot;</span>;</div>
<div class="line">            blamer_bundle-&gt;<a class="code" href="a00050.html#a51b9a55eb8acc439f5ade8e97c92da8f">SetBlame</a>(<a class="code" href="a00516.html#a8faf52e106c04bfdc9898ffa90b821e1a9b70b64836694fc6dc4a7a6035b2dad8">IRR_CLASSIFIER</a>, debug,</div>
<div class="line">                                    <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00401.html#a76e95cb7cbfe636ab00ec46150b5524d">wordrec_debug_blamer</a>);</div>
<div class="line">          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (incorrect_adapted) {</div>
<div class="line">            <a class="code" href="a00319.html">STRING</a> debug = <span class="stringliteral">&quot;better rating for adapted &quot;</span>;</div>
<div class="line">            debug += <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#a421c0b6ebcbbe7547490252fb688c961">id_to_unichar</a>(</div>
<div class="line">                incorrect_adapted_id);</div>
<div class="line">            debug += <span class="stringliteral">&quot; than for correct &quot;</span>;</div>
<div class="line">            debug += truth_str;</div>
<div class="line">            blamer_bundle-&gt;<a class="code" href="a00050.html#a51b9a55eb8acc439f5ade8e97c92da8f">SetBlame</a>(<a class="code" href="a00516.html#a8faf52e106c04bfdc9898ffa90b821e1a4779671dba2b7a68bfc0a4ca7e16a56b">IRR_ADAPTION</a>, debug,</div>
<div class="line">                                    <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00401.html#a76e95cb7cbfe636ab00ec46150b5524d">wordrec_debug_blamer</a>);</div>
<div class="line">          }</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">      }  <span class="comment">// end iterating over blamer_bundle-&gt;norm_truth_word</span></div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"><span class="preprocessor">#ifndef GRAPHICS_DISABLED</span></div>
<div class="line"><span class="preprocessor"></span>  <span class="keywordflow">if</span> (<a class="code" href="a00091.html#a0f934f0b39cb869d2a4973269fb696cf">classify_debug_level</a> &amp;&amp; <span class="keywordtype">string</span>)</div>
<div class="line">    <a class="code" href="a00534.html#a2de5b7d5a020bb9823091dbece4ea36e">print_ratings_list</a>(<span class="keywordtype">string</span>, choices, <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset());</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00980.html#a4abb79c2e47e2c18898d51c784b733de">wordrec_blob_pause</a>)</div>
<div class="line">    <a class="code" href="a00773.html#a51dc37eb580fe7f758275685e5ce0d59">window_wait</a>(<a class="code" href="a00980.html#a062919012f2898b36333bae0c19fa89d">blob_window</a>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">  <span class="keywordflow">return</span> (choices);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad59946532b08a90f940ecfa994b06653"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BLOB_CHOICE_LIST * tesseract::Wordrec::classify_piece </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00346.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>pieces</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00126.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a>&#160;</td>
          <td class="paramname"><em>seams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00050.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00975_source.html#l00075">75</a> of file <a class="el" href="a00975_source.html">pieces.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                       {</div>
<div class="line">  BLOB_CHOICE_LIST *choices;</div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a> *blob;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> x;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00540.html#a919dc51833c934e6738e5e18d2dd43f6">join_pieces</a>(pieces, seams, start, end);</div>
<div class="line">  <span class="keywordflow">for</span> (blob = pieces, x = 0; x &lt; start; x++) {</div>
<div class="line">    blob = blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>;</div>
<div class="line">  }</div>
<div class="line">  choices = <a class="code" href="a00401.html#a7127d481d5ea12e3253fb3719fd2170c">classify_blob</a>(blob, denorm, <span class="stringliteral">&quot;pieces:&quot;</span>, <a class="code" href="a00774.html#a17bc059e437838f094a5a25c2d5ab88fab548046646b36c12aa6ba841de500094">White</a>, blamer_bundle);</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00540.html#ac76b2d230d4c44cb0346f516b8a7134a">break_pieces</a>(blob, seams, start, end);</div>
<div class="line"><span class="preprocessor">#ifndef GRAPHICS_DISABLED</span></div>
<div class="line"><span class="preprocessor"></span>  <span class="keywordflow">if</span> (<a class="code" href="a00978.html#a2aed15ed158681a35b22e37ce65cbc3f">wordrec_display_segmentations</a> &gt; 2) {</div>
<div class="line">    <a class="code" href="a00316.html">STATE</a> current_state;</div>
<div class="line">    <a class="code" href="a00810.html#afeb312869cc56f5a20c6f3dcb65644cc">SEARCH_STATE</a> chunk_groups;</div>
<div class="line">    <a class="code" href="a00809.html#a4d7464b9adab39859eca306e1a41ba7e">set_n_ones</a> (&amp;current_state, <a class="code" href="a00798.html#a89ee8010120771c8612dc7058b327f84">array_count</a>(seams));</div>
<div class="line">    chunk_groups = <a class="code" href="a00809.html#a65830cfe21c29feec92f03627b51ff65">bin_to_chunks</a>(&amp;current_state, <a class="code" href="a00798.html#a89ee8010120771c8612dc7058b327f84">array_count</a>(seams));</div>
<div class="line">    <a class="code" href="a00978.html#ae426d5dd68f3489fbf214e6becc91815">display_segmentation</a>(pieces, chunk_groups);</div>
<div class="line">    <a class="code" href="a00773.html#a51dc37eb580fe7f758275685e5ce0d59">window_wait</a>(<a class="code" href="a00978.html#a8ad48aa579fd5ee6e929da14bbb9350f">segm_window</a>);</div>
<div class="line">    <a class="code" href="a00786.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(chunk_groups);</div>
<div class="line">  }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">  <span class="keywordflow">return</span> (choices);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a11c3678047ab91731c5628c49e0b9858"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::combine_seam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00960.html#a0d8a3b6851b93dea4e0b7e7713ccf100">SEAM_QUEUE</a>&#160;</td>
          <td class="paramname"><em>seam_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00960.html#aead75573de3ab18b80b22a97ca124d99">SEAM_PILE</a>&#160;</td>
          <td class="paramname"><em>seam_pile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> *&#160;</td>
          <td class="paramname"><em>seam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>tessedit_fix_sideways_chops || </p>

<p>Definition at line <a class="el" href="a00959_source.html#l00259">259</a> of file <a class="el" href="a00959_source.html">findseam.cpp</a>.</p>
<div class="fragment"><div class="line">                                       {</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> x;</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> dist;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> bottom1, top1;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> bottom2, top2;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00296.html">SEAM</a> *new_one;</div>
<div class="line">  <a class="code" href="a00296.html">SEAM</a> *this_one;</div>
<div class="line"></div>
<div class="line">  bottom1 = seam-&gt;<a class="code" href="a00296.html#a4161a1874921a7854bdd3d7a9f930729">split1</a>-&gt;<a class="code" href="a00314.html#a2451170e7785bb495c0dd3d96fc71167">point1</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">  <span class="keywordflow">if</span> (seam-&gt;<a class="code" href="a00296.html#a4161a1874921a7854bdd3d7a9f930729">split1</a>-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> &gt;= bottom1)</div>
<div class="line">    top1 = seam-&gt;<a class="code" href="a00296.html#a4161a1874921a7854bdd3d7a9f930729">split1</a>-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    top1 = bottom1;</div>
<div class="line">    bottom1 = seam-&gt;<a class="code" href="a00296.html#a4161a1874921a7854bdd3d7a9f930729">split1</a>-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a> != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    bottom2 = seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>-&gt;<a class="code" href="a00314.html#a2451170e7785bb495c0dd3d96fc71167">point1</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">    <span class="keywordflow">if</span> (seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> &gt;= bottom2)</div>
<div class="line">      top2 = seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">      top2 = bottom2;</div>
<div class="line">      bottom2 = seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    bottom2 = bottom1;</div>
<div class="line">    top2 = top1;</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="a00798.html#a6cb2253ca40c87d6ee706418575fb3e5">array_loop</a>(seam_pile, x) {</div>
<div class="line">    this_one = (<a class="code" href="a00296.html">SEAM</a> *) <a class="code" href="a00798.html#a290cd2ea119e279ad48b57fbe5ca1aad">array_value</a> (seam_pile, x);</div>
<div class="line">    dist = seam-&gt;<a class="code" href="a00296.html#a62ddded2ea46187c395f40823d036ed3">location</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> - this_one-&gt;<a class="code" href="a00296.html#a62ddded2ea46187c395f40823d036ed3">location</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>;</div>
<div class="line">    <span class="keywordflow">if</span> (-<a class="code" href="a00959.html#a137ecd53cc1a098b2943e48aff99c6b6">SPLIT_CLOSENESS</a> &lt; dist &amp;&amp;</div>
<div class="line">      dist &lt; <a class="code" href="a00959.html#a137ecd53cc1a098b2943e48aff99c6b6">SPLIT_CLOSENESS</a> &amp;&amp;</div>
<div class="line">    seam-&gt;<a class="code" href="a00296.html#a73a33b08d22988d595cd18da31235dc4">priority</a> + this_one-&gt;<a class="code" href="a00296.html#a73a33b08d22988d595cd18da31235dc4">priority</a> &lt; <a class="code" href="a00401.html#ac696a875283d1ce3e888e1b63fd52d9f">chop_ok_split</a>) {</div>
<div class="line">      <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> split1_point1_y = this_one-&gt;<a class="code" href="a00296.html#a4161a1874921a7854bdd3d7a9f930729">split1</a>-&gt;<a class="code" href="a00314.html#a2451170e7785bb495c0dd3d96fc71167">point1</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">      <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> split1_point2_y = this_one-&gt;<a class="code" href="a00296.html#a4161a1874921a7854bdd3d7a9f930729">split1</a>-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">      <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> split2_point1_y = 0;</div>
<div class="line">      <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> split2_point2_y = 0;</div>
<div class="line">      <span class="keywordflow">if</span> (this_one-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>) {</div>
<div class="line">        split2_point1_y = this_one-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>-&gt;<a class="code" href="a00314.html#a2451170e7785bb495c0dd3d96fc71167">point1</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">        split2_point2_y = this_one-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">if</span> (</div>
<div class="line">        (</div>
<div class="line">          <span class="comment">/* this_one-&gt;split1 always exists */</span></div>
<div class="line">          (</div>
<div class="line">            ((split1_point1_y &gt;= top1 &amp;&amp; split1_point2_y &gt;= top1) ||</div>
<div class="line">             (split1_point1_y &lt;= bottom1 &amp;&amp; split1_point2_y &lt;= bottom1))</div>
<div class="line">            &amp;&amp;</div>
<div class="line">            ((split1_point1_y &gt;= top2 &amp;&amp; split1_point2_y &gt;= top2) ||</div>
<div class="line">             (split1_point1_y &lt;= bottom2 &amp;&amp; split1_point2_y &lt;= bottom2))</div>
<div class="line">          )</div>
<div class="line">        )</div>
<div class="line">        &amp;&amp;</div>
<div class="line">        (</div>
<div class="line">          this_one-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a> == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||</div>
<div class="line">          (</div>
<div class="line">            ((split2_point1_y &gt;= top1 &amp;&amp; split2_point2_y &gt;= top1) ||</div>
<div class="line">             (split2_point1_y &lt;= bottom1 &amp;&amp; split2_point2_y &lt;= bottom1))</div>
<div class="line">            &amp;&amp;</div>
<div class="line">            ((split2_point1_y &gt;= top2 &amp;&amp; split2_point2_y &gt;= top2) ||</div>
<div class="line">             (split2_point1_y &lt;= bottom2 &amp;&amp; split2_point2_y &lt;= bottom2))</div>
<div class="line">          )</div>
<div class="line">        )</div>
<div class="line">      ) {</div>
<div class="line">        new_one = <a class="code" href="a00540.html#ab0747cde950e63b99888b8dcbc654177">join_two_seams</a> (seam, this_one);</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a> &gt; 1)</div>
<div class="line">          <a class="code" href="a00540.html#a2168b2b29d8981405d068256c2b61e3b">print_seam</a> (<span class="stringliteral">&quot;Combo priority       &quot;</span>, new_one);</div>
<div class="line">        <a class="code" href="a00959.html#abed03e7c5b2ef922010b6f56a968ba4d">add_seam_to_queue</a> (seam_queue, new_one, new_one-&gt;<a class="code" href="a00296.html#a73a33b08d22988d595cd18da31235dc4">priority</a>);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab304a891354f890ed124488273b57b19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> tesseract::Wordrec::constrained_split </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00543.html#a8caa4994d858ff69cd340ac6f89731cb">SPLIT</a> *&#160;</td>
          <td class="paramname"><em>split</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00346.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00959_source.html#l00343">343</a> of file <a class="el" href="a00959_source.html">findseam.cpp</a>.</p>
<div class="fragment"><div class="line">                                                          {</div>
<div class="line">  <a class="code" href="a00365.html">TESSLINE</a> *outline;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#ada66e05fa0ae8dc79b9de78f5f6efadf">is_little_chunk</a> (split-&gt;<a class="code" href="a00314.html#a2451170e7785bb495c0dd3d96fc71167">point1</a>, split-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>))</div>
<div class="line">    <span class="keywordflow">return</span> (<a class="code" href="a00409.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (outline = blob-&gt;<a class="code" href="a00346.html#a3c9282cad4102157d214bcc6311cda07">outlines</a>; outline; outline = outline-&gt;<a class="code" href="a00365.html#a0fb224d43ea53a791f0957fa92793bef">next</a>) {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00962.html#a73777293ec1aaad3fb42a28dbebf6201">split_bounds_overlap</a> (split, outline) &amp;&amp;</div>
<div class="line">    <a class="code" href="a00401.html#a6ad6a99cdee8d3a3ceaec40afade8714">crosses_outline</a> (split-&gt;<a class="code" href="a00314.html#a2451170e7785bb495c0dd3d96fc71167">point1</a>, split-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>, outline-&gt;<a class="code" href="a00365.html#a0ab1e26b1dae548f0bd3c096c6183b18">loop</a>)) {</div>
<div class="line">      <span class="keywordflow">return</span> (<a class="code" href="a00409.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (<a class="code" href="a00409.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e9f488de12a12cd99ae4c2c55c87bc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::CopyCharChoices </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00986_source.html#l00148">148</a> of file <a class="el" href="a00986_source.html">wordrec.cpp</a>.</p>
<div class="fragment"><div class="line">                                                           {</div>
<div class="line">  to-&gt;<a class="code" href="a00175.html#a98f62dccd75224a60437c2761bd215cd">delete_data_pointers</a>();</div>
<div class="line">  to-&gt;<a class="code" href="a00175.html#a9cdbff49b186574b83e43afba606fdd9">clear</a>();</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; from.<a class="code" href="a00175.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>(); ++i) {</div>
<div class="line">    BLOB_CHOICE_LIST *cc_list = <span class="keyword">new</span> BLOB_CHOICE_LIST();</div>
<div class="line">    cc_list-&gt;deep_copy(from[i], &amp;<a class="code" href="a00052.html#af3f12ffe754a76bf2abbb82a001336f9">BLOB_CHOICE::deep_copy</a>);</div>
<div class="line">    to-&gt;<a class="code" href="a00175.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(cc_list);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6ad6a99cdee8d3a3ceaec40afade8714"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::crosses_outline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>p0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>outline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00973_source.html#l00048">48</a> of file <a class="el" href="a00973_source.html">outlines.cpp</a>.</p>
<div class="fragment"><div class="line">                                              {  <span class="comment">/* Outline to check */</span></div>
<div class="line">  <a class="code" href="a00135.html">EDGEPT</a> *pt = outline;</div>
<div class="line">  <span class="keywordflow">do</span> {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#af5466c6b57ff40780c0be86b1330f1cf">is_crossed</a> (p0-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>, p1-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>, pt-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>, pt-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>))</div>
<div class="line">      <span class="keywordflow">return</span> (<a class="code" href="a00409.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line">    pt = pt-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">while</span> (pt != outline);</div>
<div class="line">  <span class="keywordflow">return</span> (<a class="code" href="a00409.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a15fb0ba7f97dd0ad49f30fb7861717c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::delete_seam_pile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00960.html#aead75573de3ab18b80b22a97ca124d99">SEAM_PILE</a>&#160;</td>
          <td class="paramname"><em>seam_pile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00959_source.html#l00365">365</a> of file <a class="el" href="a00959_source.html">findseam.cpp</a>.</p>
<div class="fragment"><div class="line">                                                  {</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> x;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00798.html#a6cb2253ca40c87d6ee706418575fb3e5">array_loop</a>(seam_pile, x) {</div>
<div class="line">    <a class="code" href="a00540.html#abe1c472bf676a613f555cee9d29f7c3d">delete_seam</a> ((<a class="code" href="a00296.html">SEAM</a> *) <a class="code" href="a00798.html#a290cd2ea119e279ad48b57fbe5ca1aad">array_value</a> (seam_pile, x));</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="a00798.html#aa10b4761a8b4ccd6d4a6c7e792671f78">array_free</a>(seam_pile);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a138fe5d0ffacb19535094f221a9e6511"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::delete_search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00297.html">SEARCH_RECORD</a> *&#160;</td>
          <td class="paramname"><em>the_search</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>delete_search</p>
<p>Terminate the current search and free all the memory involved. </p>

<p>Definition at line <a class="el" href="a00949_source.html#l00179">179</a> of file <a class="el" href="a00949_source.html">bestfirst.cpp</a>.</p>
<div class="fragment"><div class="line">                                                     {</div>
<div class="line">  <span class="keywordtype">float</span> closeness;</div>
<div class="line"></div>
<div class="line">  closeness = (the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a> ?</div>
<div class="line">    (<a class="code" href="a00771.html#a5e8aad36a4fa1ed6100fc1504a2100b5">hamming_distance</a>(reinterpret_cast&lt;uinT32*&gt;(the_search-&gt;<a class="code" href="a00297.html#aca35760bea50d16acf102376bb0b2716">first_state</a>),</div>
<div class="line">                      reinterpret_cast&lt;uinT32*&gt;(the_search-&gt;<a class="code" href="a00297.html#a466df91ecf19a56dac83d4654c454e19">best_state</a>), 2) /</div>
<div class="line">      (float) the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a>) : 0.0f);</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00810.html#a4f83f140c72e5495f16b40be3dae3b42">free_state</a> (the_search-&gt;<a class="code" href="a00297.html#aca35760bea50d16acf102376bb0b2716">first_state</a>);</div>
<div class="line">  <a class="code" href="a00810.html#a4f83f140c72e5495f16b40be3dae3b42">free_state</a> (the_search-&gt;<a class="code" href="a00297.html#a466df91ecf19a56dac83d4654c454e19">best_state</a>);</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00956.html#a4075db38ca70b8f395dc47e7b6565979">free_hash_table</a>(the_search-&gt;<a class="code" href="a00297.html#add2a2c40e476a2a080bf10bd18d393bb">closed_states</a>);</div>
<div class="line">  <a class="code" href="a00791.html#a66bcae55ce37fec5afd5fdeb5a879d37">FreeHeapData</a> (the_search-&gt;<a class="code" href="a00297.html#adee178f3348481683069a38f4185c27a">open_states</a>, (<a class="code" href="a00777.html#a840df4080fe3d271893f7db1ff27cc90">void_dest</a>) <a class="code" href="a00810.html#a4f83f140c72e5495f16b40be3dae3b42">free_state</a>);</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00786.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(the_search);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a13f2efa710b3a68e30e8bc2f69bee578"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::dict_word </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00983_source.html#l00133">133</a> of file <a class="el" href="a00983_source.html">tface.cpp</a>.</p>
<div class="fragment"><div class="line">                                              {</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a22a45cd03f5d2191d0aeba41e3b4f52f">valid_word</a>(word);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae0e2f8d5761f19008b20943a6e8ba130"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::end_recog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00983_source.html#l00067">67</a> of file <a class="el" href="a00983_source.html">tface.cpp</a>.</p>
<div class="fragment"><div class="line">                       {</div>
<div class="line">  <a class="code" href="a00401.html#a5b44d020ea7f9d19d2e8f71b4e83113c">program_editdown</a> (0);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> (0);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a17730ff30d62f74a4a14904664bd8656"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> * tesseract::Wordrec::evaluate_chunks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00088.html">CHUNKS_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunks_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00810.html#afeb312869cc56f5a20c6f3dcb65644cc">SEARCH_STATE</a>&#160;</td>
          <td class="paramname"><em>search_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00050.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>evaluate_chunks</p>
<p>A particular word level segmentation has been chosen. Evaluation this to find the word list that corresponds to it. </p>

<p>Definition at line <a class="el" href="a00949_source.html#l00203">203</a> of file <a class="el" href="a00949_source.html">bestfirst.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                               {</div>
<div class="line">  <a class="code" href="a00175.html">BLOB_CHOICE_LIST_VECTOR</a> *char_choices = <span class="keyword">new</span> <a class="code" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a>();</div>
<div class="line">  BLOB_CHOICE_LIST *blob_choices;</div>
<div class="line">  BLOB_CHOICE_IT blob_choice_it;</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line">  <span class="keywordtype">int</span> x = 0;</div>
<div class="line">  <span class="keywordtype">int</span> y;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Iterate sub-paths.</span></div>
<div class="line">  <span class="keywordflow">for</span> (i = 1; i &lt;= search_state[0] + 1; i++) {</div>
<div class="line">    <span class="keywordflow">if</span> (i &gt; search_state[0])</div>
<div class="line">      y = <a class="code" href="a00475.html#aa8048f4c65af2775452ad5d4dfbca053">count_blobs</a> (chunks_record-&gt;<a class="code" href="a00088.html#a953645d7dbb5789cf5feb918df3e914e">chunks</a>) - 1;</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      y = x + search_state[i];</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Process one square.</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// Classify if needed.</span></div>
<div class="line">    blob_choices = <a class="code" href="a00401.html#aab16c53ccf9c888874c2e7ae65b6ed04">get_piece_rating</a>(chunks_record-&gt;<a class="code" href="a00088.html#a0b28a4ba4a1c931ed994847db83e0ef5">ratings</a>,</div>
<div class="line">                                    chunks_record-&gt;<a class="code" href="a00088.html#a953645d7dbb5789cf5feb918df3e914e">chunks</a>,</div>
<div class="line">                                    chunks_record-&gt;<a class="code" href="a00088.html#aa3826aaf2a5a7a76b000859ace1f8602">word_res</a>-&gt;<a class="code" href="a00396.html#a202d9d5d2a462d84012011c689e16605">denorm</a>,</div>
<div class="line">                                    chunks_record-&gt;<a class="code" href="a00088.html#aca32a87e5f9e4d04777ca3551b65b27c">splits</a>,</div>
<div class="line">                                    x, y, blamer_bundle);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (blob_choices == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">      <span class="keyword">delete</span> char_choices;</div>
<div class="line">      <span class="keywordflow">return</span> (<a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Add permuted ratings.</span></div>
<div class="line">    blob_choice_it.set_to_list(blob_choices);</div>
<div class="line">    <a class="code" href="a00401.html#af7a36436e7e7fd0691bc093814fc2b62">last_segmentation</a>[i - 1].certainty = blob_choice_it.data()-&gt;certainty();</div>
<div class="line">    <a class="code" href="a00401.html#af7a36436e7e7fd0691bc093814fc2b62">last_segmentation</a>[i - 1].match = blob_choice_it.data()-&gt;rating();</div>
<div class="line"></div>
<div class="line">    <a class="code" href="a00401.html#af7a36436e7e7fd0691bc093814fc2b62">last_segmentation</a>[i - 1].width =</div>
<div class="line">      <a class="code" href="a00041.html#a3837f65de5a035f815172585412e6023">AssociateUtils::GetChunksWidth</a>(chunks_record-&gt;<a class="code" href="a00088.html#a3ac3e771d771818dff8eed190d11d50f">chunk_widths</a>, x, y);</div>
<div class="line">    <a class="code" href="a00401.html#af7a36436e7e7fd0691bc093814fc2b62">last_segmentation</a>[i - 1].gap =</div>
<div class="line">      <a class="code" href="a00041.html#a0afb66af80c912a79c20385eba26927d">AssociateUtils::GetChunksGap</a>(chunks_record-&gt;<a class="code" href="a00088.html#a3ac3e771d771818dff8eed190d11d50f">chunk_widths</a>, y);</div>
<div class="line"></div>
<div class="line">    *char_choices += blob_choices;</div>
<div class="line">    x = y + 1;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (char_choices);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9eb2175e0e99588f283809bea8cdf2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> tesseract::Wordrec::evaluate_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00088.html">CHUNKS_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunks_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00297.html">SEARCH_RECORD</a> *&#160;</td>
          <td class="paramname"><em>the_search</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *&#160;</td>
          <td class="paramname"><em>fixpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00050.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00949_source.html#l00256">256</a> of file <a class="el" href="a00949_source.html">bestfirst.cpp</a>.</p>
<div class="fragment"><div class="line">                                                           {</div>
<div class="line">  <a class="code" href="a00175.html">BLOB_CHOICE_LIST_VECTOR</a> *char_choices;</div>
<div class="line">  <a class="code" href="a00810.html#afeb312869cc56f5a20c6f3dcb65644cc">SEARCH_STATE</a> chunk_groups;</div>
<div class="line">  <span class="keywordtype">float</span> rating_limit = the_search-&gt;<a class="code" href="a00297.html#a468657e9c9b8df182c4890544c530f87">best_choice</a>-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>();</div>
<div class="line">  <span class="keywordtype">bool</span> keep_going = <span class="keyword">true</span>;</div>
<div class="line">  <a class="code" href="a00810.html#a5fa79db9c64231406ef3807adfad627d">PIECES_STATE</a> widths;</div>
<div class="line"></div>
<div class="line">  the_search-&gt;<a class="code" href="a00297.html#a0a90b0a8729b436739b6019c7355301c">num_states</a>++;</div>
<div class="line">  chunk_groups = <a class="code" href="a00809.html#a65830cfe21c29feec92f03627b51ff65">bin_to_chunks</a>(the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>,</div>
<div class="line">                               the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a>);</div>
<div class="line">  <a class="code" href="a00809.html#acd6fd8bb4f29a8f5674ec05b47e63466">bin_to_pieces</a> (the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>, the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a>, widths);</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1) {</div>
<div class="line">    log_state(<span class="stringliteral">&quot;Evaluating state&quot;</span>, the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a>,</div>
<div class="line">              the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>);</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a767d9d6e0095d70f2905dac7d48c32c5">LogNewSegmentation</a>(widths);</div>
<div class="line"></div>
<div class="line">  char_choices = <a class="code" href="a00401.html#a17730ff30d62f74a4a14904664bd8656">evaluate_chunks</a>(chunks_record, chunk_groups, blamer_bundle);</div>
<div class="line">  <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a1ed6ea4bcf2cb841fea2fef21ec656d4" title="Set wordseg_rating_adjust_factor_ to the given value.">SetWordsegRatingAdjustFactor</a>(-1.0<a class="code" href="a00428.html#a469169df397b589e709dc744f1346831">f</a>);</div>
<div class="line">  <span class="keywordtype">bool</span> updated_best_choice = <span class="keyword">false</span>;</div>
<div class="line">  <span class="keywordflow">if</span> (char_choices != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; char_choices-&gt;<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() &gt; 0) {</div>
<div class="line">    <span class="comment">// Compute the segmentation cost and include the cost in word rating.</span></div>
<div class="line">    <span class="comment">// TODO(dsl): We should change the SEARCH_RECORD to store this cost</span></div>
<div class="line">    <span class="comment">// from state evaluation and avoid recomputing it here.</span></div>
<div class="line">    <a class="code" href="a00401.html#a5ad58d7dcf5cbe7852aefb3b35a9ce33">prioritize_state</a>(chunks_record, the_search);</div>
<div class="line">    <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a1ed6ea4bcf2cb841fea2fef21ec656d4" title="Set wordseg_rating_adjust_factor_ to the given value.">SetWordsegRatingAdjustFactor</a>(the_search-&gt;<a class="code" href="a00297.html#afc64aa6140730c7cc307c734548d2d0f">segcost_bias</a>);</div>
<div class="line">    updated_best_choice =</div>
<div class="line">      <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#ab9c442c6c541ea1be7a0a132aea3af51">permute_characters</a>(*char_choices,</div>
<div class="line">                                   the_search-&gt;<a class="code" href="a00297.html#a468657e9c9b8df182c4890544c530f87">best_choice</a>,</div>
<div class="line">                                   the_search-&gt;<a class="code" href="a00297.html#ad25cff29f63f480a293196c094a66020">raw_choice</a>);</div>
<div class="line">    <span class="keywordtype">bool</span> replaced = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (updated_best_choice) {</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().AcceptableChoice(char_choices, the_search-&gt;<a class="code" href="a00297.html#a468657e9c9b8df182c4890544c530f87">best_choice</a>,</div>
<div class="line">                                     <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00812.html#a1902ef46a46c64df98f9a99f6368e4f6ab3ee8ad8499dfa102c04e8cb8cb41cdc">ASSOCIATOR_CALLER</a>, &amp;replaced)) {</div>
<div class="line">        keep_going = <span class="keyword">false</span>;</div>
<div class="line">      }</div>
<div class="line">      <a class="code" href="a00401.html#a6e9f488de12a12cd99ae4c2c55c87bc6">CopyCharChoices</a>(*char_choices, the_search-&gt;<a class="code" href="a00297.html#a39e4f8b8e4e11c6b2ca2053ff51fa798">best_char_choices</a>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a1ed6ea4bcf2cb841fea2fef21ec656d4" title="Set wordseg_rating_adjust_factor_ to the given value.">SetWordsegRatingAdjustFactor</a>(-1.0<a class="code" href="a00428.html#a469169df397b589e709dc744f1346831">f</a>);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef GRAPHICS_DISABLED</span></div>
<div class="line"><span class="preprocessor"></span>  <span class="keywordflow">if</span> (<a class="code" href="a00978.html#a2aed15ed158681a35b22e37ce65cbc3f">wordrec_display_segmentations</a>) {</div>
<div class="line">    <a class="code" href="a00978.html#ae426d5dd68f3489fbf214e6becc91815">display_segmentation</a> (chunks_record-&gt;<a class="code" href="a00088.html#a953645d7dbb5789cf5feb918df3e914e">chunks</a>, chunk_groups);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00978.html#a2aed15ed158681a35b22e37ce65cbc3f">wordrec_display_segmentations</a> &gt; 1)</div>
<div class="line">      <a class="code" href="a00773.html#a51dc37eb580fe7f758275685e5ce0d59">window_wait</a>(<a class="code" href="a00978.html#a8ad48aa579fd5ee6e929da14bbb9350f">segm_window</a>);</div>
<div class="line">  }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">  <span class="keywordflow">if</span> (rating_limit != the_search-&gt;<a class="code" href="a00297.html#a468657e9c9b8df182c4890544c530f87">best_choice</a>-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>()) {</div>
<div class="line">    <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(updated_best_choice);</div>
<div class="line">    the_search-&gt;<a class="code" href="a00297.html#ab881f72bd7d5c4d14093681af511a596">before_best</a> = the_search-&gt;<a class="code" href="a00297.html#a0a90b0a8729b436739b6019c7355301c">num_states</a>;</div>
<div class="line">    the_search-&gt;<a class="code" href="a00297.html#a466df91ecf19a56dac83d4654c454e19">best_state</a>-&gt;<a class="code" href="a00316.html#a2099a72d99d2ba5f828ad8538d328f4b">part1</a> = the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>-&gt;<a class="code" href="a00316.html#a2099a72d99d2ba5f828ad8538d328f4b">part1</a>;</div>
<div class="line">    the_search-&gt;<a class="code" href="a00297.html#a466df91ecf19a56dac83d4654c454e19">best_state</a>-&gt;<a class="code" href="a00316.html#aa75ceb95132aecb5a8ae1e594a19733a">part2</a> = the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>-&gt;<a class="code" href="a00316.html#aa75ceb95132aecb5a8ae1e594a19733a">part2</a>;</div>
<div class="line">    <a class="code" href="a00401.html#a35746f8e970b19443f459c060a8775c9">replace_char_widths</a>(chunks_record, chunk_groups);</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(!updated_best_choice);</div>
<div class="line">    <span class="keywordflow">if</span> (char_choices != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) fixpt-&gt;<a class="code" href="a00175.html#a9cdbff49b186574b83e43afba606fdd9">clear</a>();</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (char_choices != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) <span class="keyword">delete</span> char_choices;</div>
<div class="line">  <a class="code" href="a00786.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(chunk_groups);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> (keep_going);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a03931abc6310dd587fdaff3ccf272887"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::expand_node </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>worst_priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00088.html">CHUNKS_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunks_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00297.html">SEARCH_RECORD</a> *&#160;</td>
          <td class="paramname"><em>the_search</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00949_source.html#l00499">499</a> of file <a class="el" href="a00949_source.html">bestfirst.cpp</a>.</p>
<div class="fragment"><div class="line">                                                     {</div>
<div class="line">  <a class="code" href="a00316.html">STATE</a> old_state;</div>
<div class="line">  <span class="keywordtype">int</span> x;</div>
<div class="line">  <a class="code" href="a00577.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a> mask = 1 &lt;&lt; (the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a> - 1 - 32);</div>
<div class="line"></div>
<div class="line">  old_state.<a class="code" href="a00316.html#a2099a72d99d2ba5f828ad8538d328f4b">part1</a> = the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>-&gt;<a class="code" href="a00316.html#a2099a72d99d2ba5f828ad8538d328f4b">part1</a>;</div>
<div class="line">  old_state.<a class="code" href="a00316.html#aa75ceb95132aecb5a8ae1e594a19733a">part2</a> = the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>-&gt;<a class="code" href="a00316.html#aa75ceb95132aecb5a8ae1e594a19733a">part2</a>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// We need to expand the search more intelligently, or we get stuck</span></div>
<div class="line">  <span class="comment">// with a bad starting segmentation in a long word sequence as in CJK.</span></div>
<div class="line">  <span class="comment">// Expand a child node only if it is within the global bound, and no</span></div>
<div class="line">  <span class="comment">// worse than 2x of its parent.</span></div>
<div class="line">  <span class="comment">// TODO(dsl): There is some redudency here in recomputing the priority,</span></div>
<div class="line">  <span class="comment">// and in filtering of old_merit and worst_priority.</span></div>
<div class="line">  the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>-&gt;<a class="code" href="a00316.html#aa75ceb95132aecb5a8ae1e594a19733a">part2</a> = old_state.<a class="code" href="a00316.html#aa75ceb95132aecb5a8ae1e594a19733a">part2</a>;</div>
<div class="line">  <span class="keywordflow">for</span> (x = the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a>; x &gt; 32; x--) {</div>
<div class="line">    the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>-&gt;<a class="code" href="a00316.html#a2099a72d99d2ba5f828ad8538d328f4b">part1</a> = mask ^ old_state.<a class="code" href="a00316.html#a2099a72d99d2ba5f828ad8538d328f4b">part1</a>;</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="a00955.html#af42fdf0836fd4f40c478a4c46f4148c5">hash_lookup</a> (the_search-&gt;<a class="code" href="a00297.html#add2a2c40e476a2a080bf10bd18d393bb">closed_states</a>, the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>)) {</div>
<div class="line">      <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> new_merit = <a class="code" href="a00401.html#a5ad58d7dcf5cbe7852aefb3b35a9ce33">prioritize_state</a>(chunks_record, the_search);</div>
<div class="line">      <span class="keywordflow">if</span> (new_merit &lt; worst_priority) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1)</div>
<div class="line">          log_state(<span class="stringliteral">&quot;Pushing segstate&quot;</span>, the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a>,</div>
<div class="line">                    the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>, new_merit);</div>
<div class="line">        <a class="code" href="a00401.html#aeec11442b97898cd44ddfe568dd9ee0f">push_queue</a>(the_search-&gt;<a class="code" href="a00297.html#adee178f3348481683069a38f4185c27a">open_states</a>, the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>,</div>
<div class="line">                   worst_priority, new_merit, <a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1);</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1)</div>
<div class="line">          log_state(<span class="stringliteral">&quot;Ignore weak segstate&quot;</span>, the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a>,</div>
<div class="line">                    the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>, new_merit);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    mask &gt;&gt;= 1;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a> &gt; 32) {</div>
<div class="line">    mask = 1 &lt;&lt; 31;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    mask = 1 &lt;&lt; (the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a> - 1);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>-&gt;<a class="code" href="a00316.html#a2099a72d99d2ba5f828ad8538d328f4b">part1</a> = old_state.<a class="code" href="a00316.html#a2099a72d99d2ba5f828ad8538d328f4b">part1</a>;</div>
<div class="line">  <span class="keywordflow">while</span> (x--) {</div>
<div class="line">    the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>-&gt;<a class="code" href="a00316.html#aa75ceb95132aecb5a8ae1e594a19733a">part2</a> = mask ^ old_state.<a class="code" href="a00316.html#aa75ceb95132aecb5a8ae1e594a19733a">part2</a>;</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="a00955.html#af42fdf0836fd4f40c478a4c46f4148c5">hash_lookup</a> (the_search-&gt;<a class="code" href="a00297.html#add2a2c40e476a2a080bf10bd18d393bb">closed_states</a>, the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>)) {</div>
<div class="line">      <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> new_merit = <a class="code" href="a00401.html#a5ad58d7dcf5cbe7852aefb3b35a9ce33">prioritize_state</a>(chunks_record, the_search);</div>
<div class="line">      <span class="keywordflow">if</span> (new_merit &lt; worst_priority) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1)</div>
<div class="line">          log_state(<span class="stringliteral">&quot;Pushing segstate&quot;</span>, the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a>,</div>
<div class="line">                    the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>, new_merit);</div>
<div class="line">        <a class="code" href="a00401.html#aeec11442b97898cd44ddfe568dd9ee0f">push_queue</a>(the_search-&gt;<a class="code" href="a00297.html#adee178f3348481683069a38f4185c27a">open_states</a>, the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>,</div>
<div class="line">                   worst_priority, new_merit, <a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1);</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1)</div>
<div class="line">          log_state(<span class="stringliteral">&quot;Ignoring weak segstate&quot;</span>, the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a>,</div>
<div class="line">                    the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>, new_merit);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    mask &gt;&gt;= 1;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae15505acaad8195b1b96de4a393bfc3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BLOB_CHOICE_LIST * tesseract::Wordrec::fake_classify_blob </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a>&#160;</td>
          <td class="paramname"><em>class_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rating</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>certainty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00984_source.html#l00136">136</a> of file <a class="el" href="a00984_source.html">wordclass.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                             {</div>
<div class="line">  BLOB_CHOICE_LIST *ratings = <span class="keyword">new</span> BLOB_CHOICE_LIST();  <span class="comment">// matcher result</span></div>
<div class="line">  <a class="code" href="a00052.html">BLOB_CHOICE</a> *choice =</div>
<div class="line">      <span class="keyword">new</span> <a class="code" href="a00052.html">BLOB_CHOICE</a>(class_id, rating, certainty, -1, -1, 0, 0, 0, <span class="keyword">false</span>);</div>
<div class="line">  BLOB_CHOICE_IT temp_it(ratings);</div>
<div class="line">  temp_it.add_after_stay_put(choice);</div>
<div class="line">  <span class="keywordflow">return</span> ratings;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a82e3d17abe8744c66fe3aa67fe2ea0f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::fill_filtered_fragment_list </td>
          <td>(</td>
          <td class="paramtype">BLOB_CHOICE_LIST *&#160;</td>
          <td class="paramname"><em>choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fragment_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_frag_parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BLOB_CHOICE_LIST *&#160;</td>
          <td class="paramname"><em>filtered_choices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00975_source.html#l00136">136</a> of file <a class="el" href="a00975_source.html">pieces.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                              {</div>
<div class="line">  BLOB_CHOICE_IT filtered_choices_it(filtered_choices);</div>
<div class="line">  BLOB_CHOICE_IT choices_it(choices);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (choices_it.mark_cycle_pt(); !choices_it.cycled_list();</div>
<div class="line">       choices_it.forward()) {</div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> choice_unichar_id = choices_it.data()-&gt;unichar_id();</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="a00074.html">CHAR_FRAGMENT</a> *frag = <a class="code" href="a00070.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="a00387.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(choice_unichar_id);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (frag != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; frag-&gt;<a class="code" href="a00074.html#a543f738bd883d0417da44a211c6a822b">get_pos</a>() == fragment_pos &amp;&amp;</div>
<div class="line">        frag-&gt;<a class="code" href="a00074.html#aac1d5e077505363c264144a9348b3f0e">get_total</a>() == num_frag_parts) {</div>
<div class="line">      <span class="comment">// Recover the unichar_id of the unichar that this fragment is</span></div>
<div class="line">      <span class="comment">// a part of</span></div>
<div class="line">      <a class="code" href="a00052.html">BLOB_CHOICE</a> *b = <span class="keyword">new</span> <a class="code" href="a00052.html">BLOB_CHOICE</a>(*choices_it.data());</div>
<div class="line">      <span class="keywordtype">int</span> original_unichar = <a class="code" href="a00070.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="a00387.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(frag-&gt;<a class="code" href="a00074.html#aabfbe5c558b411ecb3c9a34d0615c2de">get_unichar</a>());</div>
<div class="line">      b-&gt;<a class="code" href="a00052.html#af740a2c4156630dcf9cadf54aecaa2e7">set_unichar_id</a>(original_unichar);</div>
<div class="line">      filtered_choices_it.add_to_end(b);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  filtered_choices-&gt;sort(SortByUnicharID&lt;BLOB_CHOICE&gt;);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7b5bc2e6f3a8666f5bcb4a539c29c823"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::FillLattice </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00228.html">MATRIX</a> &amp;&#160;</td>
          <td class="paramname"><em>ratings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00407.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> &amp;&#160;</td>
          <td class="paramname"><em>best_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00387.html">UNICHARSET</a> &amp;&#160;</td>
          <td class="paramname"><em>unicharset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00050.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abbb02091c23e7be9370055704526102f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::FinishBlamerForSegSearch </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>best_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00050.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00319.html">STRING</a> *&#160;</td>
          <td class="paramname"><em>blamer_debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00982_source.html#l00376">376</a> of file <a class="el" href="a00982_source.html">segsearch.cpp</a>.</p>
<div class="fragment"><div class="line">                                                             {</div>
<div class="line">  <span class="comment">// If we are still looking for blame (i.e. best_choice is incorrect, but a</span></div>
<div class="line">  <span class="comment">// path representing the correct segmentation could be constructed), we can</span></div>
<div class="line">  <span class="comment">// blame segmentation search pain point prioritization if the rating of the</span></div>
<div class="line">  <span class="comment">// path corresponding to the correct segmentation is better than that of</span></div>
<div class="line">  <span class="comment">// best_choice (i.e. language model would have done the correct thing, but</span></div>
<div class="line">  <span class="comment">// because of poor pain point prioritization the correct segmentation was</span></div>
<div class="line">  <span class="comment">// never explored). Otherwise we blame the tradeoff between the language model</span></div>
<div class="line">  <span class="comment">// and the classifier, since even after exploring the path corresponding to</span></div>
<div class="line">  <span class="comment">// the correct segmentation incorrect best_choice would have been chosen.</span></div>
<div class="line">  <span class="comment">// One special case when we blame the classifier instead is when best choice</span></div>
<div class="line">  <span class="comment">// is incorrect, but it is a dictionary word and it classifier&#39;s top choice.</span></div>
<div class="line">  <span class="keywordflow">if</span> (blamer_bundle != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; blamer_bundle-&gt;<a class="code" href="a00050.html#ab02f7b4dc4711eef44a5891efb707b3b">segsearch_is_looking_for_blame</a>) {</div>
<div class="line">    blamer_bundle-&gt;<a class="code" href="a00050.html#ab02f7b4dc4711eef44a5891efb707b3b">segsearch_is_looking_for_blame</a> = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (blamer_bundle-&gt;<a class="code" href="a00050.html#a16968ea622a20067f95506256929ed4b">best_choice_is_dict_and_top_choice</a>) {</div>
<div class="line">      *blamer_debug = <span class="stringliteral">&quot;Best choice is: incorrect, top choice, dictionary word&quot;</span>;</div>
<div class="line">      *blamer_debug += <span class="stringliteral">&quot; with permuter &quot;</span>;</div>
<div class="line">      *blamer_debug += best_choice-&gt;<a class="code" href="a00395.html#a4a50ea8f60def206dca0053556e2df5f">permuter_name</a>();</div>
<div class="line">      blamer_bundle-&gt;<a class="code" href="a00050.html#a51b9a55eb8acc439f5ade8e97c92da8f">SetBlame</a>(<a class="code" href="a00516.html#a8faf52e106c04bfdc9898ffa90b821e1a9b70b64836694fc6dc4a7a6035b2dad8">IRR_CLASSIFIER</a>, *blamer_debug, best_choice,</div>
<div class="line">                              <a class="code" href="a00401.html#a76e95cb7cbfe636ab00ec46150b5524d">wordrec_debug_blamer</a>);</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (blamer_bundle-&gt;<a class="code" href="a00050.html#ab0e0f1f12423cd918ff0b9ff87f9f79c">best_correctly_segmented_rating</a> &lt;</div>
<div class="line">        best_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>()) {</div>
<div class="line">      *blamer_debug += <span class="stringliteral">&quot;Correct segmentation state was not explored&quot;</span>;</div>
<div class="line">      blamer_bundle-&gt;<a class="code" href="a00050.html#a51b9a55eb8acc439f5ade8e97c92da8f">SetBlame</a>(<a class="code" href="a00516.html#a8faf52e106c04bfdc9898ffa90b821e1a7c78c60fb2b9b0c1f2d5737883b07cf2">IRR_SEGSEARCH_PP</a>, *blamer_debug, best_choice,</div>
<div class="line">                              <a class="code" href="a00401.html#a76e95cb7cbfe636ab00ec46150b5524d">wordrec_debug_blamer</a>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      <span class="keywordflow">if</span> (blamer_bundle-&gt;<a class="code" href="a00050.html#ab0e0f1f12423cd918ff0b9ff87f9f79c">best_correctly_segmented_rating</a> &gt;=</div>
<div class="line">          <a class="code" href="a00395.html#aa831918b1d217afd4dc547033f642990">WERD_CHOICE::kBadRating</a>) {</div>
<div class="line">        *blamer_debug += <span class="stringliteral">&quot;Correct segmentation paths were pruned by LM\n&quot;</span>;</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordtype">char</span> debug_buffer[256];</div>
<div class="line">        *blamer_debug += <span class="stringliteral">&quot;Best correct segmentation rating &quot;</span>;</div>
<div class="line">        sprintf(debug_buffer, <span class="stringliteral">&quot;%g&quot;</span>,</div>
<div class="line">                blamer_bundle-&gt;<a class="code" href="a00050.html#ab0e0f1f12423cd918ff0b9ff87f9f79c">best_correctly_segmented_rating</a>);</div>
<div class="line">        *blamer_debug += debug_buffer;</div>
<div class="line">        *blamer_debug += <span class="stringliteral">&quot; vs. best choice rating &quot;</span>;</div>
<div class="line">        sprintf(debug_buffer, <span class="stringliteral">&quot;%g&quot;</span>, best_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>());</div>
<div class="line">        *blamer_debug += debug_buffer;</div>
<div class="line">      }</div>
<div class="line">      blamer_bundle-&gt;<a class="code" href="a00050.html#a51b9a55eb8acc439f5ade8e97c92da8f">SetBlame</a>(<a class="code" href="a00516.html#a8faf52e106c04bfdc9898ffa90b821e1a77542e0fa096277d7e600582d9b295d9">IRR_CLASS_LM_TRADEOFF</a>, *blamer_debug, best_choice,</div>
<div class="line">                              <a class="code" href="a00401.html#a76e95cb7cbfe636ab00ec46150b5524d">wordrec_debug_blamer</a>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a409c4fc630ecbc283e3a6aa1b08debf7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> tesseract::Wordrec::full_split_priority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00543.html#a8caa4994d858ff69cd340ac6f89731cb">SPLIT</a> *&#160;</td>
          <td class="paramname"><em>split</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>xmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>xmax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00961_source.html#l00074">74</a> of file <a class="el" href="a00961_source.html">gradechop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                          {</div>
<div class="line">  <a class="code" href="a00962.html#a45f650fd29e2e9bb1c3480d126a955e9">BOUNDS_RECT</a> rect;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00401.html#a764fd79db0c80638187f4751626bb12e">set_outline_bounds</a> (split-&gt;<a class="code" href="a00314.html#a2451170e7785bb495c0dd3d96fc71167">point1</a>, split-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>, rect);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (xmin &lt; <a class="code" href="a00587.html#a74e75242132eaabbc1c512488a135926">MIN</a> (rect[0], rect[2]) &amp;&amp; xmax &gt; <a class="code" href="a00587.html#aacc3ee1a7f283f8ef65cea31f4436a95">MAX</a> (rect[1], rect[3]))</div>
<div class="line">    <span class="keywordflow">return</span> (999.0);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> (<a class="code" href="a00401.html#a483f88dc4b24f7055448259c42e1867d">grade_overlap</a> (rect) +</div>
<div class="line">    <a class="code" href="a00401.html#abbeec661b51bf52c5dd3ccbb64567690">grade_center_of_blob</a> (rect) + <a class="code" href="a00401.html#a03ae9b642499f15b4fe4348d9d0ee3c2">grade_width_change</a> (rect));</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a53e7fd43e3657ffc3bc76a18f4e52291"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::get_fragment_lists </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>current_frag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>current_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>num_frag_parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>num_blobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00228.html">MATRIX</a> *&#160;</td>
          <td class="paramname"><em>ratings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BLOB_CHOICE_LIST *&#160;</td>
          <td class="paramname"><em>choice_lists</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00975_source.html#l00292">292</a> of file <a class="el" href="a00975_source.html">pieces.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                 {</div>
<div class="line">  <span class="keywordflow">if</span> (current_frag == num_frag_parts) {</div>
<div class="line">    <a class="code" href="a00401.html#af657001729e7bc45e381614497adcc19">merge_and_put_fragment_lists</a>(start, current_row - 1, num_frag_parts,</div>
<div class="line">                                 choice_lists, ratings);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (<a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> x = current_row; x &lt; num_blobs; x++) {</div>
<div class="line">    BLOB_CHOICE_LIST *choices = ratings-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(current_row, x);</div>
<div class="line">    <span class="keywordflow">if</span> (choices == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">      <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="a00401.html#a82e3d17abe8744c66fe3aa67fe2ea0f3">fill_filtered_fragment_list</a>(choices, current_frag, num_frag_parts,</div>
<div class="line">                                &amp;choice_lists[current_frag]);</div>
<div class="line">    <span class="keywordflow">if</span> (!choice_lists[current_frag].empty()) {</div>
<div class="line">      <a class="code" href="a00401.html#a53e7fd43e3657ffc3bc76a18f4e52291">get_fragment_lists</a>(current_frag + 1, x + 1, start, num_frag_parts,</div>
<div class="line">                         num_blobs, ratings, choice_lists);</div>
<div class="line">      choice_lists[current_frag].clear();</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad77b8ca8f655ae0bfe16f352f3d01830"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> tesseract::Wordrec::get_gap_variance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00397.html">WIDTH_RECORD</a> *&#160;</td>
          <td class="paramname"><em>wrec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>norm_height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00963_source.html#l00111">111</a> of file <a class="el" href="a00963_source.html">heuristic.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                       {</div>
<div class="line">  <a class="code" href="a00231.html">MEASUREMENT</a> ws;</div>
<div class="line">  <a class="code" href="a00970.html#af841ea538d8134f398f1c69553fd9c9a">new_measurement</a>(ws);</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; wrec-&gt;<a class="code" href="a00397.html#ab6a41176580d08b8e2389aa9ce6e26ad">num_chars</a> - 1; x++) {</div>
<div class="line">    <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> gap_ratio = (wrec-&gt;<a class="code" href="a00397.html#a3d7464eb423f5e10dbb3bb2d7b4b26f1">widths</a>[2 * x] + wrec-&gt;<a class="code" href="a00397.html#a3d7464eb423f5e10dbb3bb2d7b4b26f1">widths</a>[ 2*x + 1])</div>
<div class="line">                        * 1.0 / norm_height;</div>
<div class="line">    <a class="code" href="a00970.html#acc2a20480b12cd0baa7b972014621c43">ADD_SAMPLE</a>(ws, gap_ratio);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a2d79e213378c782ac3de5e92ae2ee41c">segment_adjust_debug</a> &gt; 2)</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Gap Mean=%g Var=%g\n&quot;</span>, <a class="code" href="a00970.html#a4dc0d2c69c4196c34103fb377cf89a55">MEAN</a>(ws), <a class="code" href="a00970.html#ae3c1a512eadd10f473675cfc6450e6dc">VARIANCE</a>(ws));</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="a00970.html#ae3c1a512eadd10f473675cfc6450e6dc">VARIANCE</a>(ws);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aab16c53ccf9c888874c2e7ae65b6ed04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BLOB_CHOICE_LIST * tesseract::Wordrec::get_piece_rating </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00228.html">MATRIX</a> *&#160;</td>
          <td class="paramname"><em>ratings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00346.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>blobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00126.html">DENORM</a> &amp;&#160;</td>
          <td class="paramname"><em>denorm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a>&#160;</td>
          <td class="paramname"><em>seams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00050.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00975_source.html#l00362">362</a> of file <a class="el" href="a00975_source.html">pieces.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                         {</div>
<div class="line">  BLOB_CHOICE_LIST *choices = ratings-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(start, end);</div>
<div class="line">  <span class="keywordflow">if</span> (choices == <a class="code" href="a00502.html#a5c21a86b19e78482e6c7384c47c2457d">NOT_CLASSIFIED</a>) {</div>
<div class="line">    choices = <a class="code" href="a00401.html#ad59946532b08a90f940ecfa994b06653">classify_piece</a>(blobs,</div>
<div class="line">                             denorm,</div>
<div class="line">                             seams,</div>
<div class="line">                             start,</div>
<div class="line">                             end,</div>
<div class="line">                             blamer_bundle);</div>
<div class="line">    ratings-&gt;<a class="code" href="a00173.html#a610f90d717d1a774cefa8736714f1cc2">put</a>(start, end, choices);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 1) {</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;get_piece_rating(): updated ratings matrix\n&quot;</span>);</div>
<div class="line">      ratings-&gt;<a class="code" href="a00228.html#ae0f2489acb8b15666cb306f82ad2c6de">print</a>(<a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset());</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (choices);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac0868afc87448dc583dad4d67dd8b1a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> tesseract::Wordrec::get_width_variance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00397.html">WIDTH_RECORD</a> *&#160;</td>
          <td class="paramname"><em>wrec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>norm_height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00963_source.html#l00096">96</a> of file <a class="el" href="a00963_source.html">heuristic.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                         {</div>
<div class="line">  <a class="code" href="a00231.html">MEASUREMENT</a> ws;</div>
<div class="line">  <a class="code" href="a00970.html#af841ea538d8134f398f1c69553fd9c9a">new_measurement</a>(ws);</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; wrec-&gt;<a class="code" href="a00397.html#ab6a41176580d08b8e2389aa9ce6e26ad">num_chars</a>; x++) {</div>
<div class="line">    <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> wh_ratio = wrec-&gt;<a class="code" href="a00397.html#a3d7464eb423f5e10dbb3bb2d7b4b26f1">widths</a>[2 * x] * 1.0f / norm_height;</div>
<div class="line">    <span class="keywordflow">if</span> (x == wrec-&gt;<a class="code" href="a00397.html#ab6a41176580d08b8e2389aa9ce6e26ad">num_chars</a> - 1 &amp;&amp; wh_ratio &gt; 0.3)</div>
<div class="line">      <span class="keywordflow">continue</span>;   <span class="comment">// exclude trailing punctuation from stats</span></div>
<div class="line">    <a class="code" href="a00970.html#acc2a20480b12cd0baa7b972014621c43">ADD_SAMPLE</a>(ws, wh_ratio);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a2d79e213378c782ac3de5e92ae2ee41c">segment_adjust_debug</a> &gt; 2)</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Width Mean=%g Var=%g\n&quot;</span>, <a class="code" href="a00970.html#a4dc0d2c69c4196c34103fb377cf89a55">MEAN</a>(ws), <a class="code" href="a00970.html#ae3c1a512eadd10f473675cfc6450e6dc">VARIANCE</a>(ws));</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="a00970.html#ae3c1a512eadd10f473675cfc6450e6dc">VARIANCE</a>(ws);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abbeec661b51bf52c5dd3ccbb64567690"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> tesseract::Wordrec::grade_center_of_blob </td>
          <td>(</td>
          <td class="paramtype">register <a class="el" href="a00962.html#a45f650fd29e2e9bb1c3480d126a955e9">BOUNDS_RECT</a>&#160;</td>
          <td class="paramname"><em>rect</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00961_source.html#l00095">95</a> of file <a class="el" href="a00961_source.html">gradechop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                {</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> grade;</div>
<div class="line"></div>
<div class="line">  grade = (rect[1] - rect[0]) - (rect[3] - rect[2]);</div>
<div class="line">  <span class="keywordflow">if</span> (grade &lt; 0)</div>
<div class="line">    grade = -grade;</div>
<div class="line"></div>
<div class="line">  grade *= <a class="code" href="a00401.html#a7b115ea8fffc0f54152d294c71da964d">chop_center_knob</a>;</div>
<div class="line">  grade = <a class="code" href="a00587.html#a74e75242132eaabbc1c512488a135926">MIN</a> (<a class="code" href="a00961.html#a42b2c51067554226bd46fd52e7978459">CENTER_GRADE_CAP</a>, grade);</div>
<div class="line">  <span class="keywordflow">return</span> (<a class="code" href="a00587.html#aacc3ee1a7f283f8ef65cea31f4436a95">MAX</a> (0.0, grade));</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a483f88dc4b24f7055448259c42e1867d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> tesseract::Wordrec::grade_overlap </td>
          <td>(</td>
          <td class="paramtype">register <a class="el" href="a00962.html#a45f650fd29e2e9bb1c3480d126a955e9">BOUNDS_RECT</a>&#160;</td>
          <td class="paramname"><em>rect</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00961_source.html#l00115">115</a> of file <a class="el" href="a00961_source.html">gradechop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                         {</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> grade;</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> width1;</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> width2;</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> overlap;</div>
<div class="line"></div>
<div class="line">  width1 = rect[3] - rect[2];</div>
<div class="line">  width2 = rect[1] - rect[0];</div>
<div class="line"></div>
<div class="line">  overlap = <a class="code" href="a00587.html#a74e75242132eaabbc1c512488a135926">MIN</a> (rect[1], rect[3]) - <a class="code" href="a00587.html#aacc3ee1a7f283f8ef65cea31f4436a95">MAX</a> (rect[0], rect[2]);</div>
<div class="line">  width1 = <a class="code" href="a00587.html#a74e75242132eaabbc1c512488a135926">MIN</a> (width1, width2);</div>
<div class="line">  <span class="keywordflow">if</span> (overlap == width1)</div>
<div class="line">    <span class="keywordflow">return</span> (100.0);              <span class="comment">/* Total overlap */</span></div>
<div class="line"></div>
<div class="line">  width1 = 2 * overlap - width1; <span class="comment">/* Extra penalty for too */</span></div>
<div class="line">  overlap += <a class="code" href="a00587.html#aacc3ee1a7f283f8ef65cea31f4436a95">MAX</a> (0, width1);    <span class="comment">/* much overlap */</span></div>
<div class="line"></div>
<div class="line">  grade = overlap * <a class="code" href="a00401.html#ad362b437458be7cc17aa39e01d36c17e">chop_overlap_knob</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> (<a class="code" href="a00587.html#aacc3ee1a7f283f8ef65cea31f4436a95">MAX</a> (0.0, grade));</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab3df13db044c39b2d9aa4e6bf105d309"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> tesseract::Wordrec::grade_sharpness </td>
          <td>(</td>
          <td class="paramtype">register <a class="el" href="a00543.html#a8caa4994d858ff69cd340ac6f89731cb">SPLIT</a> *&#160;</td>
          <td class="paramname"><em>split</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00961_source.html#l00168">168</a> of file <a class="el" href="a00961_source.html">gradechop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                       {</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> grade;</div>
<div class="line"></div>
<div class="line">  grade = <a class="code" href="a00401.html#adfe6b5aa74fe948a11bf631af18e7494">point_priority</a> (split-&gt;point1) + <a class="code" href="a00401.html#adfe6b5aa74fe948a11bf631af18e7494">point_priority</a> (split-&gt;point2);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (grade &lt; -360.0)</div>
<div class="line">    grade = 0;</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    grade += 360.0;</div>
<div class="line"></div>
<div class="line">  grade *= <a class="code" href="a00401.html#a1e5af8d3ffa2cc52de487e7556a8fdf0">chop_sharpness_knob</a>;       <span class="comment">/* Values 0 to -360 */</span></div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> (grade);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a26ed8c156b2be0e7e38bd5437b71c10f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> tesseract::Wordrec::grade_split_length </td>
          <td>(</td>
          <td class="paramtype">register <a class="el" href="a00543.html#a8caa4994d858ff69cd340ac6f89731cb">SPLIT</a> *&#160;</td>
          <td class="paramname"><em>split</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00961_source.html#l00145">145</a> of file <a class="el" href="a00961_source.html">gradechop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                          {</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> grade;</div>
<div class="line">  <span class="keyword">register</span> <span class="keywordtype">float</span> split_length;</div>
<div class="line"></div>
<div class="line">  split_length = <a class="code" href="a00972.html#a4df928397c7bcfee5373a86d6f2f46da">weighted_edgept_dist</a> (split-&gt;point1, split-&gt;point2,</div>
<div class="line">    <a class="code" href="a00401.html#a0db358c94208627661f5f1cf44ff9d28">chop_x_y_weight</a>);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (split_length &lt;= 0)</div>
<div class="line">    grade = 0;</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    grade = sqrt (split_length) * <a class="code" href="a00401.html#aefabcf9d889b0465eb484fff5a09e93a">chop_split_dist_knob</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> (<a class="code" href="a00587.html#aacc3ee1a7f283f8ef65cea31f4436a95">MAX</a> (0.0, grade));</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a03ae9b642499f15b4fe4348d9d0ee3c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> tesseract::Wordrec::grade_width_change </td>
          <td>(</td>
          <td class="paramtype">register <a class="el" href="a00962.html#a45f650fd29e2e9bb1c3480d126a955e9">BOUNDS_RECT</a>&#160;</td>
          <td class="paramname"><em>rect</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00961_source.html#l00191">191</a> of file <a class="el" href="a00961_source.html">gradechop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                              {</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> grade;</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> width1;</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> width2;</div>
<div class="line"></div>
<div class="line">  width1 = rect[3] - rect[2];</div>
<div class="line">  width2 = rect[1] - rect[0];</div>
<div class="line"></div>
<div class="line">  grade = 20 - (<a class="code" href="a00587.html#aacc3ee1a7f283f8ef65cea31f4436a95">MAX</a> (rect[1], rect[3])</div>
<div class="line">    - <a class="code" href="a00587.html#a74e75242132eaabbc1c512488a135926">MIN</a> (rect[0], rect[2]) - <a class="code" href="a00587.html#aacc3ee1a7f283f8ef65cea31f4436a95">MAX</a> (width1, width2));</div>
<div class="line"></div>
<div class="line">  grade *= <a class="code" href="a00401.html#aa63e4f7808cf2b9a60a11012cb7aee01">chop_width_change_knob</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> (<a class="code" href="a00587.html#aacc3ee1a7f283f8ef65cea31f4436a95">MAX</a> (0.0, grade));</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad1164fd07a17960ed06585f0c8aadcdc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::improve_by_chopping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00396.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00316.html">STATE</a> *&#160;</td>
          <td class="paramname"><em>best_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>best_char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *&#160;</td>
          <td class="paramname"><em>fixpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>updated_best_choice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00953_source.html#l00741">741</a> of file <a class="el" href="a00953_source.html">chopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                {</div>
<div class="line">  <a class="code" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> blob_number;</div>
<div class="line">  <span class="keywordtype">float</span> old_best;</div>
<div class="line">  <span class="keywordtype">bool</span> updated_best_choice = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">while</span> (1) {  <span class="comment">// improvement loop</span></div>
<div class="line">    old_best = word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#acdc368cd46083bdc4c321dd0a42533a0">improve_one_blob</a>(word, char_choices,</div>
<div class="line">                         &amp;blob_number, &amp;word-&gt;<a class="code" href="a00396.html#adefe2273d7f4b36fcbe7ae420bfd077a">seam_array</a>,</div>
<div class="line">                         fixpt, (<a class="code" href="a00401.html#a62f9bd7c796160d6fad61ba616e67ead">fragments_guide_chopper</a> &amp;&amp;</div>
<div class="line">                                 word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="a00395.html#a8947564d0c2d01763958e633999e3c50">fragment_mark</a>()),</div>
<div class="line">                                 word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>)) {</div>
<div class="line">      <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#aa5ce917212da08cba99df7966c9e84cc">LogNewSplit</a>(blob_number);</div>
<div class="line">      updated_best_choice =</div>
<div class="line">        <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#ab9c442c6c541ea1be7a0a132aea3af51">permute_characters</a>(*char_choices, word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>,</div>
<div class="line">                                     word-&gt;<a class="code" href="a00396.html#ab4d02a7548dab0a4522f02ed90e48100">raw_choice</a>);</div>
<div class="line"></div>
<div class="line">      <span class="keywordflow">if</span> (old_best &gt; word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>()) {</div>
<div class="line">        <a class="code" href="a00809.html#a4d7464b9adab39859eca306e1a41ba7e">set_n_ones</a>(best_state, char_choices-&gt;<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() - 1);</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        <a class="code" href="a00809.html#a5104caef86ae4abd56bbb88b463492f6">insert_new_chunk</a>(best_state, blob_number, char_choices-&gt;<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() - 2);</div>
<div class="line">        fixpt-&gt;<a class="code" href="a00175.html#a9cdbff49b186574b83e43afba606fdd9">clear</a>();</div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a>)</div>
<div class="line">        <a class="code" href="a00809.html#acb25e4d3e4da45c03f24fa3fcada7a98">print_state</a>(<span class="stringliteral">&quot;best state = &quot;</span>,</div>
<div class="line">          best_state, <a class="code" href="a00475.html#aa8048f4c65af2775452ad5d4dfbca053">count_blobs</a>(word-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>) - 1);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Check if we should break from the loop.</span></div>
<div class="line">    <span class="keywordtype">bool</span> done = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> replaced = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordflow">if</span> ((updated_best_choice &amp;&amp;</div>
<div class="line">         (*best_choice_acceptable =</div>
<div class="line">          <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().AcceptableChoice(char_choices, word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>,</div>
<div class="line">                                     fixpt, <a class="code" href="a00812.html#a1902ef46a46c64df98f9a99f6368e4f6a84325e771bcf9b3b1187d3e91455ca26">CHOPPER_CALLER</a>, &amp;replaced))) ||</div>
<div class="line">        char_choices-&gt;<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() &gt;= <a class="code" href="a00810.html#a2f47d18aa9ea116103da072b110cf09d">MAX_NUM_CHUNKS</a>) {</div>
<div class="line">      done = <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (replaced) <a class="code" href="a00401.html#a63db9b85fa1350dfccfd4d6e548290d4">update_blob_classifications</a>(word-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>,</div>
<div class="line">                                              *char_choices);</div>
<div class="line">    <span class="keywordflow">if</span> (updated_best_choice) <a class="code" href="a00401.html#a6e9f488de12a12cd99ae4c2c55c87bc6">CopyCharChoices</a>(*char_choices, best_char_choices);</div>
<div class="line">    <span class="keywordflow">if</span> (done) <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acdc368cd46083bdc4c321dd0a42533a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::improve_one_blob </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00396.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *&#160;</td>
          <td class="paramname"><em>blob_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a> *&#160;</td>
          <td class="paramname"><em>seam_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *&#160;</td>
          <td class="paramname"><em>fixpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>split_next_to_fragment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00050.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00953_source.html#l00332">332</a> of file <a class="el" href="a00953_source.html">chopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                            {</div>
<div class="line">  <a class="code" href="a00381.html">TWERD</a>* word = word_res-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>;</div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a> *blob;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> x = 0;</div>
<div class="line">  <span class="keywordtype">float</span> rating_ceiling = <a class="code" href="a00577.html#a9adcee815220ec9db98062213806ed04">MAX_FLOAT32</a>;</div>
<div class="line">  BLOB_CHOICE_LIST *answer;</div>
<div class="line">  BLOB_CHOICE_IT answer_it;</div>
<div class="line">  <a class="code" href="a00296.html">SEAM</a> *seam;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">do</span> {</div>
<div class="line">    *blob_number = <a class="code" href="a00401.html#a457f1ea04bad00c6e40883869700defb">select_blob_to_split_from_fixpt</a>(fixpt);</div>
<div class="line">    <span class="keywordtype">bool</span> split_point_from_dict = (*blob_number != -1);</div>
<div class="line">    <span class="keywordflow">if</span> (split_point_from_dict) {</div>
<div class="line">      fixpt-&gt;<a class="code" href="a00175.html#a9cdbff49b186574b83e43afba606fdd9">clear</a>();</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      *blob_number = <a class="code" href="a00401.html#a8fd3e86b711ba9d54c7eb500eb99c1c4">select_blob_to_split</a>(*char_choices, rating_ceiling,</div>
<div class="line">                                          split_next_to_fragment);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a>)</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;blob_number = %d\n&quot;</span>, *blob_number);</div>
<div class="line">    <span class="keywordflow">if</span> (*blob_number == -1)</div>
<div class="line">      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// TODO(rays) it may eventually help to allow italic_blob to be true,</span></div>
<div class="line">    seam = <a class="code" href="a00401.html#ab39c4eff1c3255a37a38f5f32956e6c2">chop_numbered_blob</a>(word, *blob_number, <span class="keyword">false</span>, *seam_list);</div>
<div class="line">    <span class="keywordflow">if</span> (seam != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="comment">/* Must split null blobs */</span></div>
<div class="line">    answer = char_choices-&gt;<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(*blob_number);</div>
<div class="line">    <span class="keywordflow">if</span> (answer == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    answer_it.set_to_list(answer);</div>
<div class="line">    <span class="keywordflow">if</span> (!split_point_from_dict) {</div>
<div class="line">      <span class="comment">// We chopped the worst rated blob, try something else next time.</span></div>
<div class="line">      rating_ceiling = answer_it.data()-&gt;rating();</div>
<div class="line">    }</div>
<div class="line">  } <span class="keywordflow">while</span> (<span class="keyword">true</span>);</div>
<div class="line">  <span class="comment">/* Split OK */</span></div>
<div class="line">  <span class="keywordflow">for</span> (blob = word-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>; x &lt; *blob_number; x++) {</div>
<div class="line">    blob = blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  *seam_list =</div>
<div class="line">    <a class="code" href="a00540.html#abb7a3f834120eb2357b71b09405a2ec6">insert_seam</a> (*seam_list, *blob_number, seam, blob, word-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>);</div>
<div class="line"></div>
<div class="line">  <span class="keyword">delete</span> char_choices-&gt;<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(*blob_number);</div>
<div class="line"></div>
<div class="line">  answer = <a class="code" href="a00401.html#a7127d481d5ea12e3253fb3719fd2170c">classify_blob</a>(blob, word_res-&gt;<a class="code" href="a00396.html#a202d9d5d2a462d84012011c689e16605">denorm</a>, <span class="stringliteral">&quot;improve 1:&quot;</span>, <a class="code" href="a00774.html#a17bc059e437838f094a5a25c2d5ab88fad3163c1fcda01965b692ec2c3122b743">Red</a>,</div>
<div class="line">                         blamer_bundle);</div>
<div class="line">  char_choices-&gt;<a class="code" href="a00175.html#a57ca5259541548a97bcfd4d0925a27ff">insert</a>(answer, *blob_number);</div>
<div class="line"></div>
<div class="line">  answer = <a class="code" href="a00401.html#a7127d481d5ea12e3253fb3719fd2170c">classify_blob</a>(blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>, word_res-&gt;<a class="code" href="a00396.html#a202d9d5d2a462d84012011c689e16605">denorm</a>, <span class="stringliteral">&quot;improve 2:&quot;</span>, <a class="code" href="a00774.html#a17bc059e437838f094a5a25c2d5ab88fabf28513245738599d13e3ce36bd16c82">Yellow</a>,</div>
<div class="line">                         blamer_bundle);</div>
<div class="line">  char_choices-&gt;<a class="code" href="a00175.html#a067b7833ee66238b7b5e230404525fcb">set</a>(answer, *blob_number + 1);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8580282cf87b0e054ac1410cf4ffa0e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::InitBlamerForSegSearch </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>best_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00088.html">CHUNKS_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunks_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00180.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>pain_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00050.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00319.html">STRING</a> *&#160;</td>
          <td class="paramname"><em>blamer_debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00982_source.html#l00331">331</a> of file <a class="el" href="a00982_source.html">segsearch.cpp</a>.</p>
<div class="fragment"><div class="line">                                                           {</div>
<div class="line">  blamer_bundle-&gt;<a class="code" href="a00050.html#ab02f7b4dc4711eef44a5891efb707b3b">segsearch_is_looking_for_blame</a> = <span class="keyword">true</span>;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a76e95cb7cbfe636ab00ec46150b5524d">wordrec_debug_blamer</a>) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;segsearch starting to look for blame\n&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Clear pain points heap.</span></div>
<div class="line">  <span class="keywordtype">int</span> <a class="code" href="a00793.html#a4a16ea0d766f4b3bc697142d5303a62c">pop</a>;</div>
<div class="line">  <span class="keywordtype">float</span> pain_point_priority;</div>
<div class="line">  <a class="code" href="a00230.html">MATRIX_COORD</a> *pain_point;</div>
<div class="line">  <span class="keywordflow">while</span> ((pop = <a class="code" href="a00791.html#a133a020354d84309c10dfea471f213f4">HeapPop</a>(pain_points, &amp;pain_point_priority,</div>
<div class="line">                         &amp;pain_point)) != <a class="code" href="a00792.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>) {</div>
<div class="line">    <span class="keyword">delete</span> pain_point;</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Fill pain points for any unclassifed blob corresponding to the</span></div>
<div class="line">  <span class="comment">// correct segmentation state.</span></div>
<div class="line">  *blamer_debug += <span class="stringliteral">&quot;Correct segmentation:\n&quot;</span>;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0;</div>
<div class="line">        idx &lt; blamer_bundle-&gt;<a class="code" href="a00050.html#abd75250b96b712d4849cf860f4351166">correct_segmentation_cols</a>.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++idx) {</div>
<div class="line">    blamer_debug-&gt;<a class="code" href="a00319.html#a779cd637dd42d58d5500a3a657077e84">add_str_int</a>(</div>
<div class="line">        <span class="stringliteral">&quot;col=&quot;</span>, blamer_bundle-&gt;<a class="code" href="a00050.html#abd75250b96b712d4849cf860f4351166">correct_segmentation_cols</a>[idx]);</div>
<div class="line">    blamer_debug-&gt;<a class="code" href="a00319.html#a779cd637dd42d58d5500a3a657077e84">add_str_int</a>(</div>
<div class="line">        <span class="stringliteral">&quot; row=&quot;</span>, blamer_bundle-&gt;<a class="code" href="a00050.html#a7c72b769992bbd6fd8ae5bac480f62b3">correct_segmentation_rows</a>[idx]);</div>
<div class="line">    *blamer_debug += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (chunks_record-&gt;<a class="code" href="a00088.html#a0b28a4ba4a1c931ed994847db83e0ef5">ratings</a>-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(</div>
<div class="line">        blamer_bundle-&gt;<a class="code" href="a00050.html#abd75250b96b712d4849cf860f4351166">correct_segmentation_cols</a>[idx],</div>
<div class="line">        blamer_bundle-&gt;<a class="code" href="a00050.html#a7c72b769992bbd6fd8ae5bac480f62b3">correct_segmentation_rows</a>[idx]) == <a class="code" href="a00502.html#a5c21a86b19e78482e6c7384c47c2457d">NOT_CLASSIFIED</a>) {</div>
<div class="line">      <span class="keywordflow">if</span> (!<a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a>-&gt;<a class="code" href="a00214.html#a112225abbc5018ab9b7c15b1363dce1a">GeneratePainPoint</a>(</div>
<div class="line">          blamer_bundle-&gt;<a class="code" href="a00050.html#abd75250b96b712d4849cf860f4351166">correct_segmentation_cols</a>[idx],</div>
<div class="line">          blamer_bundle-&gt;<a class="code" href="a00050.html#a7c72b769992bbd6fd8ae5bac480f62b3">correct_segmentation_rows</a>[idx],</div>
<div class="line">          <span class="keyword">false</span>, -1.0, -1.0, <span class="keyword">false</span>, -1.0, <a class="code" href="a00401.html#a8fa843163c3e8785a957e422b9256d35">segsearch_max_char_wh_ratio</a>,</div>
<div class="line">          <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chunks_record, pain_points)) {</div>
<div class="line">        blamer_bundle-&gt;<a class="code" href="a00050.html#ab02f7b4dc4711eef44a5891efb707b3b">segsearch_is_looking_for_blame</a> = <span class="keyword">false</span>;</div>
<div class="line">        *blamer_debug += <span class="stringliteral">&quot;\nFailed to insert pain point\n&quot;</span>;</div>
<div class="line">        blamer_bundle-&gt;<a class="code" href="a00050.html#a51b9a55eb8acc439f5ade8e97c92da8f">SetBlame</a>(<a class="code" href="a00516.html#a8faf52e106c04bfdc9898ffa90b821e1ae6c5b07f9dc57fa9513f706cba5df27e">IRR_SEGSEARCH_HEUR</a>, *blamer_debug, best_choice,</div>
<div class="line">                                <a class="code" href="a00401.html#a76e95cb7cbfe636ab00ec46150b5524d">wordrec_debug_blamer</a>);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }  <span class="comment">// end for blamer_bundle-&gt;correct_segmentation_cols/rows</span></div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af5466c6b57ff40780c0be86b1330f1cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::is_crossed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00375.html">TPOINT</a>&#160;</td>
          <td class="paramname"><em>a0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00375.html">TPOINT</a>&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00375.html">TPOINT</a>&#160;</td>
          <td class="paramname"><em>b0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00375.html">TPOINT</a>&#160;</td>
          <td class="paramname"><em>b1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00973_source.html#l00070">70</a> of file <a class="el" href="a00973_source.html">outlines.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                  {</div>
<div class="line">  <span class="keywordtype">int</span> b0a1xb0b1, b0b1xb0a0;</div>
<div class="line">  <span class="keywordtype">int</span> a1b1xa1a0, a1a0xa1b0;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00375.html">TPOINT</a> b0a1, b0a0, a1b1, b0b1, a1a0;</div>
<div class="line"></div>
<div class="line">  b0a1.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> = a1.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> - b0.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>;</div>
<div class="line">  b0a0.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> = a0.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> - b0.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>;</div>
<div class="line">  a1b1.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> = b1.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> - a1.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>;</div>
<div class="line">  b0b1.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> = b1.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> - b0.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>;</div>
<div class="line">  a1a0.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> = a0.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> - a1.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>;</div>
<div class="line">  b0a1.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> = a1.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> - b0.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">  b0a0.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> = a0.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> - b0.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">  a1b1.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> = b1.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> - a1.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">  b0b1.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> = b1.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> - b0.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">  a1a0.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> = a0.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> - a1.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line"></div>
<div class="line">  b0a1xb0b1 = <a class="code" href="a00549.html#aec4dedcf89534ed10f6107bf9c6418f3">CROSS</a> (b0a1, b0b1);</div>
<div class="line">  b0b1xb0a0 = <a class="code" href="a00549.html#aec4dedcf89534ed10f6107bf9c6418f3">CROSS</a> (b0b1, b0a0);</div>
<div class="line">  a1b1xa1a0 = <a class="code" href="a00549.html#aec4dedcf89534ed10f6107bf9c6418f3">CROSS</a> (a1b1, a1a0);</div>
<div class="line">                                 <span class="comment">/*a1a0xa1b0=CROSS(a1a0,a1b0); */</span></div>
<div class="line">  a1a0xa1b0 = -<a class="code" href="a00549.html#aec4dedcf89534ed10f6107bf9c6418f3">CROSS</a> (a1a0, b0a1);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> ((b0a1xb0b1 &gt; 0 &amp;&amp; b0b1xb0a0 &gt; 0)</div>
<div class="line">    || (b0a1xb0b1 &lt; 0 &amp;&amp; b0b1xb0a0 &lt; 0))</div>
<div class="line">    &amp;&amp; ((a1b1xa1a0 &gt; 0 &amp;&amp; a1a0xa1b0 &gt; 0) || (a1b1xa1a0 &lt; 0 &amp;&amp; a1a0xa1b0 &lt; 0));</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ada66e05fa0ae8dc79b9de78f5f6efadf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::is_little_chunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>point1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>point2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00951_source.html#l00123">123</a> of file <a class="el" href="a00951_source.html">chop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                           {</div>
<div class="line">  <a class="code" href="a00135.html">EDGEPT</a> *p = point1;            <span class="comment">/* Iterator */</span></div>
<div class="line">  <span class="keywordtype">int</span> counter = 0;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">do</span> {</div>
<div class="line">                                 <span class="comment">/* Go from P1 to P2 */</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a67574237703ce6757f28d9cdcef7d301">is_same_edgept</a> (point2, p)) {</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a71c9cce736fd886763722cf34ddd0ab7">is_small_area</a> (point1, point2))</div>
<div class="line">        <span class="keywordflow">return</span> (<a class="code" href="a00409.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line">      <span class="keywordflow">else</span></div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">    p = p-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">while</span> ((p != point1) &amp;&amp; (counter++ &lt; <a class="code" href="a00401.html#ad9e49481be94c7fd0fb0a1a3f38ea605">chop_min_outline_points</a>));</div>
<div class="line">  <span class="comment">/* Go from P2 to P1 */</span></div>
<div class="line">  p = point2;</div>
<div class="line">  counter = 0;</div>
<div class="line">  <span class="keywordflow">do</span> {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a67574237703ce6757f28d9cdcef7d301">is_same_edgept</a> (point1, p)) {</div>
<div class="line">      <span class="keywordflow">return</span> (<a class="code" href="a00401.html#a71c9cce736fd886763722cf34ddd0ab7">is_small_area</a> (point2, point1));</div>
<div class="line">    }</div>
<div class="line">    p = p-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">while</span> ((p != point2) &amp;&amp; (counter++ &lt; <a class="code" href="a00401.html#ad9e49481be94c7fd0fb0a1a3f38ea605">chop_min_outline_points</a>));</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> (<a class="code" href="a00409.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a67574237703ce6757f28d9cdcef7d301"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::is_same_edgept </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>p2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00973_source.html#l00104">104</a> of file <a class="el" href="a00973_source.html">outlines.cpp</a>.</p>
<div class="fragment"><div class="line">                                                  {</div>
<div class="line">  <span class="keywordflow">return</span> (p1 == p2);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a71c9cce736fd886763722cf34ddd0ab7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::is_small_area </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>point1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>point2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00951_source.html#l00158">158</a> of file <a class="el" href="a00951_source.html">chop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                         {</div>
<div class="line">  <a class="code" href="a00135.html">EDGEPT</a> *p = point1-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>;      <span class="comment">/* Iterator */</span></div>
<div class="line">  <span class="keywordtype">int</span> area = 0;</div>
<div class="line">  <a class="code" href="a00375.html">TPOINT</a> origin;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">do</span> {</div>
<div class="line">                                 <span class="comment">/* Go from P1 to P2 */</span></div>
<div class="line">    origin.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> = p-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> - point1-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>;</div>
<div class="line">    origin.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> = p-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> - point1-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">    area += <a class="code" href="a00549.html#aec4dedcf89534ed10f6107bf9c6418f3">CROSS</a> (origin, p-&gt;<a class="code" href="a00135.html#a6da204ff253a65e00daae7753b82c9f7">vec</a>);</div>
<div class="line">    p = p-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">while</span> (!<a class="code" href="a00401.html#a67574237703ce6757f28d9cdcef7d301">is_same_edgept</a> (point2, p));</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> (area &lt; <a class="code" href="a00401.html#aa87cc41f196b1779bec5e1040c4f857e">chop_min_outline_area</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aad7c820e5bb342d7ea7743269e160a20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BLOB_CHOICE_LIST * tesseract::Wordrec::join_blobs_and_classify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00396.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>choice_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00228.html">MATRIX</a> *&#160;</td>
          <td class="paramname"><em>ratings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>old_choices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00949_source.html#l00730">730</a> of file <a class="el" href="a00949_source.html">bestfirst.cpp</a>.</p>
<div class="fragment"><div class="line">                                          {</div>
<div class="line">  <span class="comment">// Join parts to make the blob if needed.</span></div>
<div class="line">  <span class="keywordflow">if</span> (x != y)</div>
<div class="line">    <a class="code" href="a00540.html#a919dc51833c934e6738e5e18d2dd43f6">join_pieces</a>(word-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>, word-&gt;<a class="code" href="a00396.html#adefe2273d7f4b36fcbe7ae420bfd077a">seam_array</a>, x, y);</div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a> *blob = word-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; x; i++) {</div>
<div class="line">    blob = blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>;</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Deep copy this blob into the output word.</span></div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a>* copy_blob = <span class="keyword">new</span> <a class="code" href="a00346.html">TBLOB</a>(*blob);</div>
<div class="line">  copy_blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a> = word-&gt;<a class="code" href="a00396.html#a211ab5c5a13123ee7bdc7459d3363f9d">rebuild_word</a>-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>;</div>
<div class="line">  word-&gt;<a class="code" href="a00396.html#a211ab5c5a13123ee7bdc7459d3363f9d">rebuild_word</a>-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a> = copy_blob;</div>
<div class="line"></div>
<div class="line">  BLOB_CHOICE_LIST *choices = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <span class="comment">// First check to see if we can look up the classificaiton</span></div>
<div class="line">  <span class="comment">// in old_choices (if there is no need to merge blobs).</span></div>
<div class="line">  <span class="keywordflow">if</span> (choice_index &gt;= 0 &amp;&amp; old_choices != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    choices = old_choices-&gt;<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(choice_index);</div>
<div class="line">    old_choices-&gt;<a class="code" href="a00175.html#a067b7833ee66238b7b5e230404525fcb">set</a>(<a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, choice_index);</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// The ratings matrix filled in by the associator will contain the next most</span></div>
<div class="line">  <span class="comment">// up-to-date classification info. Thus we look up the classification there</span></div>
<div class="line">  <span class="comment">// next, and only call classify_blob() if the classification is not found.</span></div>
<div class="line">  <span class="keywordflow">if</span> (choices == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; ratings != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    choices = ratings-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(x, y);</div>
<div class="line">    <span class="keywordflow">if</span> (choices != <a class="code" href="a00502.html#a5c21a86b19e78482e6c7384c47c2457d">NOT_CLASSIFIED</a>) {</div>
<div class="line">      ratings-&gt;<a class="code" href="a00173.html#a610f90d717d1a774cefa8736714f1cc2">put</a>(x, y, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Get the choices for the blob by classification if necessary.</span></div>
<div class="line">  <span class="keywordflow">if</span> (choices == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    choices = <a class="code" href="a00401.html#a7127d481d5ea12e3253fb3719fd2170c">classify_blob</a>(blob, word-&gt;<a class="code" href="a00396.html#a202d9d5d2a462d84012011c689e16605">denorm</a>, <span class="stringliteral">&quot;rebuild&quot;</span>, <a class="code" href="a00774.html#a17bc059e437838f094a5a25c2d5ab88fa96c2b9b8ecc4d6cb96f43dcd27947bb4">Orange</a>,</div>
<div class="line">                            word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>);</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Undo join_pieces to restore the chopped word to its fully chopped state.</span></div>
<div class="line">  <span class="keywordflow">if</span> (x != y)</div>
<div class="line">    <a class="code" href="a00540.html#ac76b2d230d4c44cb0346f516b8a7134a">break_pieces</a>(blob, word-&gt;<a class="code" href="a00396.html#adefe2273d7f4b36fcbe7ae420bfd077a">seam_array</a>, x, y);</div>
<div class="line">  <span class="keywordflow">return</span> choices;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5b02ea635cd52437ade4200ed2734941"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::junk_worst_seam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00960.html#a0d8a3b6851b93dea4e0b7e7713ccf100">SEAM_QUEUE</a>&#160;</td>
          <td class="paramname"><em>seams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> *&#160;</td>
          <td class="paramname"><em>new_seam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>new_priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00959_source.html#l00148">148</a> of file <a class="el" href="a00959_source.html">findseam.cpp</a>.</p>
<div class="fragment"><div class="line">                                                  {</div>
<div class="line">  <a class="code" href="a00296.html">SEAM</a> *seam;</div>
<div class="line">  <span class="keywordtype">float</span> priority;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00791.html#a3ce0caf83478a579d919e1a510a23d92">HeapPopWorst</a>(seams, &amp;priority, &amp;seam);</div>
<div class="line">  <span class="keywordflow">if</span> (priority &gt; new_priority) {</div>
<div class="line">    <a class="code" href="a00540.html#abe1c472bf676a613f555cee9d29f7c3d">delete_seam</a>(seam);  <span class="comment">/*get rid of it */</span></div>
<div class="line">    <a class="code" href="a00791.html#ad66e9a2d1419e6b12501a783fda5d7c3">HeapPush</a> (seams, new_priority, (<span class="keywordtype">char</span> *) new_seam);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    <a class="code" href="a00540.html#abe1c472bf676a613f555cee9d29f7c3d">delete_seam</a>(new_seam);</div>
<div class="line">    <a class="code" href="a00791.html#ad66e9a2d1419e6b12501a783fda5d7c3">HeapPush</a> (seams, priority, (<span class="keywordtype">char</span> *) seam);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af657001729e7bc45e381614497adcc19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::merge_and_put_fragment_lists </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>num_frag_parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BLOB_CHOICE_LIST *&#160;</td>
          <td class="paramname"><em>choice_lists</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00228.html">MATRIX</a> *&#160;</td>
          <td class="paramname"><em>ratings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00975_source.html#l00169">169</a> of file <a class="el" href="a00975_source.html">pieces.cpp</a>.</p>
<div class="fragment"><div class="line">                                                            {</div>
<div class="line">  BLOB_CHOICE_IT *choice_lists_it = <span class="keyword">new</span> BLOB_CHOICE_IT[num_frag_parts];</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_frag_parts; i++) {</div>
<div class="line">    choice_lists_it[i].set_to_list(&amp;choice_lists[i]);</div>
<div class="line">    choice_lists_it[i].mark_cycle_pt();</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  BLOB_CHOICE_LIST *merged_choice = ratings-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(row, column);</div>
<div class="line">  <span class="keywordflow">if</span> (merged_choice == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">    merged_choice = <span class="keyword">new</span> BLOB_CHOICE_LIST;</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">bool</span> end_of_list = <span class="keyword">false</span>;</div>
<div class="line">  BLOB_CHOICE_IT merged_choice_it(merged_choice);</div>
<div class="line">  <span class="keywordflow">while</span> (!end_of_list) {</div>
<div class="line">    <span class="comment">// Find the maximum unichar_id of the current entry the iterators</span></div>
<div class="line">    <span class="comment">// are pointing at</span></div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> max_unichar_id = choice_lists_it[0].data()-&gt;unichar_id();</div>
<div class="line">    <span class="keywordtype">int</span> max_list = 0;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_frag_parts; i++) {</div>
<div class="line">      <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = choice_lists_it[i].data()-&gt;unichar_id();</div>
<div class="line">      <span class="keywordflow">if</span> (max_unichar_id &lt; unichar_id) {</div>
<div class="line">        max_unichar_id = unichar_id;</div>
<div class="line">        max_list = i;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Move the each iterators until it gets to an entry that has a</span></div>
<div class="line">    <span class="comment">// value greater than or equal to max_unichar_id</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_frag_parts; i++) {</div>
<div class="line">      <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = choice_lists_it[i].data()-&gt;unichar_id();</div>
<div class="line">      <span class="keywordflow">while</span> (!choice_lists_it[i].cycled_list() &amp;&amp;</div>
<div class="line">             unichar_id &lt; max_unichar_id) {</div>
<div class="line">        choice_lists_it[i].forward();</div>
<div class="line">        unichar_id = choice_lists_it[i].data()-&gt;unichar_id();</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">if</span> (choice_lists_it[i].cycled_list()) {</div>
<div class="line">        end_of_list = <span class="keyword">true</span>;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (end_of_list)</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Checks if the fragments are parts of the same character</span></div>
<div class="line">    <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> first_unichar_id = choice_lists_it[0].data()-&gt;unichar_id();</div>
<div class="line">    <span class="keywordtype">bool</span> same_unichar = <span class="keyword">true</span>;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; num_frag_parts; i++) {</div>
<div class="line">      <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = choice_lists_it[i].data()-&gt;unichar_id();</div>
<div class="line">      <span class="keywordflow">if</span> (unichar_id != first_unichar_id) {</div>
<div class="line">        same_unichar = <span class="keyword">false</span>;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (same_unichar) {</div>
<div class="line">      <span class="comment">// Add the merged character to the result</span></div>
<div class="line">      <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> merged_unichar_id = first_unichar_id;</div>
<div class="line">      <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> merged_fontinfo_id = choice_lists_it[0].data()-&gt;fontinfo_id();</div>
<div class="line">      <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> merged_fontinfo_id2 = choice_lists_it[0].data()-&gt;fontinfo_id2();</div>
<div class="line">      <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> merged_min_xheight = choice_lists_it[0].data()-&gt;min_xheight();</div>
<div class="line">      <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> merged_max_xheight = choice_lists_it[0].data()-&gt;max_xheight();</div>
<div class="line">      <span class="keywordtype">int</span> merged_script_id = choice_lists_it[0].data()-&gt;script_id();</div>
<div class="line">      <span class="keywordtype">bool</span> merged_adapted = choice_lists_it[0].data()-&gt;adapted();</div>
<div class="line"></div>
<div class="line">      <span class="keywordtype">float</span> merged_rating = 0, merged_certainty = 0;</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_frag_parts; i++) {</div>
<div class="line">        <span class="keywordtype">float</span> rating = choice_lists_it[i].data()-&gt;rating();</div>
<div class="line">        <span class="keywordtype">float</span> certainty = choice_lists_it[i].data()-&gt;certainty();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (i == 0 || certainty &lt; merged_certainty)</div>
<div class="line">          merged_certainty = certainty;</div>
<div class="line">        merged_rating += rating;</div>
<div class="line"></div>
<div class="line">        choice_lists_it[i].forward();</div>
<div class="line">        <span class="keywordflow">if</span> (choice_lists_it[i].cycled_list())</div>
<div class="line">          end_of_list = <span class="keyword">true</span>;</div>
<div class="line">        <a class="code" href="a00576.html#a6a6e013c7a0b4afa87f5e37697f7f99f">IntersectRange</a>(choice_lists_it[i].data()-&gt;min_xheight(),</div>
<div class="line">                       choice_lists_it[i].data()-&gt;max_xheight(),</div>
<div class="line">                       &amp;merged_min_xheight, &amp;merged_max_xheight);</div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">      merged_choice_it.add_to_end(<span class="keyword">new</span> <a class="code" href="a00052.html">BLOB_CHOICE</a>(merged_unichar_id,</div>
<div class="line">                                                  merged_rating,</div>
<div class="line">                                                  merged_certainty,</div>
<div class="line">                                                  merged_fontinfo_id,</div>
<div class="line">                                                  merged_fontinfo_id2,</div>
<div class="line">                                                  merged_script_id,</div>
<div class="line">                                                  merged_min_xheight,</div>
<div class="line">                                                  merged_max_xheight,</div>
<div class="line">                                                  merged_adapted));</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00091.html#a0f934f0b39cb869d2a4973269fb696cf">classify_debug_level</a>)</div>
<div class="line">    <a class="code" href="a00534.html#a2de5b7d5a020bb9823091dbece4ea36e">print_ratings_list</a>(<span class="stringliteral">&quot;Merged Fragments&quot;</span>, merged_choice,</div>
<div class="line">                       <a class="code" href="a00070.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (merged_choice-&gt;empty())</div>
<div class="line">    <span class="keyword">delete</span> merged_choice;</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    ratings-&gt;<a class="code" href="a00173.html#a610f90d717d1a774cefa8736714f1cc2">put</a>(row, column, merged_choice);</div>
<div class="line"></div>
<div class="line">  <span class="keyword">delete</span> [] choice_lists_it;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a60e821ddb0f98741bb729c5163e1189c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::merge_fragments </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00228.html">MATRIX</a> *&#160;</td>
          <td class="paramname"><em>ratings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>num_blobs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00975_source.html#l00324">324</a> of file <a class="el" href="a00975_source.html">pieces.cpp</a>.</p>
<div class="fragment"><div class="line">                                                              {</div>
<div class="line">  BLOB_CHOICE_LIST choice_lists[<a class="code" href="a00074.html#a44acef42afbd5e03039786e3a3950dcf">CHAR_FRAGMENT::kMaxChunks</a>];</div>
<div class="line">  <span class="keywordflow">for</span> (<a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> start = 0; start &lt; num_blobs; start++) {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> frag_parts = 2; frag_parts &lt;= <a class="code" href="a00074.html#a44acef42afbd5e03039786e3a3950dcf">CHAR_FRAGMENT::kMaxChunks</a>;</div>
<div class="line">         frag_parts++) {</div>
<div class="line">      <a class="code" href="a00401.html#a53e7fd43e3657ffc3bc76a18f4e52291">get_fragment_lists</a>(0, start, start, frag_parts, num_blobs,</div>
<div class="line">                         ratings, choice_lists);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Delete fragments from the rating matrix</span></div>
<div class="line">  <span class="keywordflow">for</span> (<a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> x = 0; x &lt; num_blobs; x++) {</div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> y = x; y &lt; num_blobs; y++) {</div>
<div class="line">      BLOB_CHOICE_LIST *choices = ratings-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(x, y);</div>
<div class="line">      <span class="keywordflow">if</span> (choices != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">        BLOB_CHOICE_IT choices_it(choices);</div>
<div class="line">        <span class="keywordflow">for</span> (choices_it.mark_cycle_pt(); !choices_it.cycled_list();</div>
<div class="line">             choices_it.forward()) {</div>
<div class="line">          <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> choice_unichar_id = choices_it.data()-&gt;unichar_id();</div>
<div class="line">          <span class="keyword">const</span> <a class="code" href="a00074.html">CHAR_FRAGMENT</a> *frag =</div>
<div class="line">              <a class="code" href="a00070.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="a00387.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(choice_unichar_id);</div>
<div class="line">          <span class="keywordflow">if</span> (frag != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">            <span class="keyword">delete</span> choices_it.extract();</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a30984c34a31ca6ef5ee363fc5ebfeff4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::modify_blob_choice </td>
          <td>(</td>
          <td class="paramtype">BLOB_CHOICE_LIST *&#160;</td>
          <td class="paramname"><em>answer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>chop_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00953_source.html#l00403">403</a> of file <a class="el" href="a00953_source.html">chopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                        {</div>
<div class="line">  <span class="keywordtype">char</span> chop_index_string[2];</div>
<div class="line">  <span class="keywordflow">if</span> (chop_index &lt;= 9) {</div>
<div class="line">    snprintf(chop_index_string, <span class="keyword">sizeof</span>(chop_index_string), <span class="stringliteral">&quot;%d&quot;</span>, chop_index);</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    chop_index_string[0] = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(<span class="charliteral">&#39;A&#39;</span> - 10 + chop_index);</div>
<div class="line">    chop_index_string[1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="a00610.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = <a class="code" href="a00070.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>.<a class="code" href="a00387.html#ae786fa834962ef4d6dbf8300c6c5d456">unichar_to_id</a>(chop_index_string);</div>
<div class="line">  <span class="keywordflow">if</span> (unichar_id == INVALID_UNICHAR_ID) {</div>
<div class="line">    <span class="comment">// If the word is very long, we might exhaust the possibilities.</span></div>
<div class="line">    unichar_id = 1;</div>
<div class="line">  }</div>
<div class="line">  BLOB_CHOICE_IT answer_it(answer);</div>
<div class="line">  <a class="code" href="a00052.html">BLOB_CHOICE</a> *modified_blob =</div>
<div class="line">      <span class="keyword">new</span> <a class="code" href="a00052.html">BLOB_CHOICE</a>(unichar_id,</div>
<div class="line">                      answer_it.data()-&gt;rating(),</div>
<div class="line">                      answer_it.data()-&gt;certainty(),</div>
<div class="line">                      answer_it.data()-&gt;fontinfo_id(),</div>
<div class="line">                      answer_it.data()-&gt;fontinfo_id2(),</div>
<div class="line">                      answer_it.data()-&gt;script_id(),</div>
<div class="line">                      answer_it.data()-&gt;min_xheight(),</div>
<div class="line">                      answer_it.data()-&gt;max_xheight(),</div>
<div class="line">                      answer_it.data()-&gt;adapted());</div>
<div class="line">  answer-&gt;clear();</div>
<div class="line">  answer_it.set_to_list(answer);</div>
<div class="line">  answer_it.add_after_then_move(modified_blob);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a746f8a2ed6b50a3669a2fe6dcd053eec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::near_point </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>line_pt_0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>line_pt_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> **&#160;</td>
          <td class="paramname"><em>near_pt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00973_source.html#l00116">116</a> of file <a class="el" href="a00973_source.html">outlines.cpp</a>.</p>
<div class="fragment"><div class="line">                                           {</div>
<div class="line">  <a class="code" href="a00375.html">TPOINT</a> p;</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">float</span> slope;</div>
<div class="line">  <span class="keywordtype">float</span> intercept;</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">float</span> x0 = line_pt_0-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>;</div>
<div class="line">  <span class="keywordtype">float</span> x1 = line_pt_1-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>;</div>
<div class="line">  <span class="keywordtype">float</span> y0 = line_pt_0-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">  <span class="keywordtype">float</span> y1 = line_pt_1-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (x0 == x1) {</div>
<div class="line">                                 <span class="comment">/* Handle vertical line */</span></div>
<div class="line">    p.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> = (<a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>) x0;</div>
<div class="line">    p.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> = point-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="comment">/* Slope and intercept */</span></div>
<div class="line">    slope = (y0 - y1) / (x0 - x1);</div>
<div class="line">    intercept = y1 - x1 * slope;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Find perpendicular */</span></div>
<div class="line">    p.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> = (<a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>) ((point-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> + (point-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> - intercept) * slope) /</div>
<div class="line">      (slope * slope + 1));</div>
<div class="line">    p.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> = (<a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>) (slope * p.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> + intercept);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00974.html#aa52be5d84e6f42cece8e16dcfffc1dfb">is_on_line</a> (p, line_pt_0-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>, line_pt_1-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>) &amp;&amp;</div>
<div class="line">    (!<a class="code" href="a00974.html#a904fe4010d6b74e15b566c5a9b04b9e4">same_point</a> (p, line_pt_0-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>)) &amp;&amp; (!<a class="code" href="a00974.html#a904fe4010d6b74e15b566c5a9b04b9e4">same_point</a> (p, line_pt_1-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>))) {</div>
<div class="line">    <span class="comment">/* Intersection on line */</span></div>
<div class="line">    *near_pt = <a class="code" href="a00542.html#abe45460790758fd43e35acbad4eed1c5">make_edgept</a>(p.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>, p.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>, line_pt_1, line_pt_0);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  } <span class="keywordflow">else</span> {                           <span class="comment">/* Intersection not on line */</span></div>
<div class="line">    *near_pt = <a class="code" href="a00974.html#ac048bea03b1621c3a756b3a4c71caf82">closest</a>(point, line_pt_0, line_pt_1);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3d80d69436770f158bcea457afb6c81d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::new_max_point </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>local_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00952.html#a55d3249c77c934468c72f606ce08354f">POINT_GROUP</a>&#160;</td>
          <td class="paramname"><em>points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00951_source.html#l00303">303</a> of file <a class="el" href="a00951_source.html">chop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                 {</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> dir;</div>
<div class="line"></div>
<div class="line">  dir = <a class="code" href="a00548.html#a57d4a186a22b01e2110793bc22a5d8f0">direction</a> (local_max);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (dir &gt; 0) {</div>
<div class="line">    <a class="code" href="a00401.html#a6b73b33a1a883abc117c676b64816c6f">add_point_to_list</a>(points, local_max);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (dir == 0 &amp;&amp; <a class="code" href="a00401.html#adfe6b5aa74fe948a11bf631af18e7494">point_priority</a> (local_max) &lt; 0) {</div>
<div class="line">    <a class="code" href="a00401.html#a6b73b33a1a883abc117c676b64816c6f">add_point_to_list</a>(points, local_max);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a597a95a38f3461c79c3f3970c4d69b69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::new_min_point </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>local_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00952.html#a55d3249c77c934468c72f606ce08354f">POINT_GROUP</a>&#160;</td>
          <td class="paramname"><em>points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00951_source.html#l00279">279</a> of file <a class="el" href="a00951_source.html">chop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                 {</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> dir;</div>
<div class="line"></div>
<div class="line">  dir = <a class="code" href="a00548.html#a57d4a186a22b01e2110793bc22a5d8f0">direction</a> (local_min);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (dir &lt; 0) {</div>
<div class="line">    <a class="code" href="a00401.html#a6b73b33a1a883abc117c676b64816c6f">add_point_to_list</a>(points, local_min);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (dir == 0 &amp;&amp; <a class="code" href="a00401.html#adfe6b5aa74fe948a11bf631af18e7494">point_priority</a> (local_min) &lt; 0) {</div>
<div class="line">    <a class="code" href="a00401.html#a6b73b33a1a883abc117c676b64816c6f">add_point_to_list</a>(points, local_min);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6532056b5f7dcdff1a64898d1c3b6bfc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00297.html">SEARCH_RECORD</a> * tesseract::Wordrec::new_search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00088.html">CHUNKS_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunks_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_joints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>best_char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>best_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>raw_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00316.html">STATE</a> *&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00949_source.html#l00568">568</a> of file <a class="el" href="a00949_source.html">bestfirst.cpp</a>.</p>
<div class="fragment"><div class="line">                                                 {</div>
<div class="line">  <a class="code" href="a00297.html">SEARCH_RECORD</a> *this_search;</div>
<div class="line"></div>
<div class="line">  this_search = (<a class="code" href="a00297.html">SEARCH_RECORD</a> *) <a class="code" href="a00786.html#a5898fbe61f6ffe4c1be71a107193cdfd">memalloc</a> (<span class="keyword">sizeof</span> (<a class="code" href="a00297.html">SEARCH_RECORD</a>));</div>
<div class="line"></div>
<div class="line">  this_search-&gt;<a class="code" href="a00297.html#adee178f3348481683069a38f4185c27a">open_states</a> = <a class="code" href="a00791.html#a101bee15b825fee78f29c8679cc00595">MakeHeap</a> (<a class="code" href="a00401.html#a57c3675d967208936be65a14e5b64c7d">wordrec_num_seg_states</a> * 20);</div>
<div class="line">  this_search-&gt;<a class="code" href="a00297.html#add2a2c40e476a2a080bf10bd18d393bb">closed_states</a> = <a class="code" href="a00955.html#aa74a9d96d39b412ec05403353ba7d5a4">new_hash_table</a>();</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (state)</div>
<div class="line">    this_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a> = <a class="code" href="a00809.html#ac2e9f7b195c3ee2878144de8cae6ec67">new_state</a> (state);</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;error: bad initial state in new_search\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">  this_search-&gt;<a class="code" href="a00297.html#aca35760bea50d16acf102376bb0b2716">first_state</a> = <a class="code" href="a00809.html#ac2e9f7b195c3ee2878144de8cae6ec67">new_state</a> (this_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>);</div>
<div class="line">  this_search-&gt;<a class="code" href="a00297.html#a466df91ecf19a56dac83d4654c454e19">best_state</a> = <a class="code" href="a00809.html#ac2e9f7b195c3ee2878144de8cae6ec67">new_state</a> (this_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>);</div>
<div class="line"></div>
<div class="line">  this_search-&gt;<a class="code" href="a00297.html#a468657e9c9b8df182c4890544c530f87">best_choice</a> = best_choice;</div>
<div class="line">  this_search-&gt;<a class="code" href="a00297.html#ad25cff29f63f480a293196c094a66020">raw_choice</a> = raw_choice;</div>
<div class="line">  this_search-&gt;<a class="code" href="a00297.html#a39e4f8b8e4e11c6b2ca2053ff51fa798">best_char_choices</a> = best_char_choices;</div>
<div class="line"></div>
<div class="line">  this_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a> = <a class="code" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a>;</div>
<div class="line">  this_search-&gt;<a class="code" href="a00297.html#a0a90b0a8729b436739b6019c7355301c">num_states</a> = 0;</div>
<div class="line">  this_search-&gt;<a class="code" href="a00297.html#ab881f72bd7d5c4d14093681af511a596">before_best</a> = 0;</div>
<div class="line">  this_search-&gt;<a class="code" href="a00297.html#afc64aa6140730c7cc307c734548d2d0f">segcost_bias</a> = 0;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> (this_search);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a79aec1d9a1c9c001a24838117585091a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00135.html">EDGEPT</a> * tesseract::Wordrec::pick_close_point </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>critical_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>vertical_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>best_dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00951_source.html#l00182">182</a> of file <a class="el" href="a00951_source.html">chop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                  {</div>
<div class="line">  <a class="code" href="a00135.html">EDGEPT</a> *best_point = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <span class="keywordtype">int</span> this_distance;</div>
<div class="line">  <span class="keywordtype">int</span> found_better;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">do</span> {</div>
<div class="line">    found_better = <a class="code" href="a00409.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"></div>
<div class="line">    this_distance = <a class="code" href="a00974.html#a61f9385343feb503e1ed9806925fcbee">edgept_dist</a> (critical_point, vertical_point);</div>
<div class="line">    <span class="keywordflow">if</span> (this_distance &lt;= *best_dist) {</div>
<div class="line"></div>
<div class="line">      <span class="keywordflow">if</span> (!(<a class="code" href="a00974.html#a904fe4010d6b74e15b566c5a9b04b9e4">same_point</a> (critical_point-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>, vertical_point-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>) ||</div>
<div class="line">        <a class="code" href="a00974.html#a904fe4010d6b74e15b566c5a9b04b9e4">same_point</a> (critical_point-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>, vertical_point-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>) ||</div>
<div class="line">        (best_point &amp;&amp; <a class="code" href="a00974.html#a904fe4010d6b74e15b566c5a9b04b9e4">same_point</a> (best_point-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>, vertical_point-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>)) ||</div>
<div class="line">      <a class="code" href="a00974.html#a6c0c70cebe2f185d69900780b4695f8c">is_exterior_point</a> (critical_point, vertical_point))) {</div>
<div class="line">        *best_dist = this_distance;</div>
<div class="line">        best_point = vertical_point;</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a8914016a85c92a468b1d1da3eda53695">chop_vertical_creep</a>)</div>
<div class="line">          found_better = <a class="code" href="a00409.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    vertical_point = vertical_point-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">while</span> (found_better == <a class="code" href="a00409.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> (best_point);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adeb84d8b94a6c87354fc452461de3b39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> * tesseract::Wordrec::pick_good_seam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00346.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>blob</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00959_source.html#l00380">380</a> of file <a class="el" href="a00959_source.html">findseam.cpp</a>.</p>
<div class="fragment"><div class="line">                                         {</div>
<div class="line">  <a class="code" href="a00180.html">SEAM_QUEUE</a> seam_queue;</div>
<div class="line">  <a class="code" href="a00039.html">SEAM_PILE</a> seam_pile;</div>
<div class="line">  <a class="code" href="a00180.html">POINT_GROUP</a> point_heap;</div>
<div class="line">  <a class="code" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> priority;</div>
<div class="line">  <a class="code" href="a00135.html">EDGEPT</a> *edge;</div>
<div class="line">  <a class="code" href="a00135.html">EDGEPT</a> *points[<a class="code" href="a00952.html#acddb2ccb7be3d768d16abfd230d468eb">MAX_NUM_POINTS</a>];</div>
<div class="line">  EDGEPT_CLIST new_points;</div>
<div class="line">  <a class="code" href="a00296.html">SEAM</a> *seam = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <a class="code" href="a00365.html">TESSLINE</a> *outline;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_points = 0;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef GRAPHICS_DISABLED</span></div>
<div class="line"><span class="preprocessor"></span>  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a> &gt; 2)</div>
<div class="line">    <a class="code" href="a00542.html#ac251ee3f4ff4145a52a8ba54a1b26743">wordrec_display_splits</a>.set_value(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00976.html#ae2440305a17a8a14c0e1c74e035934a3">draw_blob_edges</a>(blob);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">  point_heap = <a class="code" href="a00791.html#a101bee15b825fee78f29c8679cc00595">MakeHeap</a> (<a class="code" href="a00952.html#acddb2ccb7be3d768d16abfd230d468eb">MAX_NUM_POINTS</a>);</div>
<div class="line">  <span class="keywordflow">for</span> (outline = blob-&gt;<a class="code" href="a00346.html#a3c9282cad4102157d214bcc6311cda07">outlines</a>; outline; outline = outline-&gt;<a class="code" href="a00365.html#a0fb224d43ea53a791f0957fa92793bef">next</a>)</div>
<div class="line">    <a class="code" href="a00401.html#a52f6801a630c7418855f469233b3cf38">prioritize_points</a>(outline, point_heap);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">while</span> (<a class="code" href="a00791.html#a133a020354d84309c10dfea471f213f4">HeapPop</a> (point_heap, &amp;priority, &amp;edge) == <a class="code" href="a00792.html#ae14e7ed9f6b99e7bcf6f27a73f741870">TESS_HEAP_OK</a>) {</div>
<div class="line">    <span class="keywordflow">if</span> (num_points &lt; <a class="code" href="a00952.html#acddb2ccb7be3d768d16abfd230d468eb">MAX_NUM_POINTS</a>)</div>
<div class="line">      points[num_points++] = (<a class="code" href="a00135.html">EDGEPT</a> *) edge;</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="a00792.html#a8631cc3f443c4ea3e99195df1ca1dd8d">FreeHeap</a>(point_heap);</div>
<div class="line"></div>
<div class="line">  <span class="comment">/* Initialize queue &amp; pile */</span></div>
<div class="line">  <a class="code" href="a00959.html#ac795e021bc4e7c68ce6909ed7916fd03">create_seam_pile</a>(seam_pile);</div>
<div class="line">  <a class="code" href="a00959.html#a5de76d2606b449371cb1e12ade27dac0">create_seam_queue</a>(seam_queue);</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00401.html#afaf3a51721ceaa661e9e1919d4ea48e7">try_point_pairs</a>(points, num_points, seam_queue, &amp;seam_pile, &amp;seam, blob);</div>
<div class="line">  <a class="code" href="a00401.html#a2f5dad2d83fa6f5b28819f13eabf41ba">try_vertical_splits</a>(points, num_points, &amp;new_points,</div>
<div class="line">                      seam_queue, &amp;seam_pile, &amp;seam, blob);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (seam == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    <a class="code" href="a00401.html#afa230ef31fc03aff58ebd4d2de2df68b">choose_best_seam</a>(seam_queue, &amp;seam_pile, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00959.html#a3fd320d93290a64ff24687ec596f1f61">BAD_PRIORITY</a>, &amp;seam, blob);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (seam-&gt;<a class="code" href="a00296.html#a73a33b08d22988d595cd18da31235dc4">priority</a> &gt; <a class="code" href="a00401.html#ad18f0e1c62f90e2be42190a720158862">chop_good_split</a>) {</div>
<div class="line">    <a class="code" href="a00401.html#afa230ef31fc03aff58ebd4d2de2df68b">choose_best_seam</a> (seam_queue, &amp;seam_pile, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, seam-&gt;<a class="code" href="a00296.html#a73a33b08d22988d595cd18da31235dc4">priority</a>,</div>
<div class="line">      &amp;seam, blob);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  EDGEPT_C_IT it(&amp;new_points);</div>
<div class="line">  <span class="keywordflow">for</span> (it.mark_cycle_pt(); !it.cycled_list(); it.forward()) {</div>
<div class="line">    <a class="code" href="a00135.html">EDGEPT</a> *inserted_point = it.data();</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="a00540.html#aa90d43705c8b8286bf9751240ea6ffe0">point_used_by_seam</a>(seam, inserted_point)) {</div>
<div class="line">      <span class="keywordflow">for</span> (outline = blob-&gt;<a class="code" href="a00346.html#a3c9282cad4102157d214bcc6311cda07">outlines</a>; outline; outline = outline-&gt;<a class="code" href="a00365.html#a0fb224d43ea53a791f0957fa92793bef">next</a>) {</div>
<div class="line">        <span class="keywordflow">if</span> (outline-&gt;<a class="code" href="a00365.html#a0ab1e26b1dae548f0bd3c096c6183b18">loop</a> == inserted_point) {</div>
<div class="line">          outline-&gt;<a class="code" href="a00365.html#a0ab1e26b1dae548f0bd3c096c6183b18">loop</a> = outline-&gt;<a class="code" href="a00365.html#a0ab1e26b1dae548f0bd3c096c6183b18">loop</a>-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>;</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">      <a class="code" href="a00542.html#ada6ba0f2954768ab4b7d9d2cf165dee0">remove_edgept</a>(inserted_point);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00959.html#a45ca0c73e62dd03c7dc4d1620a63202f">delete_seam_queue</a>(seam_queue);</div>
<div class="line">  <a class="code" href="a00401.html#a15fb0ba7f97dd0ad49f30fb7861717c4">delete_seam_pile</a>(seam_pile);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (seam) {</div>
<div class="line">    <span class="keywordflow">if</span> (seam-&gt;<a class="code" href="a00296.html#a73a33b08d22988d595cd18da31235dc4">priority</a> &gt; <a class="code" href="a00401.html#ac696a875283d1ce3e888e1b63fd52d9f">chop_ok_split</a>) {</div>
<div class="line">      <a class="code" href="a00540.html#abe1c472bf676a613f555cee9d29f7c3d">delete_seam</a>(seam);</div>
<div class="line">      seam = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#ifndef GRAPHICS_DISABLED</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="a00542.html#ac251ee3f4ff4145a52a8ba54a1b26743">wordrec_display_splits</a>) {</div>
<div class="line">      <span class="keywordflow">if</span> (seam-&gt;<a class="code" href="a00296.html#a4161a1874921a7854bdd3d7a9f930729">split1</a>)</div>
<div class="line">        <a class="code" href="a00976.html#a528d6afbe6545a629d69f9c07084c92e">mark_split</a> (seam-&gt;<a class="code" href="a00296.html#a4161a1874921a7854bdd3d7a9f930729">split1</a>);</div>
<div class="line">      <span class="keywordflow">if</span> (seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>)</div>
<div class="line">        <a class="code" href="a00976.html#a528d6afbe6545a629d69f9c07084c92e">mark_split</a> (seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>);</div>
<div class="line">      <span class="keywordflow">if</span> (seam-&gt;<a class="code" href="a00296.html#ad3878ea3c362e24fcdd063ed81f9ac5a">split3</a>)</div>
<div class="line">        <a class="code" href="a00976.html#a528d6afbe6545a629d69f9c07084c92e">mark_split</a> (seam-&gt;<a class="code" href="a00296.html#ad3878ea3c362e24fcdd063ed81f9ac5a">split3</a>);</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a> &gt; 2) {</div>
<div class="line">        <a class="code" href="a00977.html#a3a90c5459659abe9227ab93d20042630">update_edge_window</a>();</div>
<div class="line">        <a class="code" href="a00977.html#a09f227f1c8c806d8cc6c758f167b965d">edge_window_wait</a>();</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a>)</div>
<div class="line">    <a class="code" href="a00542.html#ac251ee3f4ff4145a52a8ba54a1b26743">wordrec_display_splits</a>.set_value(<span class="keyword">false</span>);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> (seam);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adfe6b5aa74fe948a11bf631af18e7494"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> tesseract::Wordrec::point_priority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>point</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00951_source.html#l00055">55</a> of file <a class="el" href="a00951_source.html">chop.cpp</a>.</p>
<div class="fragment"><div class="line">                                              {</div>
<div class="line">  <span class="keywordflow">return</span> (<a class="code" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a>)<a class="code" href="a00401.html#a6cad89fa254226bb11cc6eacfd7f0ffa">angle_change</a>(point-&gt;<a class="code" href="a00135.html#a8326da8daf597bcdc5a05064a37cbbb1">prev</a>, point, point-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a24a13455e56ef38b4270f672fa639d62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00316.html">STATE</a> * tesseract::Wordrec::pop_queue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00180.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00949_source.html#l00607">607</a> of file <a class="el" href="a00949_source.html">bestfirst.cpp</a>.</p>
<div class="fragment"><div class="line">                                     {</div>
<div class="line">  <a class="code" href="a00181.html">HEAPENTRY</a> entry;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00791.html#aad11f18baf53c82e65a054ff7552d0d1">GetTopOfHeap</a> (queue, &amp;entry) == <a class="code" href="a00792.html#ae14e7ed9f6b99e7bcf6f27a73f741870">TESS_HEAP_OK</a>) {</div>
<div class="line"><span class="preprocessor">#ifndef GRAPHICS_DISABLED</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="a00978.html#a2aed15ed158681a35b22e37ce65cbc3f">wordrec_display_segmentations</a>) {</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a> (<span class="stringliteral">&quot;eval state: %8.3f &quot;</span>, entry.<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a>);</div>
<div class="line">      <a class="code" href="a00809.html#acb25e4d3e4da45c03f24fa3fcada7a98">print_state</a> (<span class="stringliteral">&quot;&quot;</span>, (<a class="code" href="a00316.html">STATE</a> *) entry.<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>, <a class="code" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a>);</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">return</span> ((<a class="code" href="a00316.html">STATE</a> *) entry.<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">return</span> (<a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a52f6801a630c7418855f469233b3cf38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::prioritize_points </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00365.html">TESSLINE</a> *&#160;</td>
          <td class="paramname"><em>outline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00952.html#a55d3249c77c934468c72f606ce08354f">POINT_GROUP</a>&#160;</td>
          <td class="paramname"><em>points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00951_source.html#l00220">220</a> of file <a class="el" href="a00951_source.html">chop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                     {</div>
<div class="line">  <a class="code" href="a00135.html">EDGEPT</a> *this_point;</div>
<div class="line">  <a class="code" href="a00135.html">EDGEPT</a> *local_min = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <a class="code" href="a00135.html">EDGEPT</a> *local_max = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"></div>
<div class="line">  this_point = outline-&gt;<a class="code" href="a00365.html#a0ab1e26b1dae548f0bd3c096c6183b18">loop</a>;</div>
<div class="line">  local_min = this_point;</div>
<div class="line">  local_max = this_point;</div>
<div class="line">  <span class="keywordflow">do</span> {</div>
<div class="line">    <span class="keywordflow">if</span> (this_point-&gt;<a class="code" href="a00135.html#a6da204ff253a65e00daae7753b82c9f7">vec</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> &lt; 0) {</div>
<div class="line">                                 <span class="comment">/* Look for minima */</span></div>
<div class="line">      <span class="keywordflow">if</span> (local_max != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">        <a class="code" href="a00401.html#a3d80d69436770f158bcea457afb6c81d">new_max_point</a>(local_max, points);</div>
<div class="line">      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="a00972.html#a2ed4acccf540054febe7403a827ebbac">is_inside_angle</a> (this_point))</div>
<div class="line">        <a class="code" href="a00401.html#a6b73b33a1a883abc117c676b64816c6f">add_point_to_list</a>(points, this_point);</div>
<div class="line">      local_max = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">      local_min = this_point-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this_point-&gt;<a class="code" href="a00135.html#a6da204ff253a65e00daae7753b82c9f7">vec</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> &gt; 0) {</div>
<div class="line">                                 <span class="comment">/* Look for maxima */</span></div>
<div class="line">      <span class="keywordflow">if</span> (local_min != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">        <a class="code" href="a00401.html#a597a95a38f3461c79c3f3970c4d69b69">new_min_point</a>(local_min, points);</div>
<div class="line">      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="a00972.html#a2ed4acccf540054febe7403a827ebbac">is_inside_angle</a> (this_point))</div>
<div class="line">        <a class="code" href="a00401.html#a6b73b33a1a883abc117c676b64816c6f">add_point_to_list</a>(points, this_point);</div>
<div class="line">      local_min = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">      local_max = this_point-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">      <span class="comment">/* Flat area */</span></div>
<div class="line">      <span class="keywordflow">if</span> (local_max != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">        <span class="keywordflow">if</span> (local_max-&gt;<a class="code" href="a00135.html#a8326da8daf597bcdc5a05064a37cbbb1">prev</a>-&gt;<a class="code" href="a00135.html#a6da204ff253a65e00daae7753b82c9f7">vec</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> != 0) {</div>
<div class="line">          <a class="code" href="a00401.html#a3d80d69436770f158bcea457afb6c81d">new_max_point</a>(local_max, points);</div>
<div class="line">        }</div>
<div class="line">        local_max = this_point-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>;</div>
<div class="line">        local_min = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (local_min-&gt;<a class="code" href="a00135.html#a8326da8daf597bcdc5a05064a37cbbb1">prev</a>-&gt;<a class="code" href="a00135.html#a6da204ff253a65e00daae7753b82c9f7">vec</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> != 0) {</div>
<div class="line">          <a class="code" href="a00401.html#a597a95a38f3461c79c3f3970c4d69b69">new_min_point</a>(local_min, points);</div>
<div class="line">        }</div>
<div class="line">        local_min = this_point-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>;</div>
<div class="line">        local_max = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">                                 <span class="comment">/* Next point */</span></div>
<div class="line">    this_point = this_point-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">while</span> (this_point != outline-&gt;<a class="code" href="a00365.html#a0ab1e26b1dae548f0bd3c096c6183b18">loop</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5ad58d7dcf5cbe7852aefb3b35a9ce33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> tesseract::Wordrec::prioritize_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00088.html">CHUNKS_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunks_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00297.html">SEARCH_RECORD</a> *&#160;</td>
          <td class="paramname"><em>the_search</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00963_source.html#l00289">289</a> of file <a class="el" href="a00963_source.html">heuristic.cpp</a>.</p>
<div class="fragment"><div class="line">                                                             {</div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> shape_cost;</div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> width_cost;</div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> seam_cost;</div>
<div class="line"></div>
<div class="line">  shape_cost = <a class="code" href="a00401.html#a1dd426293ba3d6d90f8740285190336f">rating_priority</a>(chunks_record,</div>
<div class="line">                               the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>,</div>
<div class="line">                               the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a>);</div>
<div class="line"></div>
<div class="line">  width_cost = <a class="code" href="a00401.html#a6e963a2c089d890de52254b85b2c0cac">width_priority</a>(chunks_record,</div>
<div class="line">                              the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>,</div>
<div class="line">                              the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a>);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// The rating_priority is the same as the original, and the width_priority</span></div>
<div class="line">  <span class="comment">// is the same as before if assume_fixed_pitch_char_segment == FALSE.</span></div>
<div class="line">  <span class="comment">// So this would return the original state priority.</span></div>
<div class="line">  <span class="keywordflow">if</span> (!<a class="code" href="a00401.html#ab5afccbd096fe5f2ce5e3a7ada77a698">use_new_state_cost</a>)</div>
<div class="line">    <span class="keywordflow">return</span> width_cost * 1000 + shape_cost;</div>
<div class="line"></div>
<div class="line">  seam_cost = <a class="code" href="a00401.html#aa5fd4729ef162689b68d20f9bdeb0c3e">seamcut_priority</a>(chunks_record-&gt;<a class="code" href="a00088.html#aca32a87e5f9e4d04777ca3551b65b27c">splits</a>,</div>
<div class="line">                               the_search-&gt;<a class="code" href="a00297.html#a4808dd4445d528329aa0e26d7f0343ee">this_state</a>,</div>
<div class="line">                               the_search-&gt;<a class="code" href="a00297.html#ac8ccf6b4a41ad6f50c779cef2796d89e">num_joints</a>);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// TODO(dsl): how do we normalize the scores for these separate evidence?</span></div>
<div class="line">  <span class="comment">// FLOAT32 total_cost = shape_cost + width_cost * 0.01 + seam_cost * 0.001;</span></div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> total_cost = shape_cost * <a class="code" href="a00401.html#a6db610e3739b7660036de4498efd0cc4">heuristic_weight_rating</a> +</div>
<div class="line">                       width_cost * <a class="code" href="a00401.html#ae123123f79f4caa864aa437e93872551">heuristic_weight_width</a> +</div>
<div class="line">                       seam_cost * <a class="code" href="a00401.html#a5305fb44c26a61863bb5f7b646fc5bd9">heuristic_weight_seamcut</a>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// We don&#39;t have an adjustment model for variable pitch segmentation cost</span></div>
<div class="line">  <span class="comment">// into word rating</span></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a613a7dc22729f2cb084bc7093a0a4088">assume_fixed_pitch_char_segment</a>) {</div>
<div class="line">    <span class="keywordtype">float</span> seg_bias = 1.0;</div>
<div class="line">    <span class="keywordflow">if</span> (width_cost &lt; 1) seg_bias *= 0.85;</div>
<div class="line">    <span class="keywordflow">if</span> (width_cost &gt; 3)</div>
<div class="line">      seg_bias *= pow(<a class="code" href="a00401.html#a48537af11d756181ab3c13d14154ec3f">heuristic_segcost_rating_base</a>, width_cost/3.0);</div>
<div class="line">    <span class="keywordflow">if</span> (seam_cost &gt; 10)</div>
<div class="line">      seg_bias *= pow(<a class="code" href="a00401.html#a48537af11d756181ab3c13d14154ec3f">heuristic_segcost_rating_base</a>, log(seam_cost)/log(10.0));</div>
<div class="line">    <span class="keywordflow">if</span> (shape_cost &gt; 5)</div>
<div class="line">      seg_bias *= pow(<a class="code" href="a00401.html#a48537af11d756181ab3c13d14154ec3f">heuristic_segcost_rating_base</a>, shape_cost/5.0);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a2d79e213378c782ac3de5e92ae2ee41c">segment_adjust_debug</a>) {</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;SegCost: %g Weight: %g rating: %g  width: %g  seam: %g\n&quot;</span>,</div>
<div class="line">               total_cost, seg_bias, shape_cost, width_cost, seam_cost);</div>
<div class="line">    }</div>
<div class="line">    the_search-&gt;<a class="code" href="a00297.html#afc64aa6140730c7cc307c734548d2d0f">segcost_bias</a> = seg_bias;</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    the_search-&gt;<a class="code" href="a00297.html#afc64aa6140730c7cc307c734548d2d0f">segcost_bias</a> = 0;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> total_cost;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab9f95be1d701222b62b7f8920f5cb9e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::ProcessSegSearchPainPoint </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>pain_point_priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00230.html">MATRIX_COORD</a> &amp;&#160;</td>
          <td class="paramname"><em>pain_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>best_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SEG_SEARCH_PENDING_LIST *&#160;</td>
          <td class="paramname"><em>pending</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00088.html">CHUNKS_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunks_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00180.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>pain_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00050.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00982_source.html#l00257">257</a> of file <a class="el" href="a00982_source.html">segsearch.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                     {</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a30bd78320448ef425666157d2ff672db">segsearch_debug_level</a> &gt; 0) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Classifying pain point priority=%.4f, col=%d, row=%d\n&quot;</span>,</div>
<div class="line">            pain_point_priority, pain_point.<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a>, pain_point.<a class="code" href="a00230.html#abde52ca4976ce8acc4e70215df074ff5">row</a>);</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="a00228.html">MATRIX</a> *ratings = chunks_record-&gt;<a class="code" href="a00088.html#a0b28a4ba4a1c931ed994847db83e0ef5">ratings</a>;</div>
<div class="line">  BLOB_CHOICE_LIST *classified = <a class="code" href="a00401.html#ad59946532b08a90f940ecfa994b06653">classify_piece</a>(</div>
<div class="line">      chunks_record-&gt;<a class="code" href="a00088.html#a953645d7dbb5789cf5feb918df3e914e">chunks</a>, chunks_record-&gt;<a class="code" href="a00088.html#aa3826aaf2a5a7a76b000859ace1f8602">word_res</a>-&gt;<a class="code" href="a00396.html#a202d9d5d2a462d84012011c689e16605">denorm</a>,</div>
<div class="line">      chunks_record-&gt;<a class="code" href="a00088.html#aca32a87e5f9e4d04777ca3551b65b27c">splits</a>,</div>
<div class="line">      pain_point.<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a>, pain_point.<a class="code" href="a00230.html#abde52ca4976ce8acc4e70215df074ff5">row</a>, blamer_bundle);</div>
<div class="line">  ratings-&gt;<a class="code" href="a00173.html#a610f90d717d1a774cefa8736714f1cc2">put</a>(pain_point.<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a>, pain_point.<a class="code" href="a00230.html#abde52ca4976ce8acc4e70215df074ff5">row</a>, classified);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a30bd78320448ef425666157d2ff672db">segsearch_debug_level</a> &gt; 0) {</div>
<div class="line">    <a class="code" href="a00534.html#a2de5b7d5a020bb9823091dbece4ea36e">print_ratings_list</a>(<span class="stringliteral">&quot;Updated ratings matrix with a new entry:&quot;</span>,</div>
<div class="line">                       ratings-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(pain_point.<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a>, pain_point.<a class="code" href="a00230.html#abde52ca4976ce8acc4e70215df074ff5">row</a>),</div>
<div class="line">                       <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());</div>
<div class="line">    ratings-&gt;<a class="code" href="a00228.html#ae0f2489acb8b15666cb306f82ad2c6de">print</a>(<a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset());</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Insert initial &quot;pain points&quot; to join the newly classified blob</span></div>
<div class="line">  <span class="comment">// with its left and right neighbors.</span></div>
<div class="line">  <span class="keywordflow">if</span> (!classified-&gt;empty()) {</div>
<div class="line">    <span class="keywordtype">float</span> worst_piece_cert;</div>
<div class="line">    <span class="keywordtype">bool</span> fragmented;</div>
<div class="line">    <span class="keywordflow">if</span> (pain_point.<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a> &gt; 0) {</div>
<div class="line">      <a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a>-&gt;<a class="code" href="a00214.html#ac89838ae8a119ee1dd68e8da286d3de2">GetWorstPieceCertainty</a>(</div>
<div class="line">          pain_point.<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a>-1, pain_point.<a class="code" href="a00230.html#abde52ca4976ce8acc4e70215df074ff5">row</a>, chunks_record-&gt;<a class="code" href="a00088.html#a0b28a4ba4a1c931ed994847db83e0ef5">ratings</a>,</div>
<div class="line">          &amp;worst_piece_cert, &amp;fragmented);</div>
<div class="line">      <a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a>-&gt;<a class="code" href="a00214.html#a112225abbc5018ab9b7c15b1363dce1a">GeneratePainPoint</a>(</div>
<div class="line">          pain_point.<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a>-1, pain_point.<a class="code" href="a00230.html#abde52ca4976ce8acc4e70215df074ff5">row</a>, <span class="keyword">false</span>,</div>
<div class="line">          <a class="code" href="a00214.html#a21861bc8d1d02cf8ea67f2b64136459e">LanguageModel::kInitialPainPointPriorityAdjustment</a>,</div>
<div class="line">          worst_piece_cert, fragmented, best_choice-&gt;<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>(),</div>
<div class="line">          <a class="code" href="a00401.html#a8fa843163c3e8785a957e422b9256d35">segsearch_max_char_wh_ratio</a>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line">          chunks_record, pain_points);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (pain_point.<a class="code" href="a00230.html#abde52ca4976ce8acc4e70215df074ff5">row</a>+1 &lt; ratings-&gt;<a class="code" href="a00174.html#acaa00626e03fae7b31f5f08f7f48005b">dimension</a>()) {</div>
<div class="line">      <a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a>-&gt;<a class="code" href="a00214.html#ac89838ae8a119ee1dd68e8da286d3de2">GetWorstPieceCertainty</a>(</div>
<div class="line">          pain_point.<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a>, pain_point.<a class="code" href="a00230.html#abde52ca4976ce8acc4e70215df074ff5">row</a>+1, chunks_record-&gt;<a class="code" href="a00088.html#a0b28a4ba4a1c931ed994847db83e0ef5">ratings</a>,</div>
<div class="line">          &amp;worst_piece_cert, &amp;fragmented);</div>
<div class="line">      <a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a>-&gt;<a class="code" href="a00214.html#a112225abbc5018ab9b7c15b1363dce1a">GeneratePainPoint</a>(</div>
<div class="line">          pain_point.<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a>, pain_point.<a class="code" href="a00230.html#abde52ca4976ce8acc4e70215df074ff5">row</a>+1, <span class="keyword">true</span>,</div>
<div class="line">          <a class="code" href="a00214.html#a21861bc8d1d02cf8ea67f2b64136459e">LanguageModel::kInitialPainPointPriorityAdjustment</a>,</div>
<div class="line">          worst_piece_cert, fragmented, best_choice-&gt;<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>(),</div>
<div class="line">          <a class="code" href="a00401.html#a8fa843163c3e8785a957e422b9256d35">segsearch_max_char_wh_ratio</a>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line">          chunks_record, pain_points);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Record a pending entry with the pain_point and each of its parents.</span></div>
<div class="line">  <span class="keywordtype">int</span> parent_row = pain_point.<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a> - 1;</div>
<div class="line">  <span class="keywordflow">if</span> (parent_row &lt; 0) {  <span class="comment">// this node has no parents</span></div>
<div class="line">    (*pending)[pain_point.<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a>].add_sorted(</div>
<div class="line">        <a class="code" href="a00302.html#a5b59162836f4c12d641f19298d96daba">SEG_SEARCH_PENDING::compare</a>, <span class="keyword">true</span>,</div>
<div class="line">        <span class="keyword">new</span> <a class="code" href="a00302.html">SEG_SEARCH_PENDING</a>(pain_point.<a class="code" href="a00230.html#abde52ca4976ce8acc4e70215df074ff5">row</a>, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line">                               <a class="code" href="a00214.html#aa6d25aa709ba6ef4751d481f810e64f7">LanguageModel::kAllChangedFlag</a>));</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> parent_col = 0; parent_col &lt; pain_point.<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a>; ++parent_col) {</div>
<div class="line">      <span class="keywordflow">if</span> (ratings-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(parent_col, parent_row) != <a class="code" href="a00502.html#a5c21a86b19e78482e6c7384c47c2457d">NOT_CLASSIFIED</a>) {</div>
<div class="line">        (*pending)[pain_point.<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a>].add_sorted(</div>
<div class="line">            <a class="code" href="a00302.html#a5b59162836f4c12d641f19298d96daba">SEG_SEARCH_PENDING::compare</a>, <span class="keyword">true</span>,</div>
<div class="line">            <span class="keyword">new</span> <a class="code" href="a00302.html">SEG_SEARCH_PENDING</a>(pain_point.<a class="code" href="a00230.html#abde52ca4976ce8acc4e70215df074ff5">row</a>,</div>
<div class="line">                                   ratings-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(parent_col, parent_row),</div>
<div class="line">                                   <a class="code" href="a00214.html#aa6d25aa709ba6ef4751d481f810e64f7">LanguageModel::kAllChangedFlag</a>));</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5b44d020ea7f9d19d2e8f71b4e83113c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::program_editdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00577.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a>&#160;</td>
          <td class="paramname"><em>elasped_time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00983_source.html#l00080">80</a> of file <a class="el" href="a00983_source.html">tface.cpp</a>.</p>
<div class="fragment"><div class="line">                                                 {</div>
<div class="line">  <a class="code" href="a00091.html#ae5e4880c5acc91b77308fbd6ab706b13">EndAdaptiveClassifier</a>();</div>
<div class="line">  <a class="code" href="a00401.html#a7518e041a8ddab1d1a2b7e609553b8e3">blob_match_table</a>.<a class="code" href="a00054.html#afdaff3d125ee57f9ee4d6a777e13f0ce">end_match_table</a>();</div>
<div class="line">  <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a13fed9e3e317b901d4728a77f3396907">InitChoiceAccum</a>();</div>
<div class="line">  <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a899e3d5588422e9dac68ac5049069dd4">End</a>();</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a318cffefddd77027079285472c9c54a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::program_editup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>textbase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>init_classifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>init_permute</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00983_source.html#l00050">50</a> of file <a class="el" href="a00983_source.html">tface.cpp</a>.</p>
<div class="fragment"><div class="line">                                             {</div>
<div class="line">  <span class="keywordflow">if</span> (textbase != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) <a class="code" href="a00070.html#a5eea0d996032e28207d801a1ee92d388">imagefile</a> = textbase;</div>
<div class="line">  <a class="code" href="a00639.html#a6e4c84ab01e39577e4a74d9ab1eff68b">InitFeatureDefs</a>(&amp;<a class="code" href="a00091.html#a6ebcfd2968c704f99efd40075ecdb138">feature_defs_</a>);</div>
<div class="line">  <a class="code" href="a00647.html#a76570fce55d7fb60d03f897278284cda">SetupExtractors</a>(&amp;<a class="code" href="a00091.html#a6ebcfd2968c704f99efd40075ecdb138">feature_defs_</a>);</div>
<div class="line">  <a class="code" href="a00091.html#a2f9389a2d855d2a59e7892d3ba884887">InitAdaptiveClassifier</a>(init_classifier);</div>
<div class="line">  <span class="keywordflow">if</span> (init_dict) <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a1cb09562db2f2c8951f8dc21cf7bc279">Load</a>();</div>
<div class="line">  <a class="code" href="a00401.html#a671c4b102b976c600adc3bf60ee44323">pass2_ok_split</a> = <a class="code" href="a00401.html#ac696a875283d1ce3e888e1b63fd52d9f">chop_ok_split</a>;</div>
<div class="line">  <a class="code" href="a00401.html#ade3cecfe9b377045db0abe2d06762c1e">pass2_seg_states</a> = <a class="code" href="a00401.html#a57c3675d967208936be65a14e5b64c7d">wordrec_num_seg_states</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeec11442b97898cd44ddfe568dd9ee0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::push_queue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00180.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00316.html">STATE</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>worst_priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a>&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00949_source.html#l00629">629</a> of file <a class="el" href="a00949_source.html">bestfirst.cpp</a>.</p>
<div class="fragment"><div class="line">                                                       {</div>
<div class="line">  <a class="code" href="a00181.html">HEAPENTRY</a> entry;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (priority &lt; worst_priority) {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00792.html#adef5e73cd09ccb5b785927a8b7499873">SizeOfHeap</a> (queue) &gt;= <a class="code" href="a00792.html#af7057d20ec3cbd5fc55f9367ba365a7e">MaxSizeOfHeap</a>(queue)) {</div>
<div class="line">      <span class="keywordflow">if</span> (debug) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Heap is Full\n&quot;</span>);</div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    entry.<a class="code" href="a00181.html#ab04a38c2cfaa44594782f052cbe7414d">Data</a> = (<span class="keywordtype">char</span> *) <a class="code" href="a00809.html#ac2e9f7b195c3ee2878144de8cae6ec67">new_state</a> (state);</div>
<div class="line">    <a class="code" href="a00401.html#af285813a72895f9b09f4e0f3021e721c">num_pushed</a>++;</div>
<div class="line">    entry.<a class="code" href="a00181.html#aa80cabd8128f5fa5a64e00b2e41e9c54">Key</a> = priority;</div>
<div class="line">    <a class="code" href="a00791.html#a21a037334c93e1d0e7ae2059203a9cf3">HeapStore</a>(queue, &amp;entry);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1dd426293ba3d6d90f8740285190336f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> tesseract::Wordrec::rating_priority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00088.html">CHUNKS_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunks_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00316.html">STATE</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_joints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00963_source.html#l00175">175</a> of file <a class="el" href="a00963_source.html">heuristic.cpp</a>.</p>
<div class="fragment"><div class="line">                                                 {</div>
<div class="line">  BLOB_CHOICE_LIST *blob_choices;</div>
<div class="line">  BLOB_CHOICE_IT blob_choice_it;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> first_chunk = 0;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> last_chunk;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> ratings = 0;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> weights = 0;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00810.html#a5fa79db9c64231406ef3807adfad627d">PIECES_STATE</a> blob_chunks;</div>
<div class="line">  <a class="code" href="a00809.html#acd6fd8bb4f29a8f5674ec05b47e63466">bin_to_pieces</a>(state, <a class="code" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a>, blob_chunks);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; blob_chunks[x]; x++) {</div>
<div class="line">    last_chunk = first_chunk + blob_chunks[x];</div>
<div class="line"></div>
<div class="line">    blob_choices = chunks_record-&gt;<a class="code" href="a00088.html#a0b28a4ba4a1c931ed994847db83e0ef5">ratings</a>-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(first_chunk, last_chunk - 1);</div>
<div class="line">    <span class="keywordflow">if</span> (blob_choices != <a class="code" href="a00502.html#a5c21a86b19e78482e6c7384c47c2457d">NOT_CLASSIFIED</a> &amp;&amp; blob_choices-&gt;length() &gt; 0) {</div>
<div class="line">      blob_choice_it.set_to_list(blob_choices);</div>
<div class="line">      ratings += (<a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>) blob_choice_it.data()-&gt;rating();</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = first_chunk; y &lt; last_chunk; y++) {</div>
<div class="line">        weights += (<a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>) (chunks_record-&gt;<a class="code" href="a00088.html#afa46370f180659bdd3be60d7d4ed21ed">weights</a>[y]);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    first_chunk = last_chunk;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (weights &lt;= 0)</div>
<div class="line">    weights = 1;</div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> rating_cost = <span class="keyword">static_cast&lt;</span><a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a><span class="keyword">&gt;</span>(ratings) /</div>
<div class="line">                        static_cast&lt;FLOAT32&gt;(weights);</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a2d79e213378c782ac3de5e92ae2ee41c">segment_adjust_debug</a> &gt; 2)</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;rating_cost: r%f / w%f = %f\n&quot;</span>, ratings, weights, rating_cost);</div>
<div class="line">  <span class="keywordflow">return</span> rating_cost;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a540decbb88b2e701402b80fd7395d03e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> * tesseract::Wordrec::rebuild_current_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00396.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00316.html">STATE</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>old_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00228.html">MATRIX</a> *&#160;</td>
          <td class="paramname"><em>ratings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>rebuild_current_state</p>
<p>Transfers the given state to the word's output fields: rebuild_word, best_state, box_word, and returns the corresponding blob choices. </p>

<p>Definition at line <a class="el" href="a00949_source.html#l00332">332</a> of file <a class="el" href="a00949_source.html">bestfirst.cpp</a>.</p>
<div class="fragment"><div class="line">                     {</div>
<div class="line">  <span class="comment">// Initialize search_state, num_joints, x, y.</span></div>
<div class="line">  <span class="keywordtype">int</span> <a class="code" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a> = <a class="code" href="a00798.html#a89ee8010120771c8612dc7058b327f84">array_count</a>(word-&gt;<a class="code" href="a00396.html#adefe2273d7f4b36fcbe7ae420bfd077a">seam_array</a>);</div>
<div class="line"><span class="preprocessor">#ifndef GRAPHICS_DISABLED</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="a00978.html#a2aed15ed158681a35b22e37ce65cbc3f">wordrec_display_segmentations</a>) {</div>
<div class="line">      <a class="code" href="a00809.html#acb25e4d3e4da45c03f24fa3fcada7a98">print_state</a>(<span class="stringliteral">&quot;Rebuilding state&quot;</span>, state, num_joints);</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>  <span class="comment">// Setup the rebuild_word ready for the output blobs.</span></div>
<div class="line">  <span class="keywordflow">if</span> (word-&gt;<a class="code" href="a00396.html#a211ab5c5a13123ee7bdc7459d3363f9d">rebuild_word</a> != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">    <span class="keyword">delete</span> word-&gt;<a class="code" href="a00396.html#a211ab5c5a13123ee7bdc7459d3363f9d">rebuild_word</a>;</div>
<div class="line">  word-&gt;<a class="code" href="a00396.html#a211ab5c5a13123ee7bdc7459d3363f9d">rebuild_word</a> = <span class="keyword">new</span> <a class="code" href="a00381.html">TWERD</a>;</div>
<div class="line">  <span class="comment">// Setup the best_state.</span></div>
<div class="line">  word-&gt;<a class="code" href="a00396.html#ab3c9354a32a99c3283f4ac411b5f9b93">best_state</a>.<a class="code" href="a00175.html#a9cdbff49b186574b83e43afba606fdd9">clear</a>();</div>
<div class="line">  <a class="code" href="a00810.html#afeb312869cc56f5a20c6f3dcb65644cc">SEARCH_STATE</a> search_state = <a class="code" href="a00809.html#a65830cfe21c29feec92f03627b51ff65">bin_to_chunks</a>(state, num_joints);</div>
<div class="line">  <span class="comment">// See which index is which below for information on x and y.</span></div>
<div class="line">  <span class="keywordtype">int</span> x = 0;</div>
<div class="line">  <span class="keywordtype">int</span> y;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt;= search_state[0]; i++) {</div>
<div class="line">    y = x + search_state[i];</div>
<div class="line">    x = y + 1;</div>
<div class="line">  }</div>
<div class="line">  y = <a class="code" href="a00475.html#aa8048f4c65af2775452ad5d4dfbca053">count_blobs</a>(word-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>) - 1;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Initialize char_choices, expanded_fragment_lengths:</span></div>
<div class="line">  <span class="comment">// e.g. if fragment_lengths = {1 1 2 3 1},</span></div>
<div class="line">  <span class="comment">// expanded_fragment_lengths_str = {1 1 2 2 3 3 3 1}.</span></div>
<div class="line">  <a class="code" href="a00175.html">BLOB_CHOICE_LIST_VECTOR</a> *char_choices = <span class="keyword">new</span> <a class="code" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a>();</div>
<div class="line">  <a class="code" href="a00319.html">STRING</a> expanded_fragment_lengths_str = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">  <span class="keywordtype">bool</span> state_has_fragments = <span class="keyword">false</span>;</div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span> *fragment_lengths = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() &gt; 0) {</div>
<div class="line">    fragment_lengths = word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="a00395.html#ad62ae184e9df1f3ed26c9af382b5e3f2">fragment_lengths</a>();</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (fragment_lengths) {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="a00395.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>(); ++i) {</div>
<div class="line">      *char_choices += <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">      word-&gt;<a class="code" href="a00396.html#ab3c9354a32a99c3283f4ac411b5f9b93">best_state</a>.<a class="code" href="a00175.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(0);</div>
<div class="line">      <span class="keywordflow">if</span> (fragment_lengths[i] &gt; 1) {</div>
<div class="line">        state_has_fragments = <span class="keyword">true</span>;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; fragment_lengths[i]; ++j) {</div>
<div class="line">        expanded_fragment_lengths_str += fragment_lengths[i];</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= search_state[0]; ++i) {</div>
<div class="line">      expanded_fragment_lengths_str += (char)1;</div>
<div class="line">      *char_choices += <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">      word-&gt;<a class="code" href="a00396.html#ab3c9354a32a99c3283f4ac411b5f9b93">best_state</a>.<a class="code" href="a00175.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(0);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Set up variables for concatenating fragments.</span></div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span> *word_lengths_ptr = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span> *word_ptr = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <span class="keywordflow">if</span> (state_has_fragments) {</div>
<div class="line">    <span class="comment">// Make word_lengths_ptr point to the last element in</span></div>
<div class="line">    <span class="comment">// best_choice-&gt;unichar_lengths().</span></div>
<div class="line">    word_lengths_ptr = word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="a00395.html#a93ab94b6fa6d5c0469fb52d66c62968c">unichar_lengths</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>();</div>
<div class="line">    word_lengths_ptr += (strlen(word_lengths_ptr)-1);</div>
<div class="line">    <span class="comment">// Make word_str point to the beginning of the last</span></div>
<div class="line">    <span class="comment">// unichar in best_choice-&gt;unichar_string().</span></div>
<div class="line">    word_ptr = word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>-&gt;<a class="code" href="a00395.html#a41d740f0accccdfb245d34d554122116">unichar_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>();</div>
<div class="line">    word_ptr += (strlen(word_ptr)-*word_lengths_ptr);</div>
<div class="line">  }</div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span> *expanded_fragment_lengths =</div>
<div class="line">    expanded_fragment_lengths_str.<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>();</div>
<div class="line">  <span class="keywordtype">char</span> unichar[<a class="code" href="a00610.html#a902bc40c9d89802bc063afe30ce9e708">UNICHAR_LEN</a> + 1];</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Populate char_choices list such that it corresponds to search_state.</span></div>
<div class="line">  <span class="comment">//</span></div>
<div class="line">  <span class="comment">// If we are rebuilding a state that contains character fragments:</span></div>
<div class="line">  <span class="comment">// -- combine blobs that belong to character fragments</span></div>
<div class="line">  <span class="comment">// -- re-classify the blobs to obtain choices list for the merged blob</span></div>
<div class="line">  <span class="comment">// -- ensure that correct classification appears in the new choices list</span></div>
<div class="line">  <span class="comment">//    NOTE: a choice composed form original fragment choices will be always</span></div>
<div class="line">  <span class="comment">//    added to the new choices list for each character composed from</span></div>
<div class="line">  <span class="comment">//    fragments (even if the choice for the corresponding character appears</span></div>
<div class="line">  <span class="comment">//    in the re-classified choices list of for the newly merged blob).</span></div>
<div class="line">  <span class="keywordtype">int</span> ss_index = search_state[0];</div>
<div class="line">  <span class="comment">// Which index is which?</span></div>
<div class="line">  <span class="comment">// char_choices_index refers to the finished product: there is one for each</span></div>
<div class="line">  <span class="comment">// blob/unicharset entry in the final word.</span></div>
<div class="line">  <span class="comment">// ss_index refers to the search_state, and indexes a group (chunk) of blobs</span></div>
<div class="line">  <span class="comment">// that were classified together for the best state.</span></div>
<div class="line">  <span class="comment">// old_choice_index is a copy of ss_index, and accesses the old_choices,</span></div>
<div class="line">  <span class="comment">// which correspond to chunks in the best state. old_choice_index gets</span></div>
<div class="line">  <span class="comment">// set to -1 on a fragment set, as there is no corresponding chunk in</span></div>
<div class="line">  <span class="comment">// the best state.</span></div>
<div class="line">  <span class="comment">// x and y refer to the underlying blobs and are the first and last blob</span></div>
<div class="line">  <span class="comment">// indices in a chunk.</span></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> char_choices_index = char_choices-&gt;<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() - 1;</div>
<div class="line">       char_choices_index &gt;= 0;</div>
<div class="line">       --char_choices_index) {</div>
<div class="line">    <span class="comment">// The start and end of the blob to rebuild.</span></div>
<div class="line">    <span class="keywordtype">int</span> true_x = x;</div>
<div class="line">    <span class="keywordtype">int</span> true_y = y;</div>
<div class="line">    <span class="comment">// The fake merged fragment choice.</span></div>
<div class="line">    <a class="code" href="a00052.html">BLOB_CHOICE</a>* merged_choice = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">    <span class="comment">// Test for and combine fragments first.</span></div>
<div class="line">    <span class="keywordtype">int</span> fragment_pieces = expanded_fragment_lengths[ss_index];</div>
<div class="line">    <span class="keywordtype">int</span> old_choice_index = ss_index;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (fragment_pieces &gt; 1) {</div>
<div class="line">      strncpy(unichar, word_ptr, *word_lengths_ptr);</div>
<div class="line">      unichar[*word_lengths_ptr] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">      merged_choice = <a class="code" href="a00401.html#afba032e7e9cea932a806e56424966237">rebuild_fragments</a>(unichar, expanded_fragment_lengths,</div>
<div class="line">                                        old_choice_index, old_choices);</div>
<div class="line">      old_choice_index = -1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">while</span> (fragment_pieces &gt; 0) {</div>
<div class="line">      true_x = x;</div>
<div class="line">      <span class="comment">// Move left to the previous blob.</span></div>
<div class="line">      y = x - 1;</div>
<div class="line">      x = y - search_state[ss_index--];</div>
<div class="line">      --fragment_pieces;</div>
<div class="line">    }</div>
<div class="line">    word-&gt;<a class="code" href="a00396.html#ab3c9354a32a99c3283f4ac411b5f9b93">best_state</a>[char_choices_index] = true_y + 1 - true_x;</div>
<div class="line">    BLOB_CHOICE_LIST *current_choices = <a class="code" href="a00401.html#aad7c820e5bb342d7ea7743269e160a20">join_blobs_and_classify</a>(</div>
<div class="line">        word, true_x, true_y, old_choice_index, ratings, old_choices);</div>
<div class="line">    <span class="keywordflow">if</span> (merged_choice != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">      <span class="comment">// Insert merged_blob into current_choices, such that current_choices</span></div>
<div class="line">      <span class="comment">// are still sorted in non-descending order by rating.</span></div>
<div class="line">      <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(!current_choices-&gt;empty());</div>
<div class="line">      BLOB_CHOICE_IT choice_it(current_choices);</div>
<div class="line">      <span class="keywordflow">for</span> (choice_it.mark_cycle_pt(); !choice_it.cycled_list() &amp;&amp;</div>
<div class="line">           merged_choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>() &gt; choice_it.data()-&gt;rating();</div>
<div class="line">           choice_it.forward());</div>
<div class="line">        choice_it.add_before_stay_put(merged_choice);</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// Get rid of fragments in current_choices.</span></div>
<div class="line">    BLOB_CHOICE_IT choice_it(current_choices);</div>
<div class="line">    <span class="keywordflow">for</span> (choice_it.mark_cycle_pt(); !choice_it.cycled_list();</div>
<div class="line">        choice_it.forward()) {</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(</div>
<div class="line">          choice_it.data()-&gt;unichar_id())) {</div>
<div class="line">        <span class="keyword">delete</span> choice_it.extract();</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    char_choices-&gt;<a class="code" href="a00175.html#a067b7833ee66238b7b5e230404525fcb">set</a>(current_choices, char_choices_index);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Update word_ptr and word_lengths_ptr.</span></div>
<div class="line">    <span class="keywordflow">if</span> (word_lengths_ptr != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; word_ptr != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">      word_lengths_ptr--;</div>
<div class="line">      word_ptr -= (*word_lengths_ptr);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  old_choices-&gt;<a class="code" href="a00175.html#a98f62dccd75224a60437c2761bd215cd">delete_data_pointers</a>();</div>
<div class="line">  <span class="keyword">delete</span> old_choices;</div>
<div class="line">  <a class="code" href="a00786.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(search_state);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> char_choices;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afba032e7e9cea932a806e56424966237"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00052.html">BLOB_CHOICE</a> * tesseract::Wordrec::rebuild_fragments </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>unichar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>expanded_fragment_lengths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>choice_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>old_choices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00949_source.html#l00680">680</a> of file <a class="el" href="a00949_source.html">bestfirst.cpp</a>.</p>
<div class="fragment"><div class="line">                                          {</div>
<div class="line">  <span class="keywordtype">float</span> rating = 0.0f;</div>
<div class="line">  <span class="keywordtype">float</span> certainty = 0.0f;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> min_xheight = -<a class="code" href="a00577.html#a3905e54374e49708219791e7d59c60fb">MAX_INT16</a>;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> max_xheight = <a class="code" href="a00577.html#a3905e54374e49708219791e7d59c60fb">MAX_INT16</a>;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> fragment_pieces = expanded_fragment_lengths[choice_index] - 1;</div>
<div class="line">       fragment_pieces &gt;= 0; --fragment_pieces, --choice_index) {</div>
<div class="line">    <span class="comment">// Get a pointer to the classifier results from the old_choices.</span></div>
<div class="line">    BLOB_CHOICE_LIST *current_choices = old_choices-&gt;<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(choice_index);</div>
<div class="line">    <span class="comment">// Populate fragment with updated values and look for the</span></div>
<div class="line">    <span class="comment">// fragment with the same values in current_choices.</span></div>
<div class="line">    <span class="comment">// Update rating and certainty of the character being composed.</span></div>
<div class="line">    <a class="code" href="a00074.html">CHAR_FRAGMENT</a> fragment;</div>
<div class="line">    fragment.<a class="code" href="a00074.html#acb20b5f377469c19f37d197ffb9559f8">set_all</a>(unichar, fragment_pieces,</div>
<div class="line">                     expanded_fragment_lengths[choice_index], <span class="keyword">false</span>);</div>
<div class="line">    BLOB_CHOICE_IT choice_it(current_choices);</div>
<div class="line">    <span class="keywordflow">for</span> (choice_it.mark_cycle_pt(); !choice_it.cycled_list();</div>
<div class="line">        choice_it.forward()) {</div>
<div class="line">      <a class="code" href="a00052.html">BLOB_CHOICE</a>* choice = choice_it.data();</div>
<div class="line">      <span class="keyword">const</span> <a class="code" href="a00074.html">CHAR_FRAGMENT</a> *current_fragment =</div>
<div class="line">          <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(choice-&gt;<a class="code" href="a00052.html#aaba6190b77c5f3dc21905fc4118afa94">unichar_id</a>());</div>
<div class="line">      <span class="keywordflow">if</span> (current_fragment &amp;&amp; fragment.<a class="code" href="a00074.html#a5416dda467e92c5e88a454466c60b980">equals</a>(current_fragment)) {</div>
<div class="line">        rating += choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>();</div>
<div class="line">        <span class="keywordflow">if</span> (choice-&gt;<a class="code" href="a00052.html#af53d45b718c562ea7209b583c77ac14e">certainty</a>() &lt; certainty) {</div>
<div class="line">          certainty = choice-&gt;<a class="code" href="a00052.html#af53d45b718c562ea7209b583c77ac14e">certainty</a>();</div>
<div class="line">        }</div>
<div class="line">        <a class="code" href="a00576.html#a6a6e013c7a0b4afa87f5e37697f7f99f">IntersectRange</a>(choice-&gt;<a class="code" href="a00052.html#a1d566c10d8bc8882aeb1d57187cebe18">min_xheight</a>(), choice-&gt;<a class="code" href="a00052.html#ae435b82552a508cafce764144f7f0871">max_xheight</a>(),</div>
<div class="line">                       &amp;min_xheight, &amp;max_xheight);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (choice_it.cycled_list()) {</div>
<div class="line">      <a class="code" href="a00534.html#a2de5b7d5a020bb9823091dbece4ea36e">print_ratings_list</a>(<span class="stringliteral">&quot;Failure&quot;</span>, current_choices, <a class="code" href="a00070.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>);</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Failed to find fragment %s at index=%d\n&quot;</span>,</div>
<div class="line">              fragment.<a class="code" href="a00074.html#ab845f2c4b4a4bac23392806c445f1fe4">to_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(), choice_index);</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(!choice_it.cycled_list());  <span class="comment">// Be sure we found the fragment.</span></div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="a00052.html">BLOB_CHOICE</a>(<a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset().unichar_to_id(unichar),</div>
<div class="line">                         rating, certainty, -1, -1, 0,</div>
<div class="line">                         min_xheight, max_xheight, <span class="keyword">false</span>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa635d222f122122d4abad1b883d92fb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00347.html">TBOX</a> * tesseract::Wordrec::record_blob_bounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00346.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>blobs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00975_source.html#l00393">393</a> of file <a class="el" href="a00975_source.html">pieces.cpp</a>.</p>
<div class="fragment"><div class="line">                                              {</div>
<div class="line">  <span class="keywordtype">int</span> nblobs = <a class="code" href="a00475.html#aa8048f4c65af2775452ad5d4dfbca053">count_blobs</a>(blobs);</div>
<div class="line">  <a class="code" href="a00347.html">TBOX</a> *bboxes = <span class="keyword">new</span> <a class="code" href="a00347.html">TBOX</a>[nblobs];</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> x = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (<a class="code" href="a00346.html">TBLOB</a>* blob = blobs; blob != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; blob = blob-&gt;next) {</div>
<div class="line">    bboxes[x] = blob-&gt;bounding_box();</div>
<div class="line">    x++;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> bboxes;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9f070b021f06de480fda80a61a772d47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00228.html">MATRIX</a> * tesseract::Wordrec::record_piece_ratings </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00346.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>blobs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00975_source.html#l00414">414</a> of file <a class="el" href="a00975_source.html">pieces.cpp</a>.</p>
<div class="fragment"><div class="line">                                                  {</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_blobs = <a class="code" href="a00475.html#aa8048f4c65af2775452ad5d4dfbca053">count_blobs</a>(blobs);</div>
<div class="line">  <a class="code" href="a00347.html">TBOX</a> *bounds = <a class="code" href="a00401.html#aa635d222f122122d4abad1b883d92fb5">record_blob_bounds</a>(blobs);</div>
<div class="line">  <a class="code" href="a00228.html">MATRIX</a> *ratings = <span class="keyword">new</span> <a class="code" href="a00228.html">MATRIX</a>(num_blobs);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; num_blobs; x++) {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = x; y &lt; num_blobs; y++) {</div>
<div class="line">      <a class="code" href="a00347.html">TBOX</a> piecebox = <a class="code" href="a00975.html#a50178bc6fca28775bd05503bd7343d81">bounds_of_piece</a>(bounds, x, y);</div>
<div class="line">      BLOB_CHOICE_LIST *choices = <a class="code" href="a00401.html#a7518e041a8ddab1d1a2b7e609553b8e3">blob_match_table</a>.<a class="code" href="a00054.html#a07541d5a431250ed1bc5f9a22cf686e4">get_match_by_box</a>(piecebox);</div>
<div class="line">      <span class="keywordflow">if</span> (choices != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">        ratings-&gt;<a class="code" href="a00173.html#a610f90d717d1a774cefa8736714f1cc2">put</a>(x, y, choices);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a0dcc862e7e80e66c451e8e98b534ca46">merge_fragments_in_matrix</a>)</div>
<div class="line">    <a class="code" href="a00401.html#a60e821ddb0f98741bb729c5163e1189c">merge_fragments</a>(ratings, num_blobs);</div>
<div class="line"></div>
<div class="line">  <span class="keyword">delete</span> []bounds;</div>
<div class="line">  <span class="keywordflow">return</span> ratings;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a35746f8e970b19443f459c060a8775c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::replace_char_widths </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00088.html">CHUNKS_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunks_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00810.html#afeb312869cc56f5a20c6f3dcb65644cc">SEARCH_STATE</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00949_source.html#l00651">651</a> of file <a class="el" href="a00949_source.html">bestfirst.cpp</a>.</p>
<div class="fragment"><div class="line">                                                      {</div>
<div class="line">  <a class="code" href="a00397.html">WIDTH_RECORD</a> *width_record;</div>
<div class="line">  <span class="keywordtype">int</span> num_blobs;</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00476.html#a08481bc89b6e24355aaa1a3785eb5840">free_widths</a> (chunks_record-&gt;<a class="code" href="a00088.html#a1e5c641f46ccb7f464def3678de715d3">char_widths</a>);</div>
<div class="line"></div>
<div class="line">  num_blobs = state[0] + 1;</div>
<div class="line">  width_record = (<a class="code" href="a00397.html">WIDTH_RECORD</a> *) <a class="code" href="a00786.html#a5898fbe61f6ffe4c1be71a107193cdfd">memalloc</a> (<span class="keyword">sizeof</span> (<span class="keywordtype">int</span>) * num_blobs * 2);</div>
<div class="line">  width_record-&gt;<a class="code" href="a00397.html#ab6a41176580d08b8e2389aa9ce6e26ad">num_chars</a> = num_blobs;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; num_blobs; i++) {</div>
<div class="line"></div>
<div class="line">    width_record-&gt;<a class="code" href="a00397.html#a3d7464eb423f5e10dbb3bb2d7b4b26f1">widths</a>[2 * i] = <a class="code" href="a00401.html#af7a36436e7e7fd0691bc093814fc2b62">last_segmentation</a>[i].width;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (i + 1 &lt; num_blobs)</div>
<div class="line">      width_record-&gt;<a class="code" href="a00397.html#a3d7464eb423f5e10dbb3bb2d7b4b26f1">widths</a>[2 * i + 1] = <a class="code" href="a00401.html#af7a36436e7e7fd0691bc093814fc2b62">last_segmentation</a>[i].gap;</div>
<div class="line">  }</div>
<div class="line">  chunks_record-&gt;<a class="code" href="a00088.html#a1e5c641f46ccb7f464def3678de715d3">char_widths</a> = width_record;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad88a55a41c46135e8173fd81cbeb1751"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::reverse_outline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>outline</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00973_source.html#l00164">164</a> of file <a class="el" href="a00973_source.html">outlines.cpp</a>.</p>
<div class="fragment"><div class="line">                                             {</div>
<div class="line">  <a class="code" href="a00135.html">EDGEPT</a> *edgept = outline;</div>
<div class="line">  <a class="code" href="a00135.html">EDGEPT</a> *temp;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">do</span> {</div>
<div class="line">                                 <span class="comment">/* Swap next and prev */</span></div>
<div class="line">    temp = edgept-&gt;<a class="code" href="a00135.html#a8326da8daf597bcdc5a05064a37cbbb1">prev</a>;</div>
<div class="line">    edgept-&gt;<a class="code" href="a00135.html#a8326da8daf597bcdc5a05064a37cbbb1">prev</a> = edgept-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>;</div>
<div class="line">    edgept-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a> = temp;</div>
<div class="line">    <span class="comment">/* Set up vec field */</span></div>
<div class="line">    edgept-&gt;<a class="code" href="a00135.html#a6da204ff253a65e00daae7753b82c9f7">vec</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> = edgept-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> - edgept-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>;</div>
<div class="line">    edgept-&gt;<a class="code" href="a00135.html#a6da204ff253a65e00daae7753b82c9f7">vec</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> = edgept-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a> - edgept-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#a6d62f015b74612e43975e439a096039c">y</a>;</div>
<div class="line"></div>
<div class="line">    edgept = edgept-&gt;<a class="code" href="a00135.html#a8326da8daf597bcdc5a05064a37cbbb1">prev</a>;       <span class="comment">/* Go to next point */</span></div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">while</span> (edgept != outline);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3e07fc3051cf28bed0511983b8f8b69d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::SaveAltChoices </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00407.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> &amp;&#160;</td>
          <td class="paramname"><em>best_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00396.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00986_source.html#l00173">173</a> of file <a class="el" href="a00986_source.html">wordrec.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                     {</div>
<div class="line">  <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(word-&gt;<a class="code" href="a00396.html#a7c4b69c62b42a87e75814abeab2b119a">alt_choices</a>.<a class="code" href="a00175.html#afb0d8c52a603b6aa965d63bbf06a27dd">empty</a>());</div>
<div class="line">  <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(word-&gt;<a class="code" href="a00396.html#a2a518e1c690490fe520c26d9acb8b45a">alt_states</a>.<a class="code" href="a00175.html#afb0d8c52a603b6aa965d63bbf06a27dd">empty</a>());</div>
<div class="line">  <a class="code" href="a00221.html">LIST</a> list_it;</div>
<div class="line">  <a class="code" href="a00794.html#ae72ce4a628b0a33a34c2a74c18cd44a5">iterate_list</a>(list_it, best_choices) {</div>
<div class="line">    <a class="code" href="a00391.html">VIABLE_CHOICE</a> choice =</div>
<div class="line">        <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="a00391.html">VIABLE_CHOICE</a><span class="keyword">&gt;</span>(<a class="code" href="a00794.html#a69547be764424f18b0be535400747978">first_node</a>(list_it));</div>
<div class="line">    <a class="code" href="a00072.html">CHAR_CHOICE</a> *char_choice = &amp;(choice-&gt;<a class="code" href="a00391.html#ac8d4e0d1f5355092b5cb33f541aa54c2">Blob</a>[0]);</div>
<div class="line">    <a class="code" href="a00395.html">WERD_CHOICE</a> *alt_choice = <span class="keyword">new</span> <a class="code" href="a00395.html">WERD_CHOICE</a>(word-&gt;<a class="code" href="a00396.html#a053a2aeeddc26a93a41a04fa08dd688a">uch_set</a>, choice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a>);</div>
<div class="line">    word-&gt;<a class="code" href="a00396.html#a2a518e1c690490fe520c26d9acb8b45a">alt_states</a>.<a class="code" href="a00175.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(<a class="code" href="a00175.html">GenericVector&lt;int&gt;</a>(choice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a>));</div>
<div class="line">    <a class="code" href="a00175.html">GenericVector&lt;int&gt;</a> &amp;alt_state = word-&gt;<a class="code" href="a00396.html#a2a518e1c690490fe520c26d9acb8b45a">alt_states</a>.<a class="code" href="a00175.html#a6e6d6497a6f7dd999b6d591c15354167">back</a>();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; choice-&gt;<a class="code" href="a00391.html#a094ecf960979babf7ff7d1ca74b99c61">Length</a>; char_choice++, i++) {</div>
<div class="line">      alt_choice-&gt;<a class="code" href="a00395.html#a222ced86be88a66a119b6c5d10af23fb">append_unichar_id_space_allocated</a>(</div>
<div class="line">          char_choice-&gt;<a class="code" href="a00072.html#afae513ffd1d6fd0167baa1dce1b86c60">Class</a>, 1, 0, 0);</div>
<div class="line">      alt_state.<a class="code" href="a00175.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(char_choice-&gt;<a class="code" href="a00072.html#ac928eaafcdc57fcd44d82ab9a56e9da3">NumChunks</a>);</div>
<div class="line">    }</div>
<div class="line">    alt_choice-&gt;<a class="code" href="a00395.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(choice-&gt;<a class="code" href="a00391.html#a651bc1b5ad4d2a7ce33c0f564c13ecb7">Rating</a>);</div>
<div class="line">    alt_choice-&gt;<a class="code" href="a00395.html#a0d8b3f73cb02eb5f6e492ffd1304fe85">set_certainty</a>(choice-&gt;<a class="code" href="a00391.html#a88c4c888e5f46a1c56b3fc934726514f">Certainty</a>);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="a00569.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(choice-&gt;<a class="code" href="a00391.html#a1b15ee8f1ed55db843a85144a602e57e">blob_choices</a> != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">    alt_choice-&gt;<a class="code" href="a00395.html#ad25fbd8b04dd1e3def8701fa55f1466d">set_blob_choices</a>(choice-&gt;<a class="code" href="a00391.html#a1b15ee8f1ed55db843a85144a602e57e">blob_choices</a>);</div>
<div class="line">    choice-&gt;<a class="code" href="a00391.html#a1b15ee8f1ed55db843a85144a602e57e">blob_choices</a> = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"></div>
<div class="line">    word-&gt;<a class="code" href="a00396.html#a7c4b69c62b42a87e75814abeab2b119a">alt_choices</a>.<a class="code" href="a00175.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(alt_choice);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a15e6789d11062602e044c699bbd9b3aa">wordrec_debug_level</a> &gt; 0) {</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;SaveAltChoices: %s %g\n&quot;</span>,</div>
<div class="line">              alt_choice-&gt;<a class="code" href="a00395.html#a41d740f0accccdfb245d34d554122116">unichar_string</a>().<a class="code" href="a00319.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(), alt_choice-&gt;<a class="code" href="a00395.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>());</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a239d08f59bdd41a53ab489ca138fa989"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> tesseract::Wordrec::seam_priority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> *&#160;</td>
          <td class="paramname"><em>seam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>xmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>xmax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00959_source.html#l00474">474</a> of file <a class="el" href="a00959_source.html">findseam.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                  {</div>
<div class="line">  <a class="code" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> priority;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (seam-&gt;<a class="code" href="a00296.html#a4161a1874921a7854bdd3d7a9f930729">split1</a> == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">    priority = 0;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a> == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    priority = (seam-&gt;<a class="code" href="a00296.html#a73a33b08d22988d595cd18da31235dc4">priority</a> +</div>
<div class="line">      <a class="code" href="a00401.html#a409c4fc630ecbc283e3a6aa1b08debf7">full_split_priority</a> (seam-&gt;<a class="code" href="a00296.html#a4161a1874921a7854bdd3d7a9f930729">split1</a>, xmin, xmax));</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (seam-&gt;<a class="code" href="a00296.html#ad3878ea3c362e24fcdd063ed81f9ac5a">split3</a> == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    <a class="code" href="a00542.html#ac76a475de30b432aa78727bd6b93a729">split_outline</a> (seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>-&gt;<a class="code" href="a00314.html#a2451170e7785bb495c0dd3d96fc71167">point1</a>, seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>);</div>
<div class="line">    priority = (seam-&gt;<a class="code" href="a00296.html#a73a33b08d22988d595cd18da31235dc4">priority</a> +</div>
<div class="line">      <a class="code" href="a00401.html#a409c4fc630ecbc283e3a6aa1b08debf7">full_split_priority</a> (seam-&gt;<a class="code" href="a00296.html#a4161a1874921a7854bdd3d7a9f930729">split1</a>, xmin, xmax));</div>
<div class="line">    <a class="code" href="a00542.html#a3c66a2f04c0878b8982e04d5a3d29e04">unsplit_outlines</a> (seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>-&gt;<a class="code" href="a00314.html#a2451170e7785bb495c0dd3d96fc71167">point1</a>, seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    <a class="code" href="a00542.html#ac76a475de30b432aa78727bd6b93a729">split_outline</a> (seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>-&gt;<a class="code" href="a00314.html#a2451170e7785bb495c0dd3d96fc71167">point1</a>, seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>);</div>
<div class="line">    <a class="code" href="a00542.html#ac76a475de30b432aa78727bd6b93a729">split_outline</a> (seam-&gt;<a class="code" href="a00296.html#ad3878ea3c362e24fcdd063ed81f9ac5a">split3</a>-&gt;<a class="code" href="a00314.html#a2451170e7785bb495c0dd3d96fc71167">point1</a>, seam-&gt;<a class="code" href="a00296.html#ad3878ea3c362e24fcdd063ed81f9ac5a">split3</a>-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>);</div>
<div class="line">    priority = (seam-&gt;<a class="code" href="a00296.html#a73a33b08d22988d595cd18da31235dc4">priority</a> +</div>
<div class="line">      <a class="code" href="a00401.html#a409c4fc630ecbc283e3a6aa1b08debf7">full_split_priority</a> (seam-&gt;<a class="code" href="a00296.html#a4161a1874921a7854bdd3d7a9f930729">split1</a>, xmin, xmax));</div>
<div class="line">    <a class="code" href="a00542.html#a3c66a2f04c0878b8982e04d5a3d29e04">unsplit_outlines</a> (seam-&gt;<a class="code" href="a00296.html#ad3878ea3c362e24fcdd063ed81f9ac5a">split3</a>-&gt;<a class="code" href="a00314.html#a2451170e7785bb495c0dd3d96fc71167">point1</a>, seam-&gt;<a class="code" href="a00296.html#ad3878ea3c362e24fcdd063ed81f9ac5a">split3</a>-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>);</div>
<div class="line">    <a class="code" href="a00542.html#a3c66a2f04c0878b8982e04d5a3d29e04">unsplit_outlines</a> (seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>-&gt;<a class="code" href="a00314.html#a2451170e7785bb495c0dd3d96fc71167">point1</a>, seam-&gt;<a class="code" href="a00296.html#a75d831b3365583331780636979fbb321">split2</a>-&gt;<a class="code" href="a00314.html#adb5ec4152eddde15c1996133177a9a58">point2</a>);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> (priority);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa5fd4729ef162689b68d20f9bdeb0c3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> tesseract::Wordrec::seamcut_priority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00541.html#adee8715ab68f92e7f3cfa8de202d5a30">SEAMS</a>&#160;</td>
          <td class="paramname"><em>seams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00316.html">STATE</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_joints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00963_source.html#l00142">142</a> of file <a class="el" href="a00963_source.html">heuristic.cpp</a>.</p>
<div class="fragment"><div class="line">                                                  {</div>
<div class="line">  <span class="keywordtype">int</span> x;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mask = (<a class="code" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a> &gt; 32) ? (1 &lt;&lt; (<a class="code" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a> - 1 - 32))</div>
<div class="line">                                        : (1 &lt;&lt; (<a class="code" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a> - 1));</div>
<div class="line">  <span class="keywordtype">float</span> seam_cost = 0.0f;</div>
<div class="line">  <span class="keywordflow">for</span> (x = <a class="code" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a> - 1; x &gt;= 0; x--) {</div>
<div class="line">    <span class="keywordtype">int</span> i = <a class="code" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a> - 1 - x;</div>
<div class="line">    <a class="code" href="a00577.html#afc8530b39ebe0b6df1e19159d2508d15">uinT32</a> value = (x &lt; 32) ? state-&gt;<a class="code" href="a00316.html#aa75ceb95132aecb5a8ae1e594a19733a">part2</a> : state-&gt;<a class="code" href="a00316.html#a2099a72d99d2ba5f828ad8538d328f4b">part1</a>;</div>
<div class="line">    <span class="keywordtype">bool</span> state_on = value &amp; mask;</div>
<div class="line">    if (state_on) {</div>
<div class="line">      <a class="code" href="a00296.html">SEAM</a>* seam = (<a class="code" href="a00296.html">SEAM</a> *) <a class="code" href="a00798.html#a290cd2ea119e279ad48b57fbe5ca1aad">array_value</a>(seams, i);</div>
<div class="line">      seam_cost += seam-&gt;<a class="code" href="a00296.html#a73a33b08d22988d595cd18da31235dc4">priority</a>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (mask == 1)</div>
<div class="line">      mask = 1 &lt;&lt; 31;</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      mask &gt;&gt;= 1;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a2d79e213378c782ac3de5e92ae2ee41c">segment_adjust_debug</a> &gt; 2)</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;seam_cost: %f\n&quot;</span>, seam_cost);</div>
<div class="line">  <span class="keywordflow">return</span> seam_cost;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aea3997058b7c1683957d275d17bc20d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::SegSearch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00088.html">CHUNKS_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunks_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>best_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>best_char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00395.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>raw_choice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00316.html">STATE</a> *&#160;</td>
          <td class="paramname"><em>output_best_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00050.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00982_source.html#l00035">35</a> of file <a class="el" href="a00982_source.html">segsearch.cpp</a>.</p>
<div class="fragment"><div class="line">                                                     {</div>
<div class="line">  <span class="keywordtype">int</span> row, col = 0;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a30bd78320448ef425666157d2ff672db">segsearch_debug_level</a> &gt; 0) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Starting SegSearch on ratings matrix:\n&quot;</span>);</div>
<div class="line">    chunks_record-&gt;<a class="code" href="a00088.html#a0b28a4ba4a1c931ed994847db83e0ef5">ratings</a>-&gt;<a class="code" href="a00228.html#ae0f2489acb8b15666cb306f82ad2c6de">print</a>(<a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset());</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Start with a fresh best_choice since rating adjustments</span></div>
<div class="line">  <span class="comment">// used by the chopper and the new segmentation search are not compatible.</span></div>
<div class="line">  best_choice-&gt;<a class="code" href="a00395.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(<a class="code" href="a00395.html#aa831918b1d217afd4dc547033f642990">WERD_CHOICE::kBadRating</a>);</div>
<div class="line">  <span class="comment">// TODO(antonova): Due to the fact that we currently do not re-start the</span></div>
<div class="line">  <span class="comment">// segmentation search from the best choice the chopper found, sometimes</span></div>
<div class="line">  <span class="comment">// the the segmentation search does not find the best path (that chopper</span></div>
<div class="line">  <span class="comment">// did discover) and does not have a chance to adapt to it. As soon as we</span></div>
<div class="line">  <span class="comment">// transition to using new-style language model penalties in the chopper</span></div>
<div class="line">  <span class="comment">// this issue will be resolved. But for how we are forced clear the</span></div>
<div class="line">  <span class="comment">// accumulator choices.</span></div>
<div class="line">  <span class="comment">//</span></div>
<div class="line">  <span class="comment">// Clear best choice accumulator (that is used for adaption), so that</span></div>
<div class="line">  <span class="comment">// choices adjusted by chopper do not interfere with the results from the</span></div>
<div class="line">  <span class="comment">// segmentation search.</span></div>
<div class="line">  <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a4fc10a65be799fa59c39cae57379dc17" title="Clears best_choices_ list accumulated by the stopper.">ClearBestChoiceAccum</a>();</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00228.html">MATRIX</a> *ratings = chunks_record-&gt;<a class="code" href="a00088.html#a0b28a4ba4a1c931ed994847db83e0ef5">ratings</a>;</div>
<div class="line">  <span class="comment">// Priority queue containing pain points generated by the language model</span></div>
<div class="line">  <span class="comment">// The priority is set by the language model components, adjustments like</span></div>
<div class="line">  <span class="comment">// seam cost and width priority are factored into the priority.</span></div>
<div class="line">  <a class="code" href="a00180.html">HEAP</a> *pain_points = <a class="code" href="a00791.html#a101bee15b825fee78f29c8679cc00595">MakeHeap</a>(<a class="code" href="a00401.html#a0a0cfc9fb11d9ecf6961d0cc655f9070">segsearch_max_pain_points</a>);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// best_path_by_column records the lowest cost path found so far for each</span></div>
<div class="line">  <span class="comment">// column of the chunks_record-&gt;ratings matrix over all the rows.</span></div>
<div class="line">  BestPathByColumn *best_path_by_column =</div>
<div class="line">    <span class="keyword">new</span> BestPathByColumn[ratings-&gt;<a class="code" href="a00174.html#acaa00626e03fae7b31f5f08f7f48005b">dimension</a>()];</div>
<div class="line">  <span class="keywordflow">for</span> (col = 0; col &lt; ratings-&gt;<a class="code" href="a00174.html#acaa00626e03fae7b31f5f08f7f48005b">dimension</a>(); ++col) {</div>
<div class="line">    best_path_by_column[col].avg_cost = <a class="code" href="a00395.html#aa831918b1d217afd4dc547033f642990">WERD_CHOICE::kBadRating</a>;</div>
<div class="line">    best_path_by_column[col].best_vse = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Compute scaling factor that will help us recover blob outline length</span></div>
<div class="line">  <span class="comment">// from classifier rating and certainty for the blob.</span></div>
<div class="line">  <span class="keywordtype">float</span> rating_cert_scale = -1.0 * <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a054d69744519c2c7a89e7b1159347385">certainty_scale</a> / <a class="code" href="a00091.html#ab2ed08d2587e66a131f7fcd229102566">rating_scale</a>;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a>-&gt;<a class="code" href="a00214.html#ae34907eacffd1bf06ec639cc5cd8fa53">InitForWord</a>(<a class="code" href="a00401.html#a143608f482c6c0c4f312740e6a5f5fd9">prev_word_best_choice_</a>,</div>
<div class="line">                               <a class="code" href="a00401.html#a613a7dc22729f2cb084bc7093a0a4088">assume_fixed_pitch_char_segment</a>,</div>
<div class="line">                               best_choice-&gt;<a class="code" href="a00395.html#a1b25ef2b44d21a7204483a7ca804f293">certainty</a>(),</div>
<div class="line">                               <a class="code" href="a00401.html#a8fa843163c3e8785a957e422b9256d35">segsearch_max_char_wh_ratio</a>, rating_cert_scale,</div>
<div class="line">                               pain_points, chunks_record, blamer_bundle,</div>
<div class="line">                               <a class="code" href="a00401.html#a76e95cb7cbfe636ab00ec46150b5524d">wordrec_debug_blamer</a>);</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00230.html">MATRIX_COORD</a> *pain_point;</div>
<div class="line">  <span class="keywordtype">float</span> pain_point_priority;</div>
<div class="line">  BestChoiceBundle best_choice_bundle(</div>
<div class="line">      output_best_state, best_choice, raw_choice, best_char_choices);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// pending[i] stores a list of the parent/child pair of BLOB_CHOICE_LISTs,</span></div>
<div class="line">  <span class="comment">// where i is the column of the child. Initially all the classified entries</span></div>
<div class="line">  <span class="comment">// in the ratings matrix from column 0 (with parent NULL) are inserted into</span></div>
<div class="line">  <span class="comment">// pending[0]. As the language model state is updated, new child/parent</span></div>
<div class="line">  <span class="comment">// pairs are inserted into the lists. Next, the entries in pending[1] are</span></div>
<div class="line">  <span class="comment">// considered, and so on. It is important that during the update the</span></div>
<div class="line">  <span class="comment">// children are considered in the non-decreasing order of their column, since</span></div>
<div class="line">  <span class="comment">// this guarantees that all the parents would be up to date before an update</span></div>
<div class="line">  <span class="comment">// of a child is done.</span></div>
<div class="line">  SEG_SEARCH_PENDING_LIST *pending =</div>
<div class="line">    <span class="keyword">new</span> SEG_SEARCH_PENDING_LIST[ratings-&gt;<a class="code" href="a00174.html#acaa00626e03fae7b31f5f08f7f48005b">dimension</a>()];</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Search for the ratings matrix for the initial best path.</span></div>
<div class="line">  <span class="keywordflow">for</span> (row = 0; row &lt; ratings-&gt;<a class="code" href="a00174.html#acaa00626e03fae7b31f5f08f7f48005b">dimension</a>(); ++row) {</div>
<div class="line">    <span class="keywordflow">if</span> (ratings-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(0, row) != <a class="code" href="a00502.html#a5c21a86b19e78482e6c7384c47c2457d">NOT_CLASSIFIED</a>) {</div>
<div class="line">      pending[0].add_sorted(</div>
<div class="line">          <a class="code" href="a00302.html#a5b59162836f4c12d641f19298d96daba">SEG_SEARCH_PENDING::compare</a>, <span class="keyword">true</span>,</div>
<div class="line">          <span class="keyword">new</span> <a class="code" href="a00302.html">SEG_SEARCH_PENDING</a>(row, <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="a00214.html#aa6d25aa709ba6ef4751d481f810e64f7">LanguageModel::kAllChangedFlag</a>));</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="a00401.html#a6bac0a6462577e2e1057057f03901a33">UpdateSegSearchNodes</a>(0, &amp;pending, &amp;best_path_by_column, chunks_record,</div>
<div class="line">                       pain_points, &amp;best_choice_bundle, blamer_bundle);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Keep trying to find a better path by fixing the &quot;pain points&quot;.</span></div>
<div class="line">  <span class="keywordtype">int</span> num_futile_classifications = 0;</div>
<div class="line">  <a class="code" href="a00319.html">STRING</a> blamer_debug;</div>
<div class="line">  <span class="keywordflow">while</span> (!<a class="code" href="a00401.html#a904762fe91430c5094ccecb7e690e0e5">SegSearchDone</a>(num_futile_classifications) ||</div>
<div class="line">         (blamer_bundle != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp;</div>
<div class="line">          blamer_bundle-&gt;segsearch_is_looking_for_blame)) {</div>
<div class="line">    <span class="comment">// Get the next valid &quot;pain point&quot;.</span></div>
<div class="line">    <span class="keywordtype">int</span> <a class="code" href="a00793.html#a4a16ea0d766f4b3bc697142d5303a62c">pop</a>;</div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">      pop = <a class="code" href="a00791.html#a133a020354d84309c10dfea471f213f4">HeapPop</a>(pain_points, &amp;pain_point_priority, &amp;pain_point);</div>
<div class="line">      <span class="keywordflow">if</span> (pop == <a class="code" href="a00792.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>) <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">if</span> (pain_point-&gt;<a class="code" href="a00230.html#a45cc297774da83d0ad83ffcf4f82ccd5">Valid</a>(*ratings) &amp;&amp;</div>
<div class="line">        ratings-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(pain_point-&gt;<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a>, pain_point-&gt;<a class="code" href="a00230.html#abde52ca4976ce8acc4e70215df074ff5">row</a>) == <a class="code" href="a00502.html#a5c21a86b19e78482e6c7384c47c2457d">NOT_CLASSIFIED</a>) {</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keyword">delete</span> pain_point;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (pop == <a class="code" href="a00792.html#a2b7cf2a3641be7b89138615764d60ba3">EMPTY</a>) {</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a30bd78320448ef425666157d2ff672db">segsearch_debug_level</a> &gt; 0) <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Pain points queue is empty\n&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="a00401.html#ab9f95be1d701222b62b7f8920f5cb9e5">ProcessSegSearchPainPoint</a>(pain_point_priority, *pain_point,</div>
<div class="line">                              best_choice_bundle.best_choice, &amp;pending,</div>
<div class="line">                              chunks_record, pain_points, blamer_bundle);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="a00401.html#a6bac0a6462577e2e1057057f03901a33">UpdateSegSearchNodes</a>(pain_point-&gt;<a class="code" href="a00230.html#a22a122ba151628fafb64b2957c4690fd">col</a>, &amp;pending, &amp;best_path_by_column,</div>
<div class="line">                         chunks_record, pain_points, &amp;best_choice_bundle,</div>
<div class="line">                         blamer_bundle);</div>
<div class="line">    <span class="keywordflow">if</span> (!best_choice_bundle.updated) ++num_futile_classifications;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a30bd78320448ef425666157d2ff672db">segsearch_debug_level</a> &gt; 0) {</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;num_futile_classifications %d\n&quot;</span>, num_futile_classifications);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    best_choice_bundle.updated = <span class="keyword">false</span>;  <span class="comment">// reset updated</span></div>
<div class="line">    <span class="keyword">delete</span> pain_point;  <span class="comment">// done using this pain point</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// See if it&#39;s time to terminate SegSearch or time for starting a guided</span></div>
<div class="line">    <span class="comment">// search for the true path to find the blame for the incorrect best_choice.</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a904762fe91430c5094ccecb7e690e0e5">SegSearchDone</a>(num_futile_classifications) &amp;&amp; blamer_bundle != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp;</div>
<div class="line">        blamer_bundle-&gt;incorrect_result_reason == <a class="code" href="a00516.html#a8faf52e106c04bfdc9898ffa90b821e1a4f5ff200b61e6226eb6d74aec188e769">IRR_CORRECT</a> &amp;&amp;</div>
<div class="line">        !blamer_bundle-&gt;segsearch_is_looking_for_blame &amp;&amp;</div>
<div class="line">        blamer_bundle-&gt;truth_has_char_boxes &amp;&amp;</div>
<div class="line">        !<a class="code" href="a00401.html#ac05db9a605bcb460b6b1abdaf03ee6c4">ChoiceIsCorrect</a>(<a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset(),</div>
<div class="line">                         best_choice, blamer_bundle-&gt;truth_text)) {</div>
<div class="line">      <a class="code" href="a00401.html#a8580282cf87b0e054ac1410cf4ffa0e2">InitBlamerForSegSearch</a>(best_choice_bundle.best_choice, chunks_record,</div>
<div class="line">                             pain_points, blamer_bundle, &amp;blamer_debug);</div>
<div class="line">    }</div>
<div class="line">  }  <span class="comment">// end while loop exploring alternative paths</span></div>
<div class="line">  <a class="code" href="a00401.html#abbb02091c23e7be9370055704526102f">FinishBlamerForSegSearch</a>(best_choice_bundle.best_choice,</div>
<div class="line">                           blamer_bundle, &amp;blamer_debug);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a30bd78320448ef425666157d2ff672db">segsearch_debug_level</a> &gt; 0) {</div>
<div class="line">    <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Done with SegSearch (AcceptableChoiceFound: %d)\n&quot;</span>,</div>
<div class="line">            <a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a>-&gt;<a class="code" href="a00214.html#a3a6f034012a45448a018bd4042138f74">AcceptableChoiceFound</a>());</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Clean up.</span></div>
<div class="line">  <a class="code" href="a00791.html#a66bcae55ce37fec5afd5fdeb5a879d37">FreeHeapData</a>(pain_points, <a class="code" href="a00230.html#a6c5cccabb9fc00b03be1fc46151090df">MATRIX_COORD::Delete</a>);</div>
<div class="line">  <span class="keyword">delete</span>[] best_path_by_column;</div>
<div class="line">  <span class="keyword">delete</span>[] pending;</div>
<div class="line">  <span class="keywordflow">for</span> (row = 0; row &lt; ratings-&gt;<a class="code" href="a00174.html#acaa00626e03fae7b31f5f08f7f48005b">dimension</a>(); ++row) {</div>
<div class="line">    <span class="keywordflow">for</span> (col = 0; col &lt;= row; ++col) {</div>
<div class="line">      BLOB_CHOICE_LIST *rating = ratings-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(col, row);</div>
<div class="line">      <span class="keywordflow">if</span> (rating != <a class="code" href="a00502.html#a5c21a86b19e78482e6c7384c47c2457d">NOT_CLASSIFIED</a>) <a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a>-&gt;<a class="code" href="a00214.html#a5d438b4a1df7926373f81851ad8ee0de">DeleteState</a>(rating);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a904762fe91430c5094ccecb7e690e0e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::SegSearchDone </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_futile_classifications</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00987_source.html#l00516">516</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>
<div class="fragment"><div class="line">                                                            {</div>
<div class="line">    <span class="keywordflow">return</span> (<a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a>-&gt;<a class="code" href="a00214.html#a3a6f034012a45448a018bd4042138f74">AcceptableChoiceFound</a>() ||</div>
<div class="line">            num_futile_classifications &gt;=</div>
<div class="line">            <a class="code" href="a00401.html#a7d7641f6361f78664fb541f5ce33fe1b">segsearch_max_futile_classifications</a>);</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8fd3e86b711ba9d54c7eb500eb99c1c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> tesseract::Wordrec::select_blob_to_split </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rating_ceiling</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>split_next_to_fragment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00953_source.html#l00801">801</a> of file <a class="el" href="a00953_source.html">chopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                 {</div>
<div class="line">  BLOB_CHOICE_IT blob_choice_it;</div>
<div class="line">  <a class="code" href="a00052.html">BLOB_CHOICE</a> *blob_choice;</div>
<div class="line">  BLOB_CHOICE_IT temp_it;</div>
<div class="line">  <span class="keywordtype">int</span> x;</div>
<div class="line">  <span class="keywordtype">float</span> worst = -<a class="code" href="a00577.html#a9adcee815220ec9db98062213806ed04">MAX_FLOAT32</a>;</div>
<div class="line">  <span class="keywordtype">int</span> worst_index = -1;</div>
<div class="line">  <span class="keywordtype">float</span> worst_near_fragment = -<a class="code" href="a00577.html#a9adcee815220ec9db98062213806ed04">MAX_FLOAT32</a>;</div>
<div class="line">  <span class="keywordtype">int</span> worst_index_near_fragment = -1;</div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="a00074.html">CHAR_FRAGMENT</a> **fragments = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a>) {</div>
<div class="line">    <span class="keywordflow">if</span> (rating_ceiling &lt; <a class="code" href="a00577.html#a9adcee815220ec9db98062213806ed04">MAX_FLOAT32</a>)</div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;rating_ceiling = %8.4f\n&quot;</span>, rating_ceiling);</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;rating_ceiling = No Limit\n&quot;</span>);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (split_next_to_fragment &amp;&amp; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() &gt; 0) {</div>
<div class="line">    fragments = <span class="keyword">new</span> <span class="keyword">const</span> <a class="code" href="a00074.html">CHAR_FRAGMENT</a> *[char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>()];</div>
<div class="line">    <span class="keywordflow">if</span> (char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(0) != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">      temp_it.set_to_list(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(0));</div>
<div class="line">      fragments[0] = <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(</div>
<div class="line">          temp_it.data()-&gt;unichar_id());</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      fragments[0] = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (x = 0; x &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++x) {</div>
<div class="line">    <span class="keywordflow">if</span> (char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x) == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">      <span class="keywordflow">if</span> (fragments != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">        <span class="keyword">delete</span>[] fragments;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">return</span> x;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      blob_choice_it.set_to_list(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x));</div>
<div class="line">      blob_choice = blob_choice_it.data();</div>
<div class="line">      <span class="comment">// Populate fragments for the following position.</span></div>
<div class="line">      <span class="keywordflow">if</span> (split_next_to_fragment &amp;&amp; x+1 &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>()) {</div>
<div class="line">        <span class="keywordflow">if</span> (char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x+1) != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">          temp_it.set_to_list(char_choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(x+1));</div>
<div class="line">          fragments[x+1] = <a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().<a class="code" href="a00129.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().<a class="code" href="a00387.html#af08440927e3b87f99bd3a3fbd8e126dc">get_fragment</a>(</div>
<div class="line">              temp_it.data()-&gt;unichar_id());</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">          fragments[x+1] = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">if</span> (blob_choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>() &lt; rating_ceiling &amp;&amp;</div>
<div class="line">          blob_choice-&gt;<a class="code" href="a00052.html#af53d45b718c562ea7209b583c77ac14e">certainty</a>() &lt; <a class="code" href="a00401.html#a57ae3e0529a624fd3677f96d5b43fcc8">tessedit_certainty_threshold</a>) {</div>
<div class="line">        <span class="comment">// Update worst and worst_index.</span></div>
<div class="line">        <span class="keywordflow">if</span> (blob_choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>() &gt; worst) {</div>
<div class="line">          worst_index = x;</div>
<div class="line">          worst = blob_choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (split_next_to_fragment) {</div>
<div class="line">          <span class="comment">// Update worst_near_fragment and worst_index_near_fragment.</span></div>
<div class="line">          <span class="keywordtype">bool</span> expand_following_fragment =</div>
<div class="line">            (x + 1 &lt; char_choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() &amp;&amp;</div>
<div class="line">             fragments[x+1] != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; !fragments[x+1]-&gt;<a class="code" href="a00074.html#a42707cfcbf1e9a38ec0333d3202f8d80">is_beginning</a>());</div>
<div class="line">          <span class="keywordtype">bool</span> expand_preceding_fragment =</div>
<div class="line">            (x &gt; 0 &amp;&amp; fragments[x-1] != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; !fragments[x-1]-&gt;<a class="code" href="a00074.html#af222b3b2c71de6199f75e3a7a64aa660">is_ending</a>());</div>
<div class="line">          <span class="keywordflow">if</span> ((expand_following_fragment || expand_preceding_fragment) &amp;&amp;</div>
<div class="line">              blob_choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>() &gt; worst_near_fragment) {</div>
<div class="line">            worst_index_near_fragment = x;</div>
<div class="line">            worst_near_fragment = blob_choice-&gt;<a class="code" href="a00052.html#a7fbd2d505bf5b55beee424096fb1e9bc">rating</a>();</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a>) {</div>
<div class="line">              <a class="code" href="a00773.html#a21679e7fec2d69db23107348fa13c153">cprintf</a>(<span class="stringliteral">&quot;worst_index_near_fragment=%d&quot;</span></div>
<div class="line">                      <span class="stringliteral">&quot; expand_following_fragment=%d&quot;</span></div>
<div class="line">                      <span class="stringliteral">&quot; expand_preceding_fragment=%d\n&quot;</span>,</div>
<div class="line">                      worst_index_near_fragment,</div>
<div class="line">                      expand_following_fragment,</div>
<div class="line">                      expand_preceding_fragment);</div>
<div class="line">            }</div>
<div class="line">          }</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (fragments != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    <span class="keyword">delete</span>[] fragments;</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// TODO(daria): maybe a threshold of badness for</span></div>
<div class="line">  <span class="comment">// worst_near_fragment would be useful.</span></div>
<div class="line">  <span class="keywordflow">return</span> worst_index_near_fragment != -1 ?</div>
<div class="line">    worst_index_near_fragment : worst_index;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a457f1ea04bad00c6e40883869700defb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> tesseract::Wordrec::select_blob_to_split_from_fixpt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *&#160;</td>
          <td class="paramname"><em>fixpt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00953_source.html#l00898">898</a> of file <a class="el" href="a00953_source.html">chopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                             {</div>
<div class="line">  <span class="keywordflow">if</span> (!fixpt)</div>
<div class="line">    <span class="keywordflow">return</span> -1;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; fixpt-&gt;<a class="code" href="a00175.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>(); i++) {</div>
<div class="line">    <span class="keywordflow">if</span> ((*fixpt)[i].begin == (*fixpt)[i].end &amp;&amp;</div>
<div class="line">        (*fixpt)[i].dangerous &amp;&amp;</div>
<div class="line">        (*fixpt)[i].correct_is_ngram) {</div>
<div class="line">      <span class="keywordflow">return</span> (*fixpt)[i].begin;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> -1;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2ed3fab8407177af31d446a794617149"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::set_chopper_blame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00396.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00953_source.html#l00917">917</a> of file <a class="el" href="a00953_source.html">chopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                              {</div>
<div class="line">  <a class="code" href="a00050.html">BlamerBundle</a> *blamer_bundle = word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>;</div>
<div class="line">  assert(blamer_bundle != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line">  <span class="keywordflow">if</span> (blamer_bundle-&gt;<a class="code" href="a00050.html#a4399018ec9ce9b68051566d2be9aaaba">NoTruth</a>() || !(blamer_bundle-&gt;<a class="code" href="a00050.html#ad7dc9029fe6de5f5554046773cb15854">truth_has_char_boxes</a>) ||</div>
<div class="line">      word-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a> == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line">  <a class="code" href="a00319.html">STRING</a> debug;</div>
<div class="line">  <span class="keywordtype">bool</span> missing_chop = <span class="keyword">false</span>;</div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a> * curr_blob = word-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>;</div>
<div class="line">  <span class="keywordtype">int</span> b = 0;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> truth_x;</div>
<div class="line">  <span class="keywordflow">while</span> (b &lt; blamer_bundle-&gt;truth_word.length() &amp;&amp; curr_blob != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line">    truth_x = blamer_bundle-&gt;<a class="code" href="a00050.html#a0fac62f7f13e3e684c5ef433bfcf3158">norm_truth_word</a>.<a class="code" href="a00062.html#a022cfe52a644e9e800595f014b1fbcf5">BlobBox</a>(b).<a class="code" href="a00347.html#a8703081c1a1c26db3a4dddaca1028e34">right</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (curr_blob-&gt;<a class="code" href="a00346.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="a00347.html#a8703081c1a1c26db3a4dddaca1028e34">right</a>() &lt;</div>
<div class="line">        (truth_x - blamer_bundle-&gt;<a class="code" href="a00050.html#a4df5a4ea5a4ba6f973b3c987c95a8a39">norm_box_tolerance</a>)) {</div>
<div class="line">      curr_blob = curr_blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>;</div>
<div class="line">      <span class="keywordflow">continue</span>;  <span class="comment">// encountered an extra chop, keep looking</span></div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (curr_blob-&gt;<a class="code" href="a00346.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="a00347.html#a8703081c1a1c26db3a4dddaca1028e34">right</a>() &gt;</div>
<div class="line">                (truth_x + blamer_bundle-&gt;<a class="code" href="a00050.html#a4df5a4ea5a4ba6f973b3c987c95a8a39">norm_box_tolerance</a>)) {</div>
<div class="line">      missing_chop = <span class="keyword">true</span>;</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      curr_blob = curr_blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>;</div>
<div class="line">      ++b;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (missing_chop || b &lt; blamer_bundle-&gt;norm_truth_word.length()) {</div>
<div class="line">    <a class="code" href="a00319.html">STRING</a> debug;</div>
<div class="line">    <span class="keywordtype">char</span> debug_buffer[256];</div>
<div class="line">    <span class="keywordflow">if</span> (missing_chop) {</div>
<div class="line">      sprintf(debug_buffer, <span class="stringliteral">&quot;Detected missing chop (tolerance=%d) at &quot;</span>,</div>
<div class="line">              blamer_bundle-&gt;<a class="code" href="a00050.html#a4df5a4ea5a4ba6f973b3c987c95a8a39">norm_box_tolerance</a>);</div>
<div class="line">      debug += debug_buffer;</div>
<div class="line">      curr_blob-&gt;<a class="code" href="a00346.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>().<a class="code" href="a00347.html#a0344effa1c2a22bddf8005fe579cf601">append_debug</a>(&amp;debug);</div>
<div class="line">      debug.<a class="code" href="a00319.html#a779cd637dd42d58d5500a3a657077e84">add_str_int</a>(<span class="stringliteral">&quot;\nNo chop for truth at x=&quot;</span>, truth_x);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      debug.<a class="code" href="a00319.html#a779cd637dd42d58d5500a3a657077e84">add_str_int</a>(<span class="stringliteral">&quot;Missing chops for last &quot;</span>,</div>
<div class="line">                        blamer_bundle-&gt;<a class="code" href="a00050.html#a0fac62f7f13e3e684c5ef433bfcf3158">norm_truth_word</a>.<a class="code" href="a00062.html#afe001fe8fb7f2d3725b2ac2f542e9878">length</a>()-b);</div>
<div class="line">      debug += <span class="stringliteral">&quot; truth box(es)&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    debug += <span class="stringliteral">&quot;\nMaximally chopped word boxes:\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">for</span> (curr_blob = word-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>; curr_blob != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">        curr_blob = curr_blob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>) {</div>
<div class="line">      <span class="keyword">const</span> <a class="code" href="a00347.html">TBOX</a> &amp;tbox = curr_blob-&gt;<a class="code" href="a00346.html#a8f1f8f110170fe12cf8147d504cd0ea2">bounding_box</a>();</div>
<div class="line">      sprintf(debug_buffer, <span class="stringliteral">&quot;(%d,%d)-&gt;(%d,%d)\n&quot;</span>,</div>
<div class="line">              tbox.<a class="code" href="a00347.html#a724fabf566586b663577dfa944ffbc61">left</a>(), tbox.<a class="code" href="a00347.html#a4451d237f1cd18c4982d63fe36a11fc3">bottom</a>(), tbox.<a class="code" href="a00347.html#a8703081c1a1c26db3a4dddaca1028e34">right</a>(), tbox.<a class="code" href="a00347.html#adf92e9fdac1bdf11c10d1c4d1178791a">top</a>());</div>
<div class="line">      debug += debug_buffer;</div>
<div class="line">    }</div>
<div class="line">    debug += <span class="stringliteral">&quot;Truth  bounding  boxes:\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">for</span> (b = 0; b &lt; blamer_bundle-&gt;<a class="code" href="a00050.html#a0fac62f7f13e3e684c5ef433bfcf3158">norm_truth_word</a>.<a class="code" href="a00062.html#afe001fe8fb7f2d3725b2ac2f542e9878">length</a>(); ++b) {</div>
<div class="line">      <span class="keyword">const</span> <a class="code" href="a00347.html">TBOX</a> &amp;tbox = blamer_bundle-&gt;<a class="code" href="a00050.html#a0fac62f7f13e3e684c5ef433bfcf3158">norm_truth_word</a>.<a class="code" href="a00062.html#a022cfe52a644e9e800595f014b1fbcf5">BlobBox</a>(b);</div>
<div class="line">      sprintf(debug_buffer, <span class="stringliteral">&quot;(%d,%d)-&gt;(%d,%d)\n&quot;</span>,</div>
<div class="line">              tbox.<a class="code" href="a00347.html#a724fabf566586b663577dfa944ffbc61">left</a>(), tbox.<a class="code" href="a00347.html#a4451d237f1cd18c4982d63fe36a11fc3">bottom</a>(), tbox.<a class="code" href="a00347.html#a8703081c1a1c26db3a4dddaca1028e34">right</a>(), tbox.<a class="code" href="a00347.html#adf92e9fdac1bdf11c10d1c4d1178791a">top</a>());</div>
<div class="line">      debug += debug_buffer;</div>
<div class="line">    }</div>
<div class="line">    blamer_bundle-&gt;<a class="code" href="a00050.html#a51b9a55eb8acc439f5ade8e97c92da8f">SetBlame</a>(<a class="code" href="a00516.html#a8faf52e106c04bfdc9898ffa90b821e1a4c27b1a4f36ac4410ec500e4c7a1561c">IRR_CHOPPER</a>, debug, word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>,</div>
<div class="line">                            <a class="code" href="a00401.html#a76e95cb7cbfe636ab00ec46150b5524d">wordrec_debug_blamer</a>);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a764fd79db0c80638187f4751626bb12e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::set_outline_bounds </td>
          <td>(</td>
          <td class="paramtype">register <a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>point1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">register <a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>point2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00962.html#a45f650fd29e2e9bb1c3480d126a955e9">BOUNDS_RECT</a>&#160;</td>
          <td class="paramname"><em>rect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00961_source.html#l00213">213</a> of file <a class="el" href="a00961_source.html">gradechop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                   {</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00135.html">EDGEPT</a> *this_point;</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> x_min;</div>
<div class="line">  <span class="keyword">register</span> <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> x_max;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00961.html#ac5cb532629b1cbd1fd23f2ea9a286280">find_bounds_loop</a>(point1, point2, x_min, x_max);</div>
<div class="line"></div>
<div class="line">  rect[0] = x_min;</div>
<div class="line">  rect[1] = x_max;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00961.html#ac5cb532629b1cbd1fd23f2ea9a286280">find_bounds_loop</a>(point2, point1, x_min, x_max);</div>
<div class="line"></div>
<div class="line">  rect[2] = x_min;</div>
<div class="line">  rect[3] = x_max;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a15740f1d66aa061522c69b948e901e70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::set_pass1 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00983_source.html#l00093">93</a> of file <a class="el" href="a00983_source.html">tface.cpp</a>.</p>
<div class="fragment"><div class="line">                        {</div>
<div class="line">  <a class="code" href="a00401.html#ac696a875283d1ce3e888e1b63fd52d9f">chop_ok_split</a>.set_value(70.0);</div>
<div class="line">  <a class="code" href="a00401.html#a57c3675d967208936be65a14e5b64c7d">wordrec_num_seg_states</a>.set_value(15);</div>
<div class="line">  <a class="code" href="a00091.html#ae66827073cdeea6a59dd16fd7cf5d297">SettupPass1</a>();</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a883211e914cb31146b8dd9ace419c843"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::set_pass2 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00983_source.html#l00105">105</a> of file <a class="el" href="a00983_source.html">tface.cpp</a>.</p>
<div class="fragment"><div class="line">                        {</div>
<div class="line">  <a class="code" href="a00401.html#ac696a875283d1ce3e888e1b63fd52d9f">chop_ok_split</a>.set_value(<a class="code" href="a00401.html#a671c4b102b976c600adc3bf60ee44323">pass2_ok_split</a>);</div>
<div class="line">  <a class="code" href="a00401.html#a57c3675d967208936be65a14e5b64c7d">wordrec_num_seg_states</a>.set_value(<a class="code" href="a00401.html#ade3cecfe9b377045db0abe2d06762c1e">pass2_seg_states</a>);</div>
<div class="line">  <a class="code" href="a00091.html#a5ad207ab75e8a69c35c225313268788b">SettupPass2</a>();</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a20332a4dd1d38ef7c6bf04d8dd4a98b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00397.html">WIDTH_RECORD</a> * tesseract::Wordrec::state_char_widths </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00397.html">WIDTH_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunk_widths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00316.html">STATE</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_joints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00963_source.html#l00058">58</a> of file <a class="el" href="a00963_source.html">heuristic.cpp</a>.</p>
<div class="fragment"><div class="line">                                                         {</div>
<div class="line">  <a class="code" href="a00810.html#afeb312869cc56f5a20c6f3dcb65644cc">SEARCH_STATE</a> chunks = <a class="code" href="a00809.html#a65830cfe21c29feec92f03627b51ff65">bin_to_chunks</a>(state, <a class="code" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a>);</div>
<div class="line">  <span class="keywordtype">int</span> num_chars = chunks[0] + 1;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// allocate and store (n+1,w0,g0,w1,g1...,wn) in int[2*(n+1)] as a</span></div>
<div class="line">  <span class="comment">// struct { num_chars, widths[2*n+1]; }</span></div>
<div class="line">  <a class="code" href="a00397.html">WIDTH_RECORD</a> *char_widths = (<a class="code" href="a00397.html">WIDTH_RECORD</a>*) <a class="code" href="a00786.html#a5898fbe61f6ffe4c1be71a107193cdfd">memalloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*num_chars*2);</div>
<div class="line">  char_widths-&gt;<a class="code" href="a00397.html#ab6a41176580d08b8e2389aa9ce6e26ad">num_chars</a> = num_chars;</div>
<div class="line"></div>
<div class="line">  <span class="keywordtype">int</span> first_blob = 0;</div>
<div class="line">  <span class="keywordtype">int</span> last_blob;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt;= num_chars; i++) {</div>
<div class="line">    last_blob = (i &gt; chunks[0]) ? <a class="code" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a> : first_blob + chunks[i];</div>
<div class="line"></div>
<div class="line">    char_widths-&gt;<a class="code" href="a00397.html#a3d7464eb423f5e10dbb3bb2d7b4b26f1">widths</a>[2*i-2] =</div>
<div class="line">      <a class="code" href="a00041.html#a3837f65de5a035f815172585412e6023">AssociateUtils::GetChunksWidth</a>(chunk_widths, first_blob, last_blob);</div>
<div class="line">    <span class="keywordflow">if</span> (i &lt;= chunks[0]) {</div>
<div class="line">      char_widths-&gt;<a class="code" href="a00397.html#a3d7464eb423f5e10dbb3bb2d7b4b26f1">widths</a>[2*i-1] =</div>
<div class="line">        <a class="code" href="a00041.html#a0afb66af80c912a79c20385eba26927d">AssociateUtils::GetChunksGap</a>(chunk_widths, last_blob);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a2d79e213378c782ac3de5e92ae2ee41c">segment_adjust_debug</a> &gt; 3)</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;width_record[%d]s%d--s%d(%d) %d %d:%d\n&quot;</span>,</div>
<div class="line">              i-1, first_blob, last_blob, chunks[i],</div>
<div class="line">              char_widths-&gt;<a class="code" href="a00397.html#a3d7464eb423f5e10dbb3bb2d7b4b26f1">widths</a>[2*i-2], char_widths-&gt;<a class="code" href="a00397.html#a3d7464eb423f5e10dbb3bb2d7b4b26f1">widths</a>[2*i-1],</div>
<div class="line">              chunk_widths-&gt;<a class="code" href="a00397.html#a3d7464eb423f5e10dbb3bb2d7b4b26f1">widths</a>[2*last_blob+1]);</div>
<div class="line">    first_blob = last_blob + 1;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00786.html#ab462a857e5edf360ae4881bcc92a0bcf">memfree</a>(chunks);</div>
<div class="line">  <span class="keywordflow">return</span> char_widths;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afaf3a51721ceaa661e9e1919d4ea48e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::try_point_pairs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>points</em>[MAX_NUM_POINTS], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>num_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00960.html#a0d8a3b6851b93dea4e0b7e7713ccf100">SEAM_QUEUE</a>&#160;</td>
          <td class="paramname"><em>seam_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00960.html#aead75573de3ab18b80b22a97ca124d99">SEAM_PILE</a> *&#160;</td>
          <td class="paramname"><em>seam_pile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> **&#160;</td>
          <td class="paramname"><em>seam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00346.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00959_source.html#l00512">512</a> of file <a class="el" href="a00959_source.html">findseam.cpp</a>.</p>
<div class="fragment"><div class="line">                                             {</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> x;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> y;</div>
<div class="line">  <a class="code" href="a00314.html">SPLIT</a> *split;</div>
<div class="line">  <a class="code" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> priority;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (x = 0; x &lt; num_points; x++) {</div>
<div class="line">    <span class="keywordflow">for</span> (y = x + 1; y &lt; num_points; y++) {</div>
<div class="line"></div>
<div class="line">      <span class="keywordflow">if</span> (points[y] &amp;&amp;</div>
<div class="line">          <a class="code" href="a00972.html#a4df928397c7bcfee5373a86d6f2f46da">weighted_edgept_dist</a>(points[x], points[y],</div>
<div class="line">                               <a class="code" href="a00401.html#a0db358c94208627661f5f1cf44ff9d28">chop_x_y_weight</a>) &lt; <a class="code" href="a00401.html#a14ec030cc0189e71e05ea6630a1abbf5">chop_split_length</a> &amp;&amp;</div>
<div class="line">          points[x] != points[y]-&gt;next &amp;&amp;</div>
<div class="line">          points[y] != points[x]-&gt;next &amp;&amp;</div>
<div class="line">          !<a class="code" href="a00974.html#a6c0c70cebe2f185d69900780b4695f8c">is_exterior_point</a>(points[x], points[y]) &amp;&amp;</div>
<div class="line">          !<a class="code" href="a00974.html#a6c0c70cebe2f185d69900780b4695f8c">is_exterior_point</a>(points[y], points[x])) {</div>
<div class="line">        split = <a class="code" href="a00542.html#a1a2a3ae46393d911b723c12107dc0183">new_split</a> (points[x], points[y]);</div>
<div class="line">        priority = <a class="code" href="a00962.html#a89f8eb5089f8bf157471ccab31e5c54b">partial_split_priority</a> (split);</div>
<div class="line"></div>
<div class="line">        <a class="code" href="a00401.html#afa230ef31fc03aff58ebd4d2de2df68b">choose_best_seam</a>(seam_queue, seam_pile, split, priority, seam, blob);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2f5dad2d83fa6f5b28819f13eabf41ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::try_vertical_splits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>points</em>[MAX_NUM_POINTS], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>&#160;</td>
          <td class="paramname"><em>num_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EDGEPT_CLIST *&#160;</td>
          <td class="paramname"><em>new_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00960.html#a0d8a3b6851b93dea4e0b7e7713ccf100">SEAM_QUEUE</a>&#160;</td>
          <td class="paramname"><em>seam_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00960.html#aead75573de3ab18b80b22a97ca124d99">SEAM_PILE</a> *&#160;</td>
          <td class="paramname"><em>seam_pile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00541.html#a7f3de671d0bee84bd93f4814ca3b7e88">SEAM</a> **&#160;</td>
          <td class="paramname"><em>seam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00346.html">TBLOB</a> *&#160;</td>
          <td class="paramname"><em>blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00959_source.html#l00554">554</a> of file <a class="el" href="a00959_source.html">findseam.cpp</a>.</p>
<div class="fragment"><div class="line">                                                {</div>
<div class="line">  <a class="code" href="a00135.html">EDGEPT</a> *vertical_point = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">  <a class="code" href="a00314.html">SPLIT</a> *split;</div>
<div class="line">  <a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> x;</div>
<div class="line">  <a class="code" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> priority;</div>
<div class="line">  <a class="code" href="a00365.html">TESSLINE</a> *outline;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (x = 0; x &lt; num_points; x++) {</div>
<div class="line">    vertical_point = <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">    <span class="keywordflow">for</span> (outline = blob-&gt;<a class="code" href="a00346.html#a3c9282cad4102157d214bcc6311cda07">outlines</a>; outline; outline = outline-&gt;<a class="code" href="a00365.html#a0fb224d43ea53a791f0957fa92793bef">next</a>) {</div>
<div class="line">      <a class="code" href="a00401.html#ac3557f7f8e9b02f6b2fea05e2320cd1d">vertical_projection_point</a>(points[x], outline-&gt;<a class="code" href="a00365.html#a0ab1e26b1dae548f0bd3c096c6183b18">loop</a>,</div>
<div class="line">                                &amp;vertical_point, new_points);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (vertical_point &amp;&amp;</div>
<div class="line">      points[x] != vertical_point-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a> &amp;&amp;</div>
<div class="line">      vertical_point != points[x]-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a> &amp;&amp;</div>
<div class="line">      <a class="code" href="a00972.html#a4df928397c7bcfee5373a86d6f2f46da">weighted_edgept_dist</a>(points[x], vertical_point,</div>
<div class="line">                           <a class="code" href="a00401.html#a0db358c94208627661f5f1cf44ff9d28">chop_x_y_weight</a>) &lt; <a class="code" href="a00401.html#a14ec030cc0189e71e05ea6630a1abbf5">chop_split_length</a>) {</div>
<div class="line"></div>
<div class="line">      split = <a class="code" href="a00542.html#a1a2a3ae46393d911b723c12107dc0183">new_split</a> (points[x], vertical_point);</div>
<div class="line">      priority = <a class="code" href="a00962.html#a89f8eb5089f8bf157471ccab31e5c54b">partial_split_priority</a> (split);</div>
<div class="line"></div>
<div class="line">      <a class="code" href="a00401.html#afa230ef31fc03aff58ebd4d2de2df68b">choose_best_seam</a>(seam_queue, seam_pile, split, priority, seam, blob);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a63db9b85fa1350dfccfd4d6e548290d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::update_blob_classifications </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00381.html">TWERD</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>choices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00984_source.html#l00152">152</a> of file <a class="el" href="a00984_source.html">wordclass.cpp</a>.</p>
<div class="fragment"><div class="line">                                                         {</div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a> *tblob = word-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>;</div>
<div class="line">  <span class="keywordtype">int</span> index = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (; tblob != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; index &lt; choices.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>();</div>
<div class="line">       tblob = tblob-&gt;<a class="code" href="a00346.html#a88a541f55c8bfd63a9f0c419189499bb">next</a>, index++) {</div>
<div class="line">    <a class="code" href="a00401.html#a7518e041a8ddab1d1a2b7e609553b8e3">blob_match_table</a>.<a class="code" href="a00054.html#a10f7ba42d7354631474857fdd54af94f">add_to_match</a>(tblob, choices.<a class="code" href="a00175.html#a33070cfea2a16a20c6b30bbcfecd8ecc">get</a>(index));</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1a00e14baaad0a404bb90ac8fe4663f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::update_ratings </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> &amp;&#160;</td>
          <td class="paramname"><em>new_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00088.html">CHUNKS_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunks_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00810.html#afeb312869cc56f5a20c6f3dcb65644cc">SEARCH_STATE</a>&#160;</td>
          <td class="paramname"><em>search_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6bac0a6462577e2e1057057f03901a33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::UpdateSegSearchNodes </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>starting_col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SEG_SEARCH_PENDING_LIST *&#160;</td>
          <td class="paramname"><em>pending</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00046.html">BestPathByColumn</a> *&#160;</td>
          <td class="paramname"><em>best_path_by_column</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00088.html">CHUNKS_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunks_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00180.html">HEAP</a> *&#160;</td>
          <td class="paramname"><em>pain_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00045.html">BestChoiceBundle</a> *&#160;</td>
          <td class="paramname"><em>best_choice_bundle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00050.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00982_source.html#l00186">186</a> of file <a class="el" href="a00982_source.html">segsearch.cpp</a>.</p>
<div class="fragment"><div class="line">                                 {</div>
<div class="line">  <a class="code" href="a00228.html">MATRIX</a> *ratings = chunks_record-&gt;<a class="code" href="a00088.html#a0b28a4ba4a1c931ed994847db83e0ef5">ratings</a>;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> col = starting_col; col &lt; ratings-&gt;<a class="code" href="a00174.html#acaa00626e03fae7b31f5f08f7f48005b">dimension</a>(); ++col) {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a30bd78320448ef425666157d2ff672db">segsearch_debug_level</a> &gt; 0) {</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;\n\nUpdateSegSearchNodes: evaluate children in col=%d\n&quot;</span>, col);</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// Iterate over the pending list for this column.</span></div>
<div class="line">    SEG_SEARCH_PENDING_LIST *pending_list = &amp;((*pending)[col]);</div>
<div class="line">    SEG_SEARCH_PENDING_IT pending_it(pending_list);</div>
<div class="line">    <a class="code" href="a00175.html">GenericVector&lt;int&gt;</a> non_empty_rows;</div>
<div class="line">    <span class="keywordflow">while</span> (!pending_it.empty()) {</div>
<div class="line">      <span class="comment">// Update language model state of this child+parent pair.</span></div>
<div class="line">      <a class="code" href="a00302.html">SEG_SEARCH_PENDING</a> *p = pending_it.extract();</div>
<div class="line">      <span class="keywordflow">if</span> (non_empty_rows.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>() == 0 ||</div>
<div class="line">          non_empty_rows[non_empty_rows.<a class="code" href="a00175.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>()-1] != p-&gt;<a class="code" href="a00302.html#a23c23673b30de59bbea85026226c0574">child_row</a>) {</div>
<div class="line">        non_empty_rows.<a class="code" href="a00175.html#a0dc89fe2a365b04a61017f9d78c1a303">push_back</a>(p-&gt;<a class="code" href="a00302.html#a23c23673b30de59bbea85026226c0574">child_row</a>);</div>
<div class="line">      }</div>
<div class="line">      BLOB_CHOICE_LIST *current_node = ratings-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(col, p-&gt;<a class="code" href="a00302.html#a23c23673b30de59bbea85026226c0574">child_row</a>);</div>
<div class="line">      <a class="code" href="a00995.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a> new_changed =</div>
<div class="line">        <a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a>-&gt;<a class="code" href="a00214.html#a6e71e759889a7f6b33088a273208fbf9">UpdateState</a>(p-&gt;<a class="code" href="a00302.html#a24b162a87d559d04dbe998ab1da571f9">changed</a>, col, p-&gt;<a class="code" href="a00302.html#a23c23673b30de59bbea85026226c0574">child_row</a>,</div>
<div class="line">                                     current_node, p-&gt;<a class="code" href="a00302.html#aa392a894841d0ca0e37d1ef324778364">parent</a>, pain_points,</div>
<div class="line">                                     best_path_by_column, chunks_record,</div>
<div class="line">                                     best_choice_bundle, blamer_bundle);</div>
<div class="line">      <span class="keywordflow">if</span> (new_changed) {</div>
<div class="line">        <span class="comment">// Since the language model state of this entry changed, add all the</span></div>
<div class="line">        <span class="comment">// pairs with it as a parent and each of its children to pending, so</span></div>
<div class="line">        <span class="comment">// that the children are updated as well.</span></div>
<div class="line">        <span class="keywordtype">int</span> child_col = p-&gt;<a class="code" href="a00302.html#a23c23673b30de59bbea85026226c0574">child_row</a> + 1;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> child_row = child_col;</div>
<div class="line">             child_row &lt; ratings-&gt;<a class="code" href="a00174.html#acaa00626e03fae7b31f5f08f7f48005b">dimension</a>(); ++child_row) {</div>
<div class="line">          <span class="keywordflow">if</span> (ratings-&gt;<a class="code" href="a00173.html#ac2361d09d80314d64330578d8e162566">get</a>(child_col, child_row) != <a class="code" href="a00502.html#a5c21a86b19e78482e6c7384c47c2457d">NOT_CLASSIFIED</a>) {</div>
<div class="line">            <a class="code" href="a00302.html">SEG_SEARCH_PENDING</a> *new_pending =</div>
<div class="line">              <span class="keyword">new</span> <a class="code" href="a00302.html">SEG_SEARCH_PENDING</a>(child_row, current_node, 0);</div>
<div class="line">            <a class="code" href="a00302.html">SEG_SEARCH_PENDING</a> *actual_new_pending =</div>
<div class="line">              <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="a00302.html">SEG_SEARCH_PENDING</a> *<span class="keyword">&gt;</span>(</div>
<div class="line">                  (*pending)[child_col].add_sorted_and_find(</div>
<div class="line">                  <a class="code" href="a00302.html#a5b59162836f4c12d641f19298d96daba">SEG_SEARCH_PENDING::compare</a>, <span class="keyword">true</span>, new_pending));</div>
<div class="line">            <span class="keywordflow">if</span> (new_pending != actual_new_pending) <span class="keyword">delete</span> new_pending;</div>
<div class="line">            actual_new_pending-&gt;<a class="code" href="a00302.html#a24b162a87d559d04dbe998ab1da571f9">changed</a> |= new_changed;</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a30bd78320448ef425666157d2ff672db">segsearch_debug_level</a> &gt; 0) {</div>
<div class="line">                  <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Added child(col=%d row=%d) parent(col=%d row=%d)&quot;</span></div>
<div class="line">                          <span class="stringliteral">&quot; changed=0x%x to pending\n&quot;</span>, child_col,</div>
<div class="line">                          actual_new_pending-&gt;<a class="code" href="a00302.html#a23c23673b30de59bbea85026226c0574">child_row</a>,</div>
<div class="line">                          col, p-&gt;<a class="code" href="a00302.html#a23c23673b30de59bbea85026226c0574">child_row</a>, actual_new_pending-&gt;<a class="code" href="a00302.html#a24b162a87d559d04dbe998ab1da571f9">changed</a>);</div>
<div class="line">            }</div>
<div class="line">          }</div>
<div class="line">        }</div>
<div class="line">      }  <span class="comment">// end if new_changed</span></div>
<div class="line">      <span class="keyword">delete</span> p;  <span class="comment">// clean up</span></div>
<div class="line">      pending_it.forward();</div>
<div class="line">    } <span class="comment">// end while !pending_it.empty()</span></div>
<div class="line">    <a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a>-&gt;<a class="code" href="a00214.html#ac679885b93a64ab878e97d77c5b043ce">GeneratePainPointsFromColumn</a>(</div>
<div class="line">      col, non_empty_rows, best_choice_bundle-&gt;best_choice-&gt;certainty(),</div>
<div class="line">      pain_points, best_path_by_column, chunks_record);</div>
<div class="line">  }  <span class="comment">// end for col</span></div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (best_choice_bundle-&gt;updated) {</div>
<div class="line">    <a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a>-&gt;<a class="code" href="a00214.html#a9ffdb916d868e062f46ed91801b10e48">GeneratePainPointsFromBestChoice</a>(</div>
<div class="line">        pain_points, chunks_record, best_choice_bundle);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00401.html#a3d9fc3b086e0f174a2cd602ea8f421c6">language_model_</a>-&gt;<a class="code" href="a00214.html#abb338f9a344adee6b70d0d3a4b84324c">CleanUp</a>();</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3557f7f8e9b02f6b2fea05e2320cd1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::Wordrec::vertical_projection_point </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>split_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> *&#160;</td>
          <td class="paramname"><em>target_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00135.html">EDGEPT</a> **&#160;</td>
          <td class="paramname"><em>best_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EDGEPT_CLIST *&#160;</td>
          <td class="paramname"><em>new_points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00951_source.html#l00332">332</a> of file <a class="el" href="a00951_source.html">chop.cpp</a>.</p>
<div class="fragment"><div class="line">                                                                  {</div>
<div class="line">  <a class="code" href="a00135.html">EDGEPT</a> *p;                     <span class="comment">/* Iterator */</span></div>
<div class="line">  <a class="code" href="a00135.html">EDGEPT</a> *this_edgept;           <span class="comment">/* Iterator */</span></div>
<div class="line">  EDGEPT_C_IT new_point_it(new_points);</div>
<div class="line">  <span class="keywordtype">int</span> x = split_point-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a>;    <span class="comment">/* X value of vertical */</span></div>
<div class="line">  <span class="keywordtype">int</span> best_dist = <a class="code" href="a00974.html#ac87c2b737a7dd17133a4936ee1427296">LARGE_DISTANCE</a>;<span class="comment">/* Best point found */</span></div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (*best_point != <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">    best_dist = <a class="code" href="a00974.html#a61f9385343feb503e1ed9806925fcbee">edgept_dist</a>(split_point, *best_point);</div>
<div class="line"></div>
<div class="line">  p = target_point;</div>
<div class="line">  <span class="comment">/* Look at each edge point */</span></div>
<div class="line">  <span class="keywordflow">do</span> {</div>
<div class="line">    <span class="keywordflow">if</span> ((((p-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> &lt;= x) &amp;&amp; (x &lt;= p-&gt;next-&gt;pos.x)) ||</div>
<div class="line">      ((p-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>.<a class="code" href="a00375.html#aa9c98655c3a2a0437821e5a3d3418b0f">x</a> &lt;= x) &amp;&amp; (x &lt;= p-&gt;pos.x))) &amp;&amp;</div>
<div class="line">      !<a class="code" href="a00974.html#a904fe4010d6b74e15b566c5a9b04b9e4">same_point</a> (split_point-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>, p-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>) &amp;&amp;</div>
<div class="line">      !<a class="code" href="a00974.html#a904fe4010d6b74e15b566c5a9b04b9e4">same_point</a> (split_point-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>, p-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>)</div>
<div class="line">    &amp;&amp; (*best_point == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || !<a class="code" href="a00974.html#a904fe4010d6b74e15b566c5a9b04b9e4">same_point</a> ((*best_point)-&gt;pos, p-&gt;<a class="code" href="a00135.html#adee462d390e637a8393ba373c8d2a1bb">pos</a>))) {</div>
<div class="line"></div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a746f8a2ed6b50a3669a2fe6dcd053eec">near_point</a>(split_point, p, p-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>, &amp;this_edgept)) {</div>
<div class="line">        new_point_it.add_before_then_move(this_edgept);</div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">      <span class="keywordflow">if</span> (*best_point == <a class="code" href="a00577.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line">        best_dist = <a class="code" href="a00974.html#a61f9385343feb503e1ed9806925fcbee">edgept_dist</a> (split_point, this_edgept);</div>
<div class="line"></div>
<div class="line">      this_edgept =</div>
<div class="line">        <a class="code" href="a00401.html#a79aec1d9a1c9c001a24838117585091a">pick_close_point</a>(split_point, this_edgept, &amp;best_dist);</div>
<div class="line">      <span class="keywordflow">if</span> (this_edgept)</div>
<div class="line">        *best_point = this_edgept;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    p = p-&gt;<a class="code" href="a00135.html#a196f7786194752f89e364a586d24884d">next</a>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">while</span> (p != target_point);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e963a2c089d890de52254b85b2c0cac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> tesseract::Wordrec::width_priority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00088.html">CHUNKS_RECORD</a> *&#160;</td>
          <td class="paramname"><em>chunks_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00316.html">STATE</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_joints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00963_source.html#l00222">222</a> of file <a class="el" href="a00963_source.html">heuristic.cpp</a>.</p>
<div class="fragment"><div class="line">                                                {</div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> penalty = 0.0;</div>
<div class="line">  <a class="code" href="a00397.html">WIDTH_RECORD</a> *width_rec = <a class="code" href="a00401.html#a20332a4dd1d38ef7c6bf04d8dd4a98b7">state_char_widths</a>(chunks_record-&gt;<a class="code" href="a00088.html#a3ac3e771d771818dff8eed190d11d50f">chunk_widths</a>,</div>
<div class="line">                                              state, <a class="code" href="a00401.html#a488e4047c19dcd34c6ce55fa08731565">num_joints</a>);</div>
<div class="line">  <span class="comment">// When baseline_enable==True, which is the current default for Tesseract,</span></div>
<div class="line">  <span class="comment">// a fixed value of 128 (BASELINE_SCALE) is always used.</span></div>
<div class="line">  <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> normalizing_height = <a class="code" href="a00621.html#abe1dbc548d1afb0cf12686a897142bd3">BASELINE_SCALE</a>;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a613a7dc22729f2cb084bc7093a0a4088">assume_fixed_pitch_char_segment</a>) {</div>
<div class="line">    <span class="comment">// For fixed pitch language like CJK, we use the full text height as the</span></div>
<div class="line">    <span class="comment">// normalizing factor so we are not dependent on xheight calculation.</span></div>
<div class="line">    <span class="comment">// In the normalized coord. xheight * scale == BASELINE_SCALE(128),</span></div>
<div class="line">    <span class="comment">// so add proportionally scaled ascender zone to get full text height.</span></div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="a00126.html">DENORM</a>&amp; denorm = chunks_record-&gt;<a class="code" href="a00088.html#aa3826aaf2a5a7a76b000859ace1f8602">word_res</a>-&gt;<a class="code" href="a00396.html#a202d9d5d2a462d84012011c689e16605">denorm</a>;</div>
<div class="line">    normalizing_height = denorm.<a class="code" href="a00126.html#a712ca9b7a1041d92e53ee7023b870fc6">y_scale</a>() *</div>
<div class="line">        (denorm.<a class="code" href="a00126.html#a116df350550742ddb7a905825e94d411">row</a>()-&gt;<a class="code" href="a00284.html#a2954f94ec4eefe1e3729912e5b8ea779">x_height</a>() + denorm.<a class="code" href="a00126.html#a116df350550742ddb7a905825e94d411">row</a>()-&gt;<a class="code" href="a00284.html#a594cf3a3fd6dd203c8d0e58aa0c5227f">ascenders</a>());</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a2d79e213378c782ac3de5e92ae2ee41c">segment_adjust_debug</a> &gt; 1)</div>
<div class="line">      <a class="code" href="a00607.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;WidthPriority: %f %f normalizing height = %f\n&quot;</span>,</div>
<div class="line">              denorm.<a class="code" href="a00126.html#a116df350550742ddb7a905825e94d411">row</a>()-&gt;<a class="code" href="a00284.html#a2954f94ec4eefe1e3729912e5b8ea779">x_height</a>(), denorm.<a class="code" href="a00126.html#a116df350550742ddb7a905825e94d411">row</a>()-&gt;<a class="code" href="a00284.html#a594cf3a3fd6dd203c8d0e58aa0c5227f">ascenders</a>(),</div>
<div class="line">              normalizing_height);</div>
<div class="line">    <span class="comment">// Impose additional segmentation penalties if blob widths or gaps</span></div>
<div class="line">    <span class="comment">// distribution don&#39;t fit a fixed-pitch model.</span></div>
<div class="line">    <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> width_var = <a class="code" href="a00401.html#ac0868afc87448dc583dad4d67dd8b1a8">get_width_variance</a>(width_rec, normalizing_height);</div>
<div class="line">    <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> gap_var = <a class="code" href="a00401.html#ad77b8ca8f655ae0bfe16f352f3d01830">get_gap_variance</a>(width_rec, normalizing_height);</div>
<div class="line">    penalty += width_var;</div>
<div class="line">    penalty += gap_var;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; width_rec-&gt;<a class="code" href="a00397.html#ab6a41176580d08b8e2389aa9ce6e26ad">num_chars</a>; x++) {</div>
<div class="line">    <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> squat = width_rec-&gt;<a class="code" href="a00397.html#a3d7464eb423f5e10dbb3bb2d7b4b26f1">widths</a>[2*x];</div>
<div class="line">    <a class="code" href="a00577.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> gap = (x &lt; width_rec-&gt;<a class="code" href="a00397.html#ab6a41176580d08b8e2389aa9ce6e26ad">num_chars</a>-1) ? width_rec-&gt;<a class="code" href="a00397.html#a3d7464eb423f5e10dbb3bb2d7b4b26f1">widths</a>[2*x+1] : 0;</div>
<div class="line">    squat /= normalizing_height;</div>
<div class="line">    gap /= normalizing_height;</div>
<div class="line">    if (<a class="code" href="a00401.html#a613a7dc22729f2cb084bc7093a0a4088">assume_fixed_pitch_char_segment</a>) {</div>
<div class="line">      penalty += <a class="code" href="a00041.html#ad70d4139f63f9d5048faa8407058523f">AssociateUtils::FixedPitchWidthCost</a>(</div>
<div class="line">          squat, 0.0<a class="code" href="a00428.html#a469169df397b589e709dc744f1346831">f</a>, x == 0 || x == width_rec-&gt;<a class="code" href="a00397.html#ab6a41176580d08b8e2389aa9ce6e26ad">num_chars</a> -1,</div>
<div class="line">          <a class="code" href="a00401.html#a3083609f8ad7c4895647674956163c04">heuristic_max_char_wh_ratio</a>);</div>
<div class="line">      penalty += <a class="code" href="a00041.html#a541c5e136929e994469c7c51ac40b2b7">AssociateUtils::FixedPitchGapCost</a>(</div>
<div class="line">          gap, x == width_rec-&gt;<a class="code" href="a00397.html#ab6a41176580d08b8e2389aa9ce6e26ad">num_chars</a> - 1);</div>
<div class="line">      <span class="keywordflow">if</span> (width_rec-&gt;<a class="code" href="a00397.html#ab6a41176580d08b8e2389aa9ce6e26ad">num_chars</a> == 1 &amp;&amp;</div>
<div class="line">          squat &gt; <a class="code" href="a00041.html#a3bbebfa62ab6a7838649af61e9ef965f">AssociateUtils::kMaxFixedPitchCharAspectRatio</a>) {</div>
<div class="line">        penalty += 10;</div>
<div class="line">      }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      <span class="comment">// Original equation when</span></div>
<div class="line">      <span class="comment">// heuristic_max_char_ratio == AssociateUtils::kMaxSquat</span></div>
<div class="line">      <span class="keywordflow">if</span> (squat &gt; <a class="code" href="a00401.html#a3083609f8ad7c4895647674956163c04">heuristic_max_char_wh_ratio</a>)</div>
<div class="line">        penalty += squat - <a class="code" href="a00401.html#a3083609f8ad7c4895647674956163c04">heuristic_max_char_wh_ratio</a>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00476.html#a08481bc89b6e24355aaa1a3785eb5840">free_widths</a>(width_rec);</div>
<div class="line">  <span class="keywordflow">return</span> (penalty);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3581245a7778654f6fd22c4b3721cf06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00228.html">MATRIX</a> * tesseract::Wordrec::word_associator </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>only_create_ratings_matrtix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00396.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00316.html">STATE</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00535.html#a78a6d74d56415802d31e350314b23e65">BLOB_CHOICE_LIST_VECTOR</a> *&#160;</td>
          <td class="paramname"><em>best_char_choices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00812.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *&#160;</td>
          <td class="paramname"><em>fixpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00316.html">STATE</a> *&#160;</td>
          <td class="paramname"><em>best_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00953_source.html#l00984">984</a> of file <a class="el" href="a00953_source.html">chopper.cpp</a>.</p>
<div class="fragment"><div class="line">                                                    {</div>
<div class="line">  <a class="code" href="a00088.html">CHUNKS_RECORD</a> chunks_record;</div>
<div class="line">  <a class="code" href="a00948.html#a72105980380289d1263c5a5058472a7e">BLOB_WEIGHTS</a> blob_weights;</div>
<div class="line">  <span class="keywordtype">int</span> x;</div>
<div class="line">  <span class="keywordtype">int</span> num_chunks;</div>
<div class="line">  BLOB_CHOICE_IT blob_choice_it;</div>
<div class="line"></div>
<div class="line">  num_chunks = <a class="code" href="a00798.html#a89ee8010120771c8612dc7058b327f84">array_count</a>(word-&gt;<a class="code" href="a00396.html#adefe2273d7f4b36fcbe7ae420bfd077a">seam_array</a>) + 1;</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00346.html">TBLOB</a>* blobs = word-&gt;<a class="code" href="a00396.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="a00381.html#aeec31d57df04c8dac1cf3e6990d358a7">blobs</a>;</div>
<div class="line">  chunks_record.<a class="code" href="a00088.html#a0b28a4ba4a1c931ed994847db83e0ef5">ratings</a> = <a class="code" href="a00401.html#a9f070b021f06de480fda80a61a772d47">record_piece_ratings</a>(blobs);</div>
<div class="line">  chunks_record.<a class="code" href="a00088.html#a953645d7dbb5789cf5feb918df3e914e">chunks</a> = blobs;</div>
<div class="line">  chunks_record.<a class="code" href="a00088.html#aa3826aaf2a5a7a76b000859ace1f8602">word_res</a> = word;</div>
<div class="line">  chunks_record.<a class="code" href="a00088.html#aca32a87e5f9e4d04777ca3551b65b27c">splits</a> = word-&gt;<a class="code" href="a00396.html#adefe2273d7f4b36fcbe7ae420bfd077a">seam_array</a>;</div>
<div class="line">  chunks_record.<a class="code" href="a00088.html#a3ac3e771d771818dff8eed190d11d50f">chunk_widths</a> = <a class="code" href="a00475.html#ac62acb187b8e5401eb56032b3eebef09">blobs_widths</a>(blobs);</div>
<div class="line">  chunks_record.<a class="code" href="a00088.html#a1e5c641f46ccb7f464def3678de715d3">char_widths</a> = <a class="code" href="a00475.html#ac62acb187b8e5401eb56032b3eebef09">blobs_widths</a>(blobs);</div>
<div class="line">  <span class="comment">/* Save chunk weights */</span></div>
<div class="line">  <span class="keywordflow">for</span> (x = 0; x &lt; num_chunks; x++) {</div>
<div class="line">    BLOB_CHOICE_LIST* choices = <a class="code" href="a00401.html#aab16c53ccf9c888874c2e7ae65b6ed04">get_piece_rating</a>(chunks_record.<a class="code" href="a00088.html#a0b28a4ba4a1c931ed994847db83e0ef5">ratings</a>, blobs,</div>
<div class="line">                                                 chunks_record.<a class="code" href="a00088.html#aa3826aaf2a5a7a76b000859ace1f8602">word_res</a>-&gt;<a class="code" href="a00396.html#a202d9d5d2a462d84012011c689e16605">denorm</a>,</div>
<div class="line">                                                 word-&gt;<a class="code" href="a00396.html#adefe2273d7f4b36fcbe7ae420bfd077a">seam_array</a>, x, x,</div>
<div class="line">                                                 word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>);</div>
<div class="line">    blob_choice_it.set_to_list(choices);</div>
<div class="line">    <span class="comment">//This is done by Jetsoft. Divide by zero is possible.</span></div>
<div class="line">    <span class="keywordflow">if</span> (blob_choice_it.data()-&gt;certainty() == 0) {</div>
<div class="line">      blob_weights[x]=0;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      blob_weights[x] =</div>
<div class="line">        -(<a class="code" href="a00577.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a>) (10 * blob_choice_it.data()-&gt;rating() /</div>
<div class="line">                  blob_choice_it.data()-&gt;certainty());</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  chunks_record.<a class="code" href="a00088.html#afa46370f180659bdd3be60d7d4ed21ed">weights</a> = blob_weights;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="a00401.html#a3f1c04cfbc1650eae6fc981984717248">chop_debug</a>)</div>
<div class="line">    chunks_record.<a class="code" href="a00088.html#a0b28a4ba4a1c931ed994847db83e0ef5">ratings</a>-&gt;<a class="code" href="a00228.html#ae0f2489acb8b15666cb306f82ad2c6de">print</a>(<a class="code" href="a00091.html#a83e4207353a1bb07adfaa6a82a74c9ce">getDict</a>().getUnicharset());</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (!only_create_ratings_matrix) {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="a00401.html#ae9c39326c0ed2eaf67c30939714616ba">enable_new_segsearch</a>) {</div>
<div class="line">      <a class="code" href="a00401.html#aea3997058b7c1683957d275d17bc20d6">SegSearch</a>(&amp;chunks_record, word-&gt;<a class="code" href="a00396.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a>,</div>
<div class="line">                best_char_choices, word-&gt;<a class="code" href="a00396.html#ab4d02a7548dab0a4522f02ed90e48100">raw_choice</a>,</div>
<div class="line">                state, word-&gt;<a class="code" href="a00396.html#a267e5d5e9fe67117e47223c5d336b8ba">blamer_bundle</a>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      <a class="code" href="a00401.html#ad717bb181d1b89496be0b042347d9753">best_first_search</a>(&amp;chunks_record, best_char_choices, word,</div>
<div class="line">                        state, fixpt, best_state);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <a class="code" href="a00476.html#a08481bc89b6e24355aaa1a3785eb5840">free_widths</a>(chunks_record.<a class="code" href="a00088.html#a3ac3e771d771818dff8eed190d11d50f">chunk_widths</a>);</div>
<div class="line">  <a class="code" href="a00476.html#a08481bc89b6e24355aaa1a3785eb5840">free_widths</a>(chunks_record.<a class="code" href="a00088.html#a1e5c641f46ccb7f464def3678de715d3">char_widths</a>);</div>
<div class="line">  <span class="keywordflow">return</span> chunks_record.<a class="code" href="a00088.html#a0b28a4ba4a1c931ed994847db83e0ef5">ratings</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a613a7dc22729f2cb084bc7093a0a4088"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::assume_fixed_pitch_char_segment = <a class="el" href="a00777.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"include fixed-pitch heuristics in char segmentation" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00126">126</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="acd86faf2d9076330828b3738d39c6ecd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00175.html">GenericVector</a>&lt;int&gt; tesseract::Wordrec::blame_reasons_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00987_source.html#l00508">508</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7518e041a8ddab1d1a2b7e609553b8e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00054.html">BlobMatchTable</a> tesseract::Wordrec::blob_match_table</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00987_source.html#l00501">501</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7b115ea8fffc0f54152d294c71da964d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::chop_center_knob = 0.15</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Split center adjustment" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00118">118</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3f1c04cfbc1650eae6fc981984717248"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::chop_debug = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Chop debug" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00108">108</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="adcf4728e9f36b1c55a024165a31ca2e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::chop_enable = 1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Chop enable" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00109">109</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad18f0e1c62f90e2be42190a720158862"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::chop_good_split = 50.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Good split limit" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00122">122</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab6afc69fe3401fb2ffd2ab64a19c8824"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::chop_inside_angle = -50</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Min Inside Angle Bend" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00114">114</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa87cc41f196b1779bec5e1040c4f857e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::chop_min_outline_area = 2000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Min Outline Area" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00115">115</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad9e49481be94c7fd0fb0a1a3f38ea605"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::chop_min_outline_points = 6</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Min Number of Points on Outline" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00113">113</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac696a875283d1ce3e888e1b63fd52d9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::chop_ok_split = 100.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"OK split limit" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00121">121</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad362b437458be7cc17aa39e01d36c17e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::chop_overlap_knob = 0.9</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Split overlap adjustment" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00117">117</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a542ce310766b22a01d277a0751c6986e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::chop_same_distance = 2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Same distance" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00112">112</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1e5af8d3ffa2cc52de487e7556a8fdf0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::chop_sharpness_knob = 0.06</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Split sharpness adjustment" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00119">119</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="aefabcf9d889b0465eb484fff5a09e93a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::chop_split_dist_knob = 0.5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Split length adjustment" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00116">116</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a14ec030cc0189e71e05ea6630a1abbf5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::chop_split_length = 10000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Split Length" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00111">111</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8914016a85c92a468b1d1da3eda53695"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::chop_vertical_creep = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Vertical creep" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00110">110</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa63e4f7808cf2b9a60a11012cb7aee01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::chop_width_change_knob = 5.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Width change adjustment" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00120">120</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0db358c94208627661f5f1cf44ff9d28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::chop_x_y_weight = 3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"X / Y  length weight" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00123">123</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae9c39326c0ed2eaf67c30939714616ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::enable_new_segsearch = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Enable new segmentation search path." </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00145">145</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7a4f5e2cb7957a5decbc91eb2d31f87c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(Wordrec::* tesseract::Wordrec::fill_lattice_)(const <a class="el" href="a00228.html">MATRIX</a> &amp;ratings, const <a class="el" href="a00407.html#aa200acf94add0e61783bfcd5965bb645">LIST</a> &amp;best_choices, const <a class="el" href="a00387.html">UNICHARSET</a> &amp;<a class="el" href="a00070.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>, <a class="el" href="a00050.html">BlamerBundle</a> *blamer_bundle)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00987_source.html#l00510">510</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a447f3fa5c50ca545e0a49887ee669ff8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::force_word_assoc = <a class="el" href="a00777.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"force associator to run regardless of what enable_assoc is." "This is used for CJK where component grouping is necessary." </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00101">101</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a62f9bd7c796160d6fad61ba616e67ead"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::fragments_guide_chopper = <a class="el" href="a00777.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Use information from fragments to guide chopping process" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00105">105</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3083609f8ad7c4895647674956163c04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::heuristic_max_char_wh_ratio = 2.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"max char width-to-height ratio allowed in segmentation" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00140">140</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a48537af11d756181ab3c13d14154ec3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::heuristic_segcost_rating_base = 1.25</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"base factor for adding segmentation cost into word rating." "It's a multiplying factor, the larger the value above 1, " "the bigger the effect of segmentation cost." </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00132">132</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6db610e3739b7660036de4498efd0cc4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::heuristic_weight_rating = 1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"weight associated with char rating in combined cost of state" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00134">134</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5305fb44c26a61863bb5f7b646fc5bd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::heuristic_weight_seamcut = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"weight associated with seam cut in combined cost of state" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00138">138</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae123123f79f4caa864aa437e93872551"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::heuristic_weight_width = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"weight associated with width evidence in combined cost of state" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00136">136</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3d9fc3b086e0f174a2cd602ea8f421c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00214.html">LanguageModel</a>* tesseract::Wordrec::language_model_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00987_source.html#l00495">495</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="af7a36436e7e7fd0691bc093814fc2b62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00948.html#ab48ca2435a6b02cde81b7554ce0160e3">EVALUATION_ARRAY</a> tesseract::Wordrec::last_segmentation</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00987_source.html#l00502">502</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0dcc862e7e80e66c451e8e98b534ca46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::merge_fragments_in_matrix = <a class="el" href="a00777.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Merge the fragments in the ratings matrix and delete them " "after merging" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00096">96</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a488e4047c19dcd34c6ce55fa08731565"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::num_joints</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00987_source.html#l00498">498</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="abc8f5ea0bc5278f6a3ba1f91b3e797e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::num_popped</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00987_source.html#l00500">500</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="af285813a72895f9b09f4e0f3021e721c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::num_pushed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00987_source.html#l00499">499</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a671c4b102b976c600adc3bf60ee44323"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00541.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> tesseract::Wordrec::pass2_ok_split</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00987_source.html#l00496">496</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="ade3cecfe9b377045db0abe2d06762c1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::pass2_seg_states</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00987_source.html#l00497">497</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a143608f482c6c0c4f312740e6a5f5fd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00395.html">WERD_CHOICE</a>* tesseract::Wordrec::prev_word_best_choice_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00987_source.html#l00506">506</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a34abe5c1b41feff68500d1b83a1f891d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::repair_unchopped_blobs = 1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Fix blobs that aren't chopped" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00106">106</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="acb91792cc7855324b0a6f495defe3218"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::save_alt_choices = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Save alternative paths found during chopping " "and segmentation search" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00158">158</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2d79e213378c782ac3de5e92ae2ee41c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::segment_adjust_debug = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Segmentation adjustment debug" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00124">124</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a30bd78320448ef425666157d2ff672db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::segsearch_debug_level = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"SegSearch debug level" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00146">146</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8fa843163c3e8785a957e422b9256d35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::segsearch_max_char_wh_ratio = 2.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Maximum character width-to-height ratio" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00152">152</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="acb3f291e547f6019e53c8eb0f3b48e70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::segsearch_max_fixed_pitch_char_wh_ratio = 2.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Maximum character width-to-height ratio for" "fixed pitch fonts" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00155">155</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7d7641f6361f78664fb541f5ce33fe1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::segsearch_max_futile_classifications = 10</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Maximum number of pain point classifications per word." </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00150">150</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0a0cfc9fb11d9ecf6961d0cc655f9070"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::segsearch_max_pain_points = 2000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Maximum number of pain points stored in the queue" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00148">148</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a57ae3e0529a624fd3677f96d5b43fcc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::tessedit_certainty_threshold = -2.25</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Good blob limit" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00107">107</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab5afccbd096fe5f2ce5e3a7ada77a698"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::use_new_state_cost = <a class="el" href="a00777.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"use new state cost heuristics for segmentation state evaluation" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00128">128</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a76e95cb7cbfe636ab00ec46150b5524d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::wordrec_debug_blamer = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Print blamer debug messages" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00142">142</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a15e6789d11062602e044c699bbd9b3aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::wordrec_debug_level = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Debug level for wordrec" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00141">141</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="aba19336c1e635f22b3c27024afd07fed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::wordrec_enable_assoc = <a class="el" href="a00777.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Associator Enable" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00098">98</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1d72dac6cc8ddbff1ba7c911d7d2d0bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::wordrec_no_block = <a class="el" href="a00777.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Don't output block information" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00097">97</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a57c3675d967208936be65a14e5b64c7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::Wordrec::wordrec_num_seg_states = 30</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Segmentation states" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00102">102</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5f360cd76704a08b03a4738a97e8457b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::Wordrec::wordrec_run_blamer = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Try to set the blame for errors" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00143">143</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<a class="anchor" id="abbb36fc5e6f3b89797c155cfce0b0841"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::Wordrec::wordrec_worst_state = 1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Worst segmentation state" </p>

<p>Definition at line <a class="el" href="a00987_source.html#l00103">103</a> of file <a class="el" href="a00987_source.html">wordrec.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/mnt/data/src/tesseract-ocr/wordrec/<a class="el" href="a00987_source.html">wordrec.h</a></li>
<li>/mnt/data/src/tesseract-ocr/wordrec/<a class="el" href="a00949_source.html">bestfirst.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/wordrec/<a class="el" href="a00951_source.html">chop.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/wordrec/<a class="el" href="a00953_source.html">chopper.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/wordrec/<a class="el" href="a00959_source.html">findseam.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/wordrec/<a class="el" href="a00961_source.html">gradechop.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/wordrec/<a class="el" href="a00963_source.html">heuristic.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/wordrec/<a class="el" href="a00973_source.html">outlines.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/wordrec/<a class="el" href="a00975_source.html">pieces.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/wordrec/<a class="el" href="a00982_source.html">segsearch.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/wordrec/<a class="el" href="a00983_source.html">tface.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/wordrec/<a class="el" href="a00984_source.html">wordclass.cpp</a></li>
<li>/mnt/data/src/tesseract-ocr/wordrec/<a class="el" href="a00986_source.html">wordrec.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a00995.html">tesseract</a></li><li class="navelem"><a class="el" href="a00401.html">Wordrec</a></li>
    <li class="footer">Generated on Thu Nov 1 2012 20:20:09 for Tesseract by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1 </li>
  </ul>
</div>
</body>
</html>
